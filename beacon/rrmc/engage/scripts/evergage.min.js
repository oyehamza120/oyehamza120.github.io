
window.evergageBeforeSiteConfigExecution = function() {
    try {
window.rrmc_url = function (t, cb) {
  if (location.pathname.indexOf(t) > -1) {
    cb();
  }
};

window.rrmc_cta_replace_by_overlay_id_map_exclude = function (id_to_html) {
  var found = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (
      var _iterator = window.rrmc_cta_manager[Symbol.iterator](), _step;
      !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
      _iteratorNormalCompletion = true
    ) {
      var cta = _step.value;
      for (
        var _i2 = 0, _Object$keys2 = Object.keys(id_to_html);
        _i2 < _Object$keys2.length;
        _i2++
      ) {
        var id = _Object$keys2[_i2];
        if (cta.cta && cta.cta.dataset.overlay === id) {
          if (id_to_html[id].condition ? id_to_html[id].condition(cta) : true) {
            if (!found[id]) found[id] = [];
            found[id].push(cta);
          }
        }
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  for (
    var _i = 0, _Object$keys = Object.keys(id_to_html);
    _i < _Object$keys.length;
    _i++
  ) {
    var _id = _Object$keys[_i];

    if (found[_id]) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (
          var _iterator2 = found[_id][Symbol.iterator](), _step2;
          !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done);
          _iteratorNormalCompletion2 = true
        ) {
          var _cta = _step2.value;
          // window.rrmc_cta_replace(_cta, id_to_html[_id].html(_cta));
          window.rrmc_update_cta(_cta, id_to_html[_id]);
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    }
  }
};

window.rrmc_update_cta = function (ctaContainer, replaceCta) {
  ctaContainer.cta.dataset.overlay =
    replaceCta.data.id || ctaContainer.cta.dataset.overlay;
  if (ctaContainer.ctaText) {
    ctaContainer.ctaText.innerHTML =
      replaceCta.data.title || ctaContainer.ctaText.innerHTML;
  }
};

window.rrmc_apply_triplet = function (triplet) {
  var ctas = Object.keys(triplet);
  var html_map = {};

  for (var i = 0; i < ctas.length; ++i) {
    var l_key = ctas[i];
    html_map[l_key] = {
      condition: triplet[l_key].condition,
      data: {
        id: triplet[l_key].id,
        title: triplet[l_key].title,
      },
    };
  }

  window.rrmc_cta_replace_by_overlay_id_map_exclude(html_map);
};

window.rrmc_apply_map = function (map) {
  for (var u = 0; u < map.length; ++u) {
    var experience = map[u];

    for (var i = 0; i < experience.url_set.length; ++i) {
      var l_url = experience.url_set[i];
      window.rrmc_url(
        l_url,
        (function (exp) {
          return function () {
            window.rrmc_apply_triplet(exp.experience);
          };
        })(experience)
      );
    }
  }
};


//RRMC - Start
window.Evergage.addCampaignResponseListener(function(messageResponses){
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
        event: "evergageCampaign",
        evergageCampaigns: messageResponses,
        timestamp: new Date().getTime()
    });
});

window.Evergage.addActionListener(function(action, object){
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({event: "evergageAction",
        evergageAction: action,
        evergageObject: object,
        timestamp: new Date().getTime()
    });
});
// RRMC - EN

function actionMap () {
    function setRegion () {
        actionMap.region = Evergage.util.extractFirstGroup(/\/en_(GB|US)\//i, window.location.pathname.toLocaleUpperCase());
    }

    function onClickEnquire () {
        if (actionMap.region) {
            Evergage.safeClick("button.global-enquire-button", function () {
                Evergage.trackAction(actionMap.region + " – Clicked Enquire");
            });
        }
    }

    function onClickFindADealer () {
        if (actionMap.region) {
            Evergage.safeClick("button.js-rrmc-enquire-cta-dealer-locator", function () {
                Evergage.trackAction(actionMap.region + " – Clicked Find A Dealer");
            });
        }
    }

    function onClickFindADealerSearch () {
        if (actionMap.region) {
            Evergage.safeClick("button.js-rrmc-dealer-submit-location", function () {
                Evergage.trackAction(actionMap.region + " – Find A Dealer - Clicked Search");
            });
        }
    }

    function onClickKeepMeInform () {
        if (actionMap.region) {
            Evergage.safeClick("button.rrmc-cta-component[data-overlay=g-keep-me-informed]", function () {
                Evergage.trackAction(actionMap.region + " – Clicked Keep Me Informed");
            });
        }
    }

    function onClickCommission () {
        if (actionMap.region) {
            Evergage.safeClick("a.rrmc-secondary-nav-models-link:contains(COMMISSION)", function () {
                Evergage.trackAction(actionMap.region + " – Clicked Commission");
            });
        }
    }

    function onClickContactASpecialist () {
        if (actionMap.region) {
            Evergage.safeClick("button[data-overlay=g-contact-an-advisor]", function () {
                Evergage.trackAction(actionMap.region + " – Clicked Contact A Specialist");
            });
        }
    }

    function contactASpecialistSubmit () {
        if (actionMap.region) {
            Evergage.safeClick('#contact-an-advisor', function (e) {
                if (ajq(e.target).closest('#contact-an-advisor button.js-rrmc-form-submit').length > 0) {
                    Evergage.util.runWhenReady(
                        function () {
                            return ajq("#js-rrmc-g-contact-an-advisor .js-rrmc-form-success.js-rrmc-form-endstate").length > 0;
                        },
                        function () {
                            var modelOfInterest = ajq.trim(ajq("select#modelOfInterest option:selected").val());
                            if (modelOfInterest) {
                                Evergage.setCustomField("modelOfInterest", modelOfInterest, Evergage.Scope.Request);
                            }
                            Evergage.trackAction(actionMap.region + " – Clicked Contact A Specialist Submit");
                        },
                        100,
                        50
                    );
                }
            });
        }
    }

    function onClickConfigureYours() {
        if (actionMap.region) {
            Evergage.safeClick("a:has(span:contains(Configure yours))", function (e) {
                Evergage.trackAction(actionMap.region + " – Clicked Configure yours");
            });
        }
    }

    function requestBrochureSubmit() {
        if (!actionMap.region) return;
        Evergage.safeClick("#request-brochure", function (e) {
            if (ajq(e.target).closest(".js-rrmc-form-submit").length <= 0) return;

            var data = {
                firstName: ajq.trim(ajq(this).find("input[name=firstName]").first().val()),
                brochureRegion: actionMap.region
            };

            ajq.extend(data,
                ajq("#request-brochure .js-rrmc-model-brochure .rrmc-form-checkbox-item:visible, #request-brochure .rrmc-form-checkbox-brand-list .rrmc-form-checkbox-item:visible")
                    .toArray()
                    .reduce(function (res, cur) {
                        var key = ajq.trim(ajq(cur).find('label').text()).replace(/\s/g, '');
                        key = key.charAt(0).toLowerCase() + key.slice(1);
                        var value = ajq(cur).find('input[type=checkbox]').is(':checked');
                        res[key] = value;
                        return res;
                    }, {})
            );

            if (ajq("#request-brochure:not(:has(span.rrmc-form-label-error:visible))").length > 0) {
                for (var key in data) {
                    if (!key) {
                        delete data[key];
                    } else {
                        Evergage.setCustomField(key, data[key], Evergage.Scope.Request);
                    }
                }
                Evergage.trackAction(actionMap.region + " – Brochure – Clicked Send Request");
            }
        });
    }
    
    function captureLeadIdOnFormSubmit() {
        Evergage.safeClick("body", function (e) {
            if (ajq(e.target).closest("form").length > 0) {
                clearInterval(actionMap.timer);
                actionMap.timer = Evergage.safeInterval(function () {
                    if (actionMap.dataLayerLength !== window.dataLayer.length) {
                        var leadId;
                        var i = dataLayer.length - 1;
                        var getCondition = function () {
                            return actionMap.previousLeadIdIndex ? actionMap.previousLeadIdIndex < i : 0 <= i
                        }
                        for (; getCondition(); i--) {
                            var data = dataLayer[i];
                            if (data.event === "formSubmit" && data.leadId) {
                                leadId = data.leadId;
                                break;
                            }
                        }
                        if (leadId) {
                            actionMap.previousLeadIdIndex = i;
                            Evergage.setCustomField("SFLeadId", leadId, Evergage.Scope.Request);
                            Evergage.trackAction("Capture LeadId");
                            clearInterval(actionMap.timer);
                        } else {
                            actionMap.previousLeadIdIndex = dataLayer.length - 1;
                        }
                    }
                    actionMap.dataLayerLength = window.dataLayer.length;
                }, 2000);
            }
        })
    }

    // action mapping
    [
        setRegion,
        onClickEnquire,
        onClickFindADealer,
        onClickFindADealerSearch,
        onClickKeepMeInform,
        onClickCommission,
        onClickContactASpecialist,
        onClickConfigureYours,
        contactASpecialistSubmit,
        requestBrochureSubmit,
        captureLeadIdOnFormSubmit
    ].forEach(function (fn) {
        try {
            fn();
        } catch (e) {
            Evergage.sendException(e, "Action Mapping");
        }
    });
}
actionMap();

function EvergageCatMap() {

    var that = this;
    var DO_NOT_TRUNCATE = {
        _id: true,
        type: true,
        tagType: true,
        price: true,
        inventoryCount: true,
        currency: true
    };

    var afterPageLoad = [];

    var DataType = {
        Product: "product",
        Blog: "blog",
        Article: "article",
        Category: "category",
        Order: "order",
        Tag: "tag"
    };

    var ItemAction = {
        ViewItem: "viewItem",
        ViewCategory: "viewCategory",
        Purchase: "purchase",
        viewItemOOS: "View Item Out Of Stock"
    };

    this.settings = {
        pageLoadWhenTrue: function() { return true; },
        pageLoadWhenTrueTimeout: 500,
        canonicalizeIds: true,
        truncateTranslated: true,
        setDefaultListPrice: true,
        runOnTranslatedPage: false,
        trimDescriptions: true
    };

    this.configs = [];

    var commonConfigHandlers = {
        openGraph: function (key) { return Evergage.util.getOpenGraphContent(key); },
        meta: function (key) { return Evergage.util.getMetaContent(key); },
        itemProp: function (key) { return Evergage.util.getItemProp(key); },
        canonical: function () { return Evergage.util.removeQueryString(Evergage.util.getThisPageCanonicalUrl()); },
        href: function () { return Evergage.util.removeQueryString(window.location.href); },
        lastPathComponentWithoutExtension: function() { return Evergage.util.getLastPathComponentWithoutExtension(window.location.href); },
        articleContent: function(key) { return Evergage.CatMap.getArticleContent(key); }
    };

    var itemConfigHandlers = {
        product: buildProduct,
        article: buildItem,
        blog: buildItem,
        category: buildCategory,
        order: buildOrder,
        tag: buildItem
    };

    function pushPage(pageConfig) {
        that.configs.push(pageConfig);
    }

    function setConfigs(configs) {
        that.configs = configs;
    }

    function updateSettings(settings) {
        ajq.extend(that.settings, settings);
    }

    function getFirstText(selector) {
        return ajq(selector).first().text();
    }

    function getUtagFirstForField(fieldName) {
        if (window.utag_data && window.utag_data[fieldName]) {
                if (typeof window.utag_data[fieldName] === "object") {
                    return window.utag_data[fieldName][0];
                } else {
                    return window.utag_data[fieldName];
                }
            }
    }

    function getArticleContent(metaTag) {
        var tag = ajq("meta[property='article:" + metaTag + "']:first");

        if (tag.length > 0) {
            return ajq.trim(tag.attr("content"));
        } else {
            return null;
        }
    }

    function runAsFunction(script) {
        try {
            var func = new Function("return " + script + ";");
            return func();
        } catch (e) {
            if (evergageLog.shouldLog("DEBUG")) console.log("ERROR in runAsFunction: " + e);
        }
    }

    function isPageMatch(pageConfig) {
        if (typeof pageConfig.isMatch == "function") {
            return pageConfig.isMatch();
        } else if (typeof pageConfig.isMatch == "object" && typeof pageConfig.isMatch.test == "string") {
            var matchRegex = new RegExp(pageConfig.isMatch.test);
            return matchRegex.test(window.location.href);
        } else if (typeof pageConfig.isMatch == "object" && pageConfig.isMatch.regex) {
            var objectMatchRegex = new RegExp(pageConfig.isMatch.regex);
            return objectMatchRegex.test(window.location.href);
        } else if (typeof pageConfig.isMatch == "string") {
            return ajq(pageConfig.isMatch).length > 0;
        }
    }

    // Item specific functions

    function buildItem(itemConfig, itemType) {
        var item = {
            type: itemType[0]
        };
        ajq.each(itemConfig, function(key, config) {
            var value = getValue(key, config);
            if (value || (value === 0 && key === "inventoryCount")) item[key] = value;
        });
        return item;
    }

    function buildProduct(itemConfig, itemType) {
        var item = buildItem(itemConfig, itemType);
        if (that.settings.setDefaultListPrice === true) {
            if (item.price && !item.listPrice) {
                item.listPrice = item.price;
            }
        }
        return item;
    }

    function buildCategory(categoryConfig) {
        var category = {
            type: Evergage.ItemType.Category
        };
        ajq.each(categoryConfig, function(key, config) {
            if (key == "_id") {
                var categoryId = buildCategoryId(config);
                categoryId = cleanValue("_id", categoryId);
                if (categoryId) {
                    category._id = categoryId;
                }
            } else {
                var value = getValue(key, config);
                if (value) {
                    category[key] = value;
                }
            }
        });
        return category;
    }

    function buildTags(tagsConfig) {
        var tags;
        if (typeof tagsConfig == "object") {
            tags = [];
            ajq.each(tagsConfig, function(key, config) {
                var value = getValue("_id", config);
                value = cleanMultiItemValue(value, Evergage.ItemType.Tag, key);
                if (value && value.length) {
                    ajq.merge(tags, value);
                }
            });
        } else if (typeof tagsConfig == "function") {
            tags = tagsConfig();
            if (tags) {
                tags = cleanMultiItemValue(tags, Evergage.ItemType.Tag);
            }
        }
        if (tags && tags.length) return tags.slice(0, 48);
    }

    // Order specific functions

    function buildOrder(orderConfig) {
        if (typeof orderConfig == "function") {
            return orderConfig();
        }
        var order = {};
        if (!orderConfig.orderId) {
            // order id must be configured
            order.errorMessage = "No orderId configured";
            return order;
        }
        if (orderConfig.orderId != "none") {
            var orderId = getValue("orderId", orderConfig.orderId);
            if (!orderId) {
                order.errorMessage = "No orderId detected";
                return order;
            }
            order.orderId = orderId;
        }

        if (orderConfig.totalValue) {
            var totalValue = getValue("totalValue", orderConfig.totalValue);
            if (totalValue) {
                order.totalValue = totalValue;
            }
        }
        if (orderConfig.currency) {
            var totalValueCurrency = getValue("currency", orderConfig.currency);
            // if currency is configured, assume intended value was different than
            // dataset's default and therefore this order is invalid
            if (totalValueCurrency) {
                order.totalValueCurrency = totalValueCurrency;
            } else {
                order.errorMessage = "Currency configured but not detected";
                return order;
            }
        }
        if (typeof orderConfig.lineItems == "function") {
            order.lineItems = orderConfig.lineItems();
        } else {
            order.lineItems = buildOrderLineItems(orderConfig, order.totalValueCurrency);
        }
        if (!order.lineItems || order.lineItems.length === 0) {
            order.errorMessage = "No lineItems detected";
            return order;
        }
        return order;
    }

    function buildOrderLineItems(orderConfig, currency) {
        var ids = getOrderMultiValues("_id", orderConfig.ids);
        var skus = getOrderMultiValues("sku", orderConfig.skus);
        var prices = getOrderMultiValues("price", orderConfig.prices);
        var quantities = getOrderMultiValues("quantity", orderConfig.quantities);
        var lineItems;
        if (ids && ids.length) {
            lineItems = buildLineItemArrayWithLength(ids.length);
        } else if (skus && skus.length) {
            lineItems = buildLineItemArrayWithLength(skus.length);
        }
        if (!lineItems) return;
        var expectedLength = lineItems.length;
        if (!isEmptyOrExpectedLength(ids, expectedLength)) return;
        if (!isEmptyOrExpectedLength(skus, expectedLength)) return;
        if (!isEmptyOrExpectedLength(prices, expectedLength)) return;
        if (!isEmptyOrExpectedLength(quantities, expectedLength)) return;

        lineItems = ajq.map(lineItems, function(lineItem, i) {
            if (currency) lineItem.item.currency = currency;
            if (ids && ids[i]) lineItem.item._id = ids[i];
            if (prices && (prices[i] || prices[i] === 0)) lineItem.item.price = prices[i] === 0 ? 0.01 : prices[i];
            if (skus && skus[i]) lineItem.sku = skus[i];
            if (quantities && quantities[i]) lineItem.quantity = quantities[i];
            if ((lineItem.item._id || lineItem.sku) && lineItem.quantity) {
                return lineItem;
            }
        });
        return lineItems;
    }

    function getOrderMultiValues(key, config) {
        if (config) {
            if (typeof config != "function") {
                config = getConfigAsMultiple(config);
            }
            return getValue(key, config);
        }
    }

    function isEmptyOrExpectedLength(array, length) {
        return !array || (array.length === 0) || (array.length == length);
    }

    function buildLineItemArrayWithLength(length) {
        var lineItems = [];
        for (var i = 0; i < length; i++) {
            lineItems.push({
                item: {
                    type: Evergage.ItemType.Product
                },
                quantity: 1
            });
        }
        return lineItems;
    }

    function getConfigAsMultiple(config) {
        if (typeof config == "string") {
            return {
                selector: config,
                multiple: true
            };
        } else {
            config.multiple = true;
            return config;
        }
    }

    // Category specific functions

    function buildCategoryId(config) {
        if (ajq.isArray(config)) {
            for (var i = 0; i < config.length; i++) {
                var individualConfig = config[i];
                var returnValue = buildCategoryId(individualConfig);
                if (returnValue != null && returnValue !== "") {
                    return returnValue;
                }
            }
        }
        var id, elements;
        var idParts = [];
        if (typeof config == "string" && commonConfigHandlers.hasOwnProperty(config)) {
            return commonConfigHandlers[config]("_id");
        } else if (typeof config == "string") {
            elements = ajq(config);
            ajq.each(elements, function(index, elem) {
                var idPart = ajq.trim(ajq(elem).text());
                if (idPart) idParts.push(idPart);
            });
            id = idParts.join("|");
        } else if (typeof config == "object") {
            if (config.selector) {
                elements = ajq(config.selector);
                if (config.startFrom) {
                    elements = elements.slice(config.startFrom);
                }
                if (config.ignoreLast) {
                    elements = elements.slice(0, -1);
                }
                if (config.attribute) {
                    ajq.each(elements, function(index, elem) {
                        var idPart = ajq.trim(ajq(elem).attr(config.attribute));
                        if (idPart) idParts.push(idPart);
                    });
                } else if (config.lastCrumbFullPath) {
                    var href = ajq(elements).last().attr("href");
                    var path = Evergage.util.getPathname(href);
                    if (path) {
                        id = path.replace(/^\//, "").replace(/\/ajq/, "").replace(/\//g, "|");
                        if (id) idParts.push(id);
                    }
                } else if (config.crumbsLastPathComp) {
                    ajq.each(elements, function(index, elem) {
                        var href = ajq(elem).attr("href");
                        var lastComponent = Evergage.util.getLastPathComponentWithoutExtension(href);
                        if (lastComponent) idParts.push(lastComponent);
                    });
                } else {
                    ajq.each(elements, function(index, elem) {
                        var idPart = ajq.trim(ajq(elem).text());
                        if (idPart) idParts.push(idPart);
                    });
                }
                if (config.multiple) {
                    id = idParts;
                } else {
                    id = idParts.join("|");
                }
            }
            else {
                id = getValueFromObjectConfig("_id", config);
            }
            if (config.transform) {
                id = config.transform(id);
            }
        } else if (typeof config == "function") {
            id = config();
        }
        return id;
    }

    // Config value retrieval functions

    function getValue(key, config) {
        if (ajq.isArray(config)) {
            for (var i = 0; i < config.length; i++) {
                var individualConfig = config[i];
                var returnValue = getValue(key, individualConfig);
                if (returnValue != null && returnValue !== "") {
                    return returnValue;
                }
            }
        }
        var value;
        if (key == "categories" && (typeof config == "string" ||
            (typeof config == "object" && config.selector))) {
                value = buildCategoryId(config);
        } else if (key == "tags") {
            return buildTags(config);
        } else if (key == "custom" && typeof config == "object") {
            value = getValueFromCustomConfig(key, config);
        } else if (typeof config == "string") {
            value = getValueFromStringConfig(key, config);
        } else if (typeof config == "object") {
            value = getValueFromObjectConfig(key, config);
            if (config.transform) value = config.transform(value);
        } else if (typeof config == "function") {
            value = config();
        }
        if (value || (key === "inventoryCount" && value === 0)) return cleanValue(key, value);
    }

    function getValueFromCustomConfig(key, config) {
        var customTags = {};
        ajq.each(config, function(customKey, customConfig) {
            var customAttribute = getValue(customKey, customConfig);
            if (customAttribute) {
                customTags[customKey] = customAttribute;
            }
        });
        return customTags;
    }

    function getValueFromStringConfig(key, config) {
        if (commonConfigHandlers.hasOwnProperty(config)) {
            return commonConfigHandlers[config](key);
        }
        return getFirstText(config);
    }

    function getValueFromObjectConfig(key, config) {
        for (var configType in commonConfigHandlers) {
            if (config.hasOwnProperty(configType)) {
                return commonConfigHandlers[configType](config[configType]);
            }
        }
        if (config.selector) {
            if (config.multiple) {
                return getValuesForSelectorWithMultiple(config);
            } else if (config.attribute) {
                return ajq(config.selector).attr(config.attribute);
            } else {
                return getFirstText(config.selector);
            }
        } else if (config.utag) {
            return getUtagFirstForField(config.utag);
        } else if (config.eval) {
            return runAsFunction(config.eval);
        } else if (config.static) {
            return config.static;
        } else if (config.object) {
            return getValueFromWindow(config.object);
        }
    }

    function getValuesForSelectorWithMultiple(config) {
        var value = [];
        var elems = ajq(config.selector);
        if (config.attribute) {
            ajq.each(elems, function(index, elem) {
                value.push(ajq(elem).attr(config.attribute));
            });
        } else {
            ajq.each(elems, function(index, elem) {
                value.push(ajq(elem).text());
            });
        }
        return value;
    }

    function getValueFromWindow(obj) {
        var elems = obj.split(".");
        var cur = window;
        var match;
        for (var i = 0; i < elems.length; i++) {
            match = /(\w+)\[([\w-"']+)\]/.exec(elems[i]);
            if (cur[elems[i]]) {
                cur = cur[elems[i]];
            } else if (match) {
                if (cur[match[1]]) {
                    var val = match[2].replace(/['"]/g, "");
                    cur = cur[match[1]][val];
                    if (!cur) {
                        return null;
                    }
                }
            } else {
                return null;
            }
        }
        return cur;
    }

    function handleAddToCartConfig(result, config, quantity, skuConfig) {
        if (typeof config == "string" || (typeof config == "object" && config.selector && config.validate &&
            typeof config.validate == "function")) {

            var selector = typeof config == "string" ? config : config.selector;
            Evergage.safeClick(selector, function(e) {
                if (!config.validate || config.validate(e)) {
                    var lineItem = {
                        item: result.data,
                        quantity: getQuantity(quantity)
                    };
                    if (skuConfig) {
                        var sku = getValue("sku", skuConfig);
                        if (sku) lineItem.sku = {id: sku};
                    }
                    if (lineItem.item._id && lineItem.quantity) {
                        Evergage.addToCart(lineItem);
                    }
                }
            });
        } else if (typeof config == "function") {
            return config(result.data);
        }
    }

    function isProductCategoryMatch(idFromProduct, parsedProduct) {
        var referrer = Evergage.CatMap.spaRefferer || document.referrer;
        delete Evergage.CatMap.spaRefferer;
        var referrerMatches = referrer.indexOf(parsedProduct.ref) > -1;
        var pageMatches = window.location.href.indexOf(parsedProduct.url) > -1;
        var idMatches = idFromProduct && idFromProduct === parsedProduct._id;
        return referrerMatches && (pageMatches || idMatches);
    }

    function handleProductCategoryClick(anchor, config, currentPath) {
        var clickedProduct = {
            url: anchor.attr("href"),
            ref: currentPath
        };
        var container = anchor.closest(ajq(config.itemSelector || config.selector));
        if (config.selectorTransform) {
            clickedProduct._id = config.selectorTransform(container);
        } else if (config.childSelector && config.attribute) {
            clickedProduct._id = container.find(config.childSelector).attr(config.attribute);
        } else if (config.attribute) {
            clickedProduct._id = container.attr(config.attribute);
        }

        var item = Evergage.util.getCurrentPageItem();
        if (item && item.type === Evergage.ItemType.Category) {
            clickedProduct.category = item._id;
        }

        if (clickedProduct.url && clickedProduct.ref) {
            ajq.jStorage.set("evergage|evgProduct", clickedProduct, {TTL: 30000});
            Evergage.CatMap.spaRefferer = currentPath;
        }
    }

    function handleProductCategoryConfig(data, config) {

        var itemType = data.type;
        if (itemType === Evergage.ItemType.Category) {
            var currentPath = window.location.pathname;
            Evergage.util.runWhenReady(function() {
                return ajq(config.selector).length > 0;
            }, function() {
                Evergage.safeClick(config.selector, function(e) {
                    var anchor = ajq(e.target).closest("a");
                    if (!anchor.length) {
                        return;
                    }
                    if (config.itemSelector &&
                        !anchor.closest(config.itemSelector).length) {
                            return;
                    }
                    handleProductCategoryClick(anchor, config, currentPath);
                });
            }, 500, 20);
        } else if (itemType === Evergage.ItemType.Product) {
            var clickedProduct = ajq.jStorage.get("evergage|evgProduct");
            ajq.jStorage.deleteKey("evergage|evgProduct");
            if (clickedProduct && clickedProduct.category) {
                var idFromProduct = data._id;
                if (isProductCategoryMatch(idFromProduct, clickedProduct)) {
                    data.categories = [{
                        type: Evergage.ItemType.Category,
                        _id: clickedProduct.category
                    }];
                    return;
                }
            }
        } else {
            ajq.jStorage.deleteKey("evergage|evgProduct");
        }
    }

    function getQuantity(quantityConfig) {
        if (ajq.isArray(quantityConfig)) {
            for (var i = 0; i < quantityConfig.length; i++) {
                var individualConfig = quantityConfig[i];
                var returnValue = getQuantity(individualConfig);
                if (returnValue != null && returnValue !== "") {
                    return returnValue;
                }
            }
        }
        if (typeof quantityConfig == "function") {
            return quantityConfig();
        } else if (typeof quantityConfig == "string") {
            var elem = ajq(quantityConfig);
            if (elem.is("input, select")) {
                return +elem.val();
            } else {
                return getValue("quantity", quantityConfig);
            }
        } else if (typeof quantityConfig == "object") {
            return getValue("quantity", quantityConfig);
        }
    }

    // Cleaning functions

    function cleanValue(key, value) {

        if (ajq.isArray(value)) {
            value = ajq.map(value, function(val) {
                return cleanSingleValue(key, val);
            });
        } else {
            value = cleanSingleValue(key, value);
        }

        if (key == "categories") value = cleanMultiItemValue(value, Evergage.ItemType.Category);

        return value;
    }

    function cleanSingleValue(key, value) {
        if ((key == "price" || key == "listPrice" || key == "totalValue" || key == "rating" || key == "numRatings") &&
            typeof value == "string") {
                value = Evergage.util.getCurrencyValue(value);
        }
        if (key == "url" || key == "imageUrl") value = Evergage.util.qualifyUrl(value);

        if ((key == "_id" || key == "sku" || key == "orderId") &&
            typeof value == "number") {
                value = value.toString();
        }

        if (that.settings.canonicalizeIds && typeof value == "string" &&
            (key == "_id" || key == "sku" || key == "orderId" ||
                key == "alternateId" || key == "parentId")) {
                    value = value.toUpperCase();
        }

        if (typeof value == "string") {
            if (value.indexOf("&") >= 0) {
                var textarea = document.createElement("textarea");
                textarea.innerHTML = value;
                value = textarea.value;
            }
            value = ajq.trim(value);
        }

        if (that.settings.trimDescriptions && key == "description" && typeof value == "string" && value.length > 200) {
            value = value.substr(0, 197) + "...";
        }

        if ((key == "quantity" || key === "inventoryCount") && typeof value == "string") value = +value;

        return value;
    }

    function cleanMultiItemValue(value, type, tagType) {
        var items = [];
        if (typeof value == "string" && value) {
            var item = {
                type: type,
                _id: cleanSingleValue("_id", value)
            };
            if (tagType) item.tagType = tagType;
            if (item._id) items.push(item);
        } else if (ajq.isArray(value) && value.length > 0) {
            ajq.each(value, function(index, subval) {
                if (typeof subval == "string") {
                    var item = {
                        type: type,
                        _id: cleanSingleValue("_id", subval)
                    };
                    if (tagType) item.tagType = tagType;
                    if (item._id) items.push(item);
                } else if (typeof subval == "object" &&
                    subval.type == type &&
                    subval._id) {
                        subval._id = cleanSingleValue("_id", subval._id);
                        if (subval._id) items.push(subval);
                }
            });
        }
        return items.length ? items : null;
    }

    // Initialization functions

    function build(configs) {
        var result = {};
        if (!configs) {
            configs = this.configs;
        }
        ajq.each(configs, function(index, pageConfig) {
            if (result.error) return;
            if (result.action) {
                if (isPageMatch(pageConfig)) {
                    result.error = "Invalid CatMap, multiple page matches";
                    result.errorConfig = pageConfig;
                }
                return;
            }
            if (isPageMatch(pageConfig)) {
                if (pageConfig.product) {
                    buildForPage(result, pageConfig, DataType.Product, ItemAction.ViewItem);
                } else if (pageConfig.article) {
                    buildForPage(result, pageConfig, DataType.Article, ItemAction.ViewItem);
                } else if (pageConfig.blog) {
                    buildForPage(result, pageConfig, DataType.Blog, ItemAction.ViewItem);
                } else if (pageConfig.tag) {
                    buildForPage(result, pageConfig, DataType.Tag, ItemAction.ViewItem);
                } else if (pageConfig.order) {
                    buildForPage(result, pageConfig, DataType.Order, ItemAction.Purchase);
                } else if (pageConfig.category) {
                    buildForPage(result, pageConfig, DataType.Category, ItemAction.ViewCategory);
                } else if (Object.keys(pageConfig).length == 2 && pageConfig.runFunction) {
                    return pageConfig.runFunction(result.data);
                }
                if (!result.data) return result;
                if (!result.error) {
                    if (pageConfig.addToCart) {
                        handleAddToCartConfig(result, pageConfig.addToCart, pageConfig.quantity, pageConfig.sku);
                    }
                    if (pageConfig.runFunction) {
                        pageConfig.runFunction(result.data);
                    }

                    if (pageConfig.namePage) {
                        var namedPage = getValue("namePage", pageConfig.namePage);
                        if (namedPage) {
                            Evergage.namePage(namedPage);
                        }
                    }

                    if (pageConfig.runAfter) {
                        afterPageLoad.push(pageConfig.runAfter);
                    }
                }
            }
        });
        try {
            if (result.errorConfig) result.errorConfig = JSON.stringify(result.errorConfig || {});
        } catch (e) {
            delete result.errorConfig;
        }

        return result;
    }

    function buildForPage(result, pageConfig, dataType, defaultAction) {
        var data = itemConfigHandlers[dataType](pageConfig[dataType], dataType);
        if (!data) {
            result.error = "Invalid " + dataType;
            result.errorConfig = pageConfig;
            return;
        }
        if (dataType === "order" && data.errorMessage) {
            result.error = data.errorMessage;
            result.errorConfig = pageConfig;
            return;
        } else if (dataType != "order" && pageConfig.itemAction !== "View Item Out Of Stock") {
            if (!data._id) {
                result.error = "Invalid " + dataType + " missing _id";
                result.errorConfig = pageConfig;
            }
            truncateTranslatedItem(data);
        }
        if (pageConfig.itemAction === "View Item Out Of Stock" && !data.alternateId) {
            result.error = "Invalid " + pageConfig.itemAction + " missing alternateId";
            result.errorConfig = pageConfig;
            return;
        }
        if (pageConfig.productCategory && !result.error &&
            data.type == Evergage.ItemType.Product) {
                handleProductCategoryConfig(data, pageConfig.productCategory);
        }
        if (typeof pageConfig.transform == "function") {
            data = pageConfig.transform(data);
        }
        if (pageConfig.productCategory && !result.error &&
            data.type == Evergage.ItemType.Category) {
                handleProductCategoryConfig(data, pageConfig.productCategory);
        }
        result.data = data;
        result.itemAction = pageConfig.itemAction || defaultAction;
    }

    function sendException(error, config) {
        if (Evergage.sendException) {
            Evergage.sendException(new Error(error + ": " + config), "Site-wide JavaScript");
        }
    }

    function detectTranslate() {
        // These checks can't trigger cross origin error
        var googleTranslate = ajq("script[src*='//translate.googleusercontent.com']").length > 0;
        var html = ajq("html");
        var chromeTranslate = html.hasClass("translated-ltr") || html.hasClass("translated-rtl");
        if (googleTranslate || chromeTranslate) {
            if (evergageLog.shouldLog("DEBUG")) console.log("page is translated");
            return true;
        }

        try {
            var bingTranslate = ajq(window.parent.document).find("script[src*='//www.microsofttranslator.com']").length > 0;
            var worldLingoTranslate = ajq(window.parent.document).find("frame[src*='//www.worldlingo.com']").length > 0;
            if (bingTranslate || worldLingoTranslate) {
                if (evergageLog.shouldLog("DEBUG")) console.log("page is translated");
                return true;
            } else {
                if (evergageLog.shouldLog("DEBUG")) console.log("page is not translated");
                return false;
            }
        } catch (e) {
            // These checks can cause cross origin error
            if (evergageLog.shouldLog("DEBUG")) console.log("exception caught, assuming page is untranslated " + e);
            return false;
        }
    }

    function truncateTranslatedItem(item) {
        if (that.settings.truncateTranslated && detectTranslate()) {
            ajq.each(item, function(key) {
                if (!DO_NOT_TRUNCATE[key]) {
                    delete item[key];
                }
            });
        }
    }

    function init() {
        Evergage.sendPageLoadEventWhenTrue(function(isLastTimeThrough) {
            if (that.settings.pageLoadWhenTrue(isLastTimeThrough)) {
                run();
                return true;
            } else {
                return false;
            }
        }, that.settings.pageLoadWhenTrueTimeout);

        Evergage.util.runWhenReady(function() {
            return Evergage.hasPageLoadEventBeenFired() && afterPageLoad.length > 0;
        }, function() {
            afterPageLoad.forEach(function(thisFunc) {
                thisFunc();
            });
        }, 1000, 10);
    }

    function run(configs) {
        if (!that.settings.runOnTranslatedPage && detectTranslate()) {
            return;
        }
        var result = build.bind(Evergage.CatMap)(configs);
        if (result && result.error) {
            sendException(result.error, result.errorConfig);
            return;
        }
        if (result && result.itemAction && result.data) {
            if (result.itemAction === ItemAction.ViewItem && result.data.sku != null) {
                result.data.isProduct = true;
                Evergage[result.itemAction](result.data, null, {id: result.data.sku});
            } else if (result.itemAction === ItemAction.viewItemOOS) {
                Evergage.trackAction("View Item Out Of Stock", { ".item": window.JSON.stringify(result.data)});
            } else {
                Evergage[result.itemAction](result.data);
            }
        }
    }

    function runSpecificConfig(config) {
        var configs = [config];
        run(configs);
    }

    var publicApi = {
        setConfigs: setConfigs,
        pushPage: pushPage,
        updateSettings: updateSettings,
        getArticleContent: getArticleContent,
        _getValue: getValue,
        _runAsFunction: runAsFunction,
        _runSpecificConfig: runSpecificConfig,
        build: build,
        init: init,
        _callbacks: {
            buildCategoryId: buildCategoryId,
            buildCategory: buildCategory,
            buildLineItemArrayWithLength: buildLineItemArrayWithLength,
            buildOrder: buildOrder,
            buildOrderLineItems: buildOrderLineItems,
            buildItem: buildItem,
            buildTags: buildTags,
            getValueFromWindow: getValueFromWindow
        }
    };
    ajq.extend(this, publicApi);

}
if (window.Evergage) {
    Evergage.CatMap = Evergage.CatMap || new EvergageCatMap();
    Evergage.CatMap.setConfigs([]);
}

var productConfig = {
    isMatch: function() {
        if (Evergage.util.getLastPathComponentWithoutExtension(window.location.href) === "black-badge") {
            return false;
        }
        return (/\/showroom\//.test(window.location.href));
    },
    product: {
        _id: function() {
            var idString = window.location.pathname.indexOf("US") > -1 ? "US-" : "GB-";
            if (window.location.pathname.indexOf("black-badge") === -1) {
                return idString + ajq.trim(ajq("button.rrmc-secondary-nav-dropdown-cta").first().text());
            } else {
                return idString + Evergage.util.getMetaContent("title");
            }
        },
        description: function() {
            if (window.location.href.indexOf("in-detail") > -1 || window.location.pathname.indexOf("black-badge") > -1) {
                return Evergage.util.getMetaContent("description");
            }
        }
    }
};
Evergage.CatMap.pushPage(productConfig);

Evergage.CatMap.init();
    } catch (e) {
        if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
            Evergage.sendException(e, "siteWideJavascript");
        }
    }
};

window.evergageSiteConfig = {"_id":49,"account":"rrmc","alwaysIgnoreDomainName":false,"baseUrl":"https://rrmc.us-1.evergage.com","beaconConfig":{"allowBotTraffic":false,"corsAllowedOrigins":["*"],"defaultCurrency":"USD","defaultLocale":null,"disableQtipWindowScroll":false,"doNotStoreCookiesRequireProvidedAnonId":false,"doNotTrackPingRequestsForActions":false,"enableCorsRestrictedOrigins":false,"enableMessageRotation":false,"enableRememberMeUserIds":false,"enableTemplateEsc":false,"hideContentSections":true,"hideContentSectionsMillis":2500,"hidePagesForRedirect":true,"hidePagesForRedirectMillis":1000,"lastModified":1588168005589,"preventSensitiveDataCapture":false,"rememberMeUserIdsMillis":63072000000,"sendErrorEvents":true,"showPoweredBy":false,"siteConfigExecBeforePageReady":false,"spaRouteChangeTimeout":500,"trackAnonymousVisitors":true,"trackContextualRelatedItems":false,"trackSubdomainAsCompany":false,"trackUnknownPagesByTitle":false,"treatHashChangeAsPageLoad":false},"dataset":"engage","deployedTimeRanges":[],"domainsTracked":[],"globalFields":[],"globalForms":[],"globalPageActions":[],"googleAnalyticsIntegrationConfig":{"actionEventOptions":{"actionFormat":null,"categoryFormat":"Evergage","enabled":true,"exclusionActionNames":null,"inclusionActionNames":null,"labelFormat":"${campaignName}|${experienceName}|${actionName}|${userGroup}","pageActionFormat":null,"pageLoadActionFormat":"Load","trackingLevel":null},"campaignEventOptions":{"categoryFormat":"Evergage","enabled":true,"labelFormat":"${campaignName}|${experienceName}|${actionName}|${userGroup}","statTypeClickthroughFormat":"Click","statTypeDismissalFormat":"Dismissal","statTypeImpressionFormat":"Impression","testingModeEventsEnabled":true,"trackingLevel":"chosenCampaigns"},"createTrackingObject":true,"enabled":true,"prependCommandsWithTrackerName":false,"trackerName":null,"trackingId":"UA-123456-1"},"hideContentSectionsList":[],"hidePageBeforeRedirectList":[],"id":"49","modificationTime":1598959484768,"pages":[{"action":"GB - Homepage","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200176423,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/home\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Inspiring Greatness","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200181210,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/inspiring-greatness\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Black-badge","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200192126,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/black-badge\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Your Rolls Royce","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200199366,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/bespoke\\/configure-your-rolls-royce\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Black Badge Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200206634,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/black-badge-cullinan\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200219302,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/cullinan\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200225510,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/wraith\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Phantom","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200233660,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/phantom\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Phantom EWB","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200239758,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/phantom-ewb\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200245202,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/ghost\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Dawn","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200251441,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/dawn\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Black Badge Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200257022,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/black-badge-ghost\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Showroom Black Badge Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200264041,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/black-badge-wraith\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Discover Bespoke","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200269593,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/bespoke\\/discover\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Service & Aftercare","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200272700,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/ownership\\/service-and-aftercare\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Private Privilege","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200370090,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/inspiring-greatness\\/experience\\/a-private-privilege\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Commission Phantom","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200374701,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/phantom-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Phantom EWB","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200410958,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/phantom-ewb-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200416586,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/cullinan-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200426529,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/ghost-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200434283,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/wraith-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Dawn","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200441272,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/dawn-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Configure Black Badge","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200446726,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/showroom\\/black-badge-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Homepage","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200454445,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/home\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Inspiring Greatness","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200463963,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/inspiring-greatness\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Black-badge","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200469934,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/black-badge\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Your Rolls Royce","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200473511,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/bespoke\\/configure-your-rolls-royce\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Black Badge Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200478058,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/black-badge-cullinan\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200482801,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/cullinan\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200486013,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/wraith\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Phantom","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200496911,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/phantom\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Phantom EWB","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200500116,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/phantom-ewb\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200505568,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/ghost\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Dawn","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200513621,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/dawn\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Black Badge Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200519685,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/black-badge-ghost\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Showroom Black Badge Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200524589,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/black-badge-wraith\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Discover Bespoke","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200529443,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/bespoke\\/discover\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Service & Aftercare","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200533691,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/ownership\\/service-and-aftercare\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Private Privilege","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200547253,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/inspiring-greatness\\/experience\\/a-private-privilege\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Commission Phantom","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200554488,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/phantom-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Phantom EWB","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200560093,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/phantom-ewb-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Cullinan","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200572411,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/cullinan-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Ghost","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200576171,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/ghost-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Wraith","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200580766,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/wraith-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Dawn","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200590446,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/dawn-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"US - Configure Black Badge","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":1579200596584,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/showroom\\/black-badge-commission\\.html(?:(\\?.*))?(#.*)?$"},{"action":"GB - Ghost Stories","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1594815431855,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_GB\\/inspiring\\-greatness\\/values\\/ghost\\-stories\\.html(?:(\\?[^#]*))?$"},{"action":"US - Ghost Stories","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":true,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":1594815459038,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/en_US\\/inspiring\\-greatness\\/values\\/ghost\\-stories\\.html(?:(\\?[^#]*))?$"}],"server":"","siteConfigExecBeforePageReady":false,"trackAccounts":false,"trackAnonymousUsers":true,"trackSeparately":false,"trackSubdomainAsCompany":false,"trackUnknownPages":false,"treatHashChangeAsPageLoad":false,"twoWayEnabled":true};
window.evergageSiteWideStyles = "/*\n * Copyright (C) 2010-2014 Evergage, Inc.\n * All rights reserved.\n */\n\n\n/* Fluid class for determining actual width in IE */\n#qtip-rcontainer .evergage-tooltip{\n    display: block !important;\n    visibility: hidden !important;\n    position: static !important;\n    float: left !important;\n}\n\n/* Core qTip styles */\n.evergage-tooltip, .evergage-qtip{\n    position: fixed;\n    left: -28000px;\n    top: -28000px;\n    display: none;\n}\n\n.evergage-tooltip.evergageMessageInVisualEditorTestMode {\n    position: absolute;\n    pointer-events: auto;\n}\n\n.evergage-tooltip.evergage-jgrowl.evergage-tooltip-bar {\n    max-width: 100% !important;\n    width: 100% !important;\n    border-radius: 0px !important;\n    -o-border-radius: 0px !important;\n    -moz-border-radius: 0px !important;\n    -webkit-border-radius: 0px !important;\n    -ms-border-radius: 0px !important;\n}\n\n.evergage-tooltip-invisible {\n    display: none !important;\n    visibility: hidden !important;\n    width: 1px !important;\n    height: 1px !important;\n}\n\n.evergage-tooltip-page {\n    position: relative;\n    left: 0;\n    top: 0;\n    z-index: inherit !important;\n    display: inline-block;\n}\n\n.evergage-tooltip-page-replace {\n    max-width: 100% !important;\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-notdone, .evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done {\n    text-transform: inherit;\n    display: list-item;\n    width: inherit;\n    line-height: inherit;\n    text-align: left;\n    margin-bottom: 10px;\n    list-style-position: inside;\n}\n\n.evergage-tooltip li.evergage-task-done, .evergage-tooltip li.evergage-task-notdone {\n    margin-bottom: 10px;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done, .evergage-tooltip li.evergage-task-done {\n    text-decoration: line-through;\n}\n\n.evergage-tooltip.evergage-nonBlocking.evergage-tooltip-hover {\n    opacity: 0.2 !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content{\n    position: relative;\n    padding: 5px 9px;\n    overflow: hidden;\n\n    text-align: left;\n    word-wrap: break-word;\n}\n\n.evergage-tooltip .evergage-tooltip-titlebar{\n    position: relative;\n    min-height: 14px;\n    padding: 5px 35px 5px 10px;\n    overflow: hidden;\n\n    border-width: 0 0 1px;\n    font-weight: bold;\n}\n\n.evergage-tooltip-titlebar + .evergage-tooltip-content{ border-top-width: 0 !important; }\n\n/* Default close button class */\n.evergage-tooltip-titlebar .evergage-tooltip-close {\n    position: absolute;\n    right: 4px;\n    top: 50%;\n    margin-top: -9px;\n    font-weight: bold;\n\n    cursor: pointer;\n    outline: medium none;\n\n    border: none;\n    background: transparent;\n    /*border-width: 1px;*/\n    /*border-style: solid;*/\n}\n\n.emptyTitle > .evergage-tooltip-titlebar  {\n    height: 0;\n    float: right;\n    z-index: 2147483647;\n}\n\n* html .evergage-tooltip .evergage-tooltip-titlebar .evergage-tooltip-close { top: 16px; } /* IE fix */\n\n.evergage-tooltip-titlebar .evergage-ui-icon-close,\n.evergage-tooltip-icon .evergage-ui-icon-close {\n    display: block;\n    text-indent: -1000em;\n    direction: ltr;\n}\n\n.evergage-tooltip-icon, .evergage-tooltip-icon .evergage-ui-icon-close {\n    -moz-border-radius: 3px;\n    -webkit-border-radius: 3px;\n    border-radius: 3px;\n    text-decoration: none;\n}\n\n.evergage-tooltip-icon .evergage-ui-icon-close{\n    width: 18px;\n    height: 14px;\n\n    text-align: center;\n    text-indent: 0;\n    font: normal bold 14px/14px sans-serif;\n\n    color: inherit;\n    background: transparent none no-repeat -100em -100em;\n}\n\na.evergage-tooltip-close:hover {\n    text-decoration: none;\n}\n\n.evergage-ui-icon-close:hover {\n    font-size: 22px;\n}\n\n\n/* Applied to 'focused' tooltips e.g. most recently displayed/interacted with */\n.evergage-tooltip-focus {}\n\n/* Applied on hover of tooltips i.e. added/removed on mouseenter/mouseleave respectively */\n.evergage-tooltip-hover {}\n\n/* Default tooltip style */\n.evergage-tooltip-default {\n    /*border-width: 2px;\n    border-style: solid;\n    border-color: #F1D031;\n\n    background-color: #FFFFA3;\n    color: #555;*/\n}\n\n.evergage-tooltip-default .evergage-tooltip-titlebar {\n    background-color: transparent;\n}\n\n.evergage-tooltip-default .evergage-tooltip-icon {\n    /*border-color: #CCC;*/\n    /*background: #F1F1F1;*/\n    /*color: #777;*/\n}\n\n/* Add shadows to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-shadow{\n    -webkit-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    -moz-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n}\n\n/* Add rounded corners to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-rounded,\n.evergage-tooltip-tipsy,\n.evergage-tooltip-bootstrap{\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n}\n\n\n\n/* IE9 fix - removes all filters */\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-content,\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-titlebar{\n    filter: none;\n    -ms-filter: none;\n}\n\n\n/* Tips plugin */\n.evergage-tooltip .evergage-tooltip-tip{\n    margin: 0 auto;\n    overflow: hidden;\n    z-index: 10;\n}\n\n.evergage-tooltip .evergage-tooltip-tip,\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    position: absolute;\n\n    line-height: 0.1px !important;\n    font-size: 0.1px !important;\n    color: #123456;\n\n    background: transparent;\n    border: 0 dashed transparent;\n}\n\n.evergage-tooltip .evergage-tooltip-tip canvas{ top: 0; left: 0; }\n\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    behavior: url(#default#VML);\n    display: inline-block;\n    visibility: visible;\n}\n\n/* Modal plugin */\n#evergage-qtip-overlay{\n    position: fixed;\n    left: -10000em;\n    top: -10000em;\n}\n\n/* Applied to modals with show.modal.blur set to true */\n#evergage-qtip-overlay.blurs{ cursor: pointer; }\n\n/* Change opacity of overlay here */\n#evergage-qtip-overlay div{\n    position: absolute;\n    left: 0; top: 0;\n    width: 100%; height: 100%;\n\n    background-color: black;\n\n    opacity: 0.7;\n    filter:alpha(opacity=70);\n    -ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\\\";\n}\n\n.evergage.poweredByEvergage > a {\n    opacity: 0.2;\n    transition: opacity 0.3s ease-in-out;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    position: absolute;\n    right: 4px;\n    bottom: 2px;\n}\n\n.evergage.poweredByEvergage > a:hover {\n    opacity: 1;\n}\n\n\n//# sourceURL=evergageStyles.css*/";
if("object"===typeof window.Evergage&&null!=window.Evergage&&"function"===typeof window.Evergage.getVersion&&"number"===typeof window.Evergage.getVersion())"object"===typeof window.evergageLog&&null!=window.evergageLog&&"function"===typeof window.evergageLog.shouldLog&&(window.evergageLog.shouldLog("WARN")&&console.log("Evergage: Aborting beacon load as the Evergage beacon was already found on this page."),"function"===typeof window.Evergage.sendException&&1>100*Math.random()&&window.Evergage.sendException(Error("Beacon Already Loaded"),
"beaconAlreadyLoaded"));else if(!/msie [2-9]/i.test(navigator.userAgent)||null!=window.evergageBeforeInit){window.evergageBeaconParseTimeStart=(new Date).getTime();window.evergageJSON="object"===typeof window.JSON&&"function"===typeof window.JSON.stringify&&"function"===typeof window.JSON.parse?window.JSON:null;var evergageLog=function(){function h(f){return"object"===typeof window.console&&"function"===typeof window.console.log&&null!=D(f)&&D(f)<=Z}function q(){window.console&&"undefined"===typeof window.console.time&&
(console.time=function(f,h){if(f){var q=(new Date).getTime();console.timeCounters||(console.timeCounters={});var D="KEY"+f.toString();if(h||!console.timeCounters[D])console.timeCounters[D]=q}},console.timeEnd=function(f){var h=(new Date).getTime();if(!console.timeCounters)return 0;var q="KEY"+f.toString(),D=console.timeCounters[q];if(D){var F=h-D;console.info(f+": "+F+"ms");delete console.timeCounters[q]}return F})}function D(f){if("string"!==typeof f)return null;f=f.toUpperCase();return"NONE"==f?
0:"ERROR"==f?1:"WARN"==f?2:"INFO"==f?3:"DEBUG"==f?4:"TRACE"==f?5:null}function f(f){if("string"!==typeof f)return null;f=f.toUpperCase();return"NONE"==f?0:"BASIC"==f?1:"MODERATE"==f?2:"RIGOROUS"==f?3:null}var Z=1,N=0,v=[],L={};L.shouldLog=h;L.shouldTestPerf=function(h){return"object"===typeof window.console&&"function"===typeof window.console.time&&"function"===typeof window.console.timeEnd&&null!=f(h)&&f(h)<=N};L.setLoggingLevel=function(f){f=D(f);"number"===typeof f&&(Z=f);return f};L.setPerformanceTestLevel=
function(h){h=f(h);"number"===typeof h&&(N=h);q();return h};L.flushStoredMessages=function(){for(var f=0;f<v.length;f++)h(v[f].messageLevel)&&console.log(v[f].message);v=[]};L.storeLogMessageUntilLogSettingsAreParsed=function(f,h){v.push({messageLevel:f,message:h})};return L}();window.evergageLog=evergageLog;(function(h,q){function D(a){var b=ud[a]={};c.each(a.split(Ea),function(a,c){b[c]=!0});return b}function f(a,b,g){if(g===q&&1===a.nodeType)if(g="data-"+b.replace(qa,"-$1").toLowerCase(),g=a.getAttribute(g),
"string"===typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:+g+""===g?+g:vd.test(g)?c.parseJSON(g):g}catch(k){}c.data(a,b,g)}else g=q;return g}function Z(a){for(var b in a)if(("data"!==b||!c.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function N(){return!1}function v(){return!0}function L(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function Ba(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function ia(a,b,g){b=b||0;if(c.isFunction(b))return c.grep(a,function(a,c){return!!b.call(a,
c,a)===g});if(b.nodeType)return c.grep(a,function(a,c){return a===b===g});if("string"===typeof b){var k=c.grep(a,function(a){return 1===a.nodeType});if(Nb.test(b))return c.filter(b,k,!g);b=c.filter(b,k)}return c.grep(a,function(a,k){return 0<=c.inArray(a,b)===g})}function ka(a){var b=Cb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function ca(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function F(a,
b){if(1===b.nodeType&&c.hasData(a)){var g,k,w;k=c._data(a);var A=c._data(b,k),ha=k.events;if(ha)for(g in delete A.handle,A.events={},ha)for(k=0,w=ha[g].length;k<w;k++)c.event.add(b,g,ha[g][k]);A.data&&(A.data=c.extend({},A.data))}}function z(a,b){var g;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),g=b.nodeName.toLowerCase(),"object"===g?(b.parentNode&&(b.outerHTML=a.outerHTML),c.support.html5Clone&&a.innerHTML&&!c.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):
"input"===g&&wd.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===g?b.selected=a.defaultSelected:"input"===g||"textarea"===g?b.defaultValue=a.defaultValue:"script"===g&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(c.expando))}function da(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function n(a){wd.test(a.type)&&(a.defaultChecked=a.checked)}
function e(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),k=b,w=Jc.length;w--;)if(b=Jc[w]+c,b in a)return b;return k}function d(a,b){a=b||a;return"none"===c.css(a,"display")||!c.contains(a.ownerDocument,a)}function H(a,b){for(var g,k,w=[],A=0,ha=a.length;A<ha;A++)g=a[A],g.style&&(w[A]=c._data(g,"olddisplay"),b?(w[A]||"none"!==g.style.display||(g.style.display=""),""===g.style.display&&d(g)&&(w[A]=c._data(g,"olddisplay",ua(g.nodeName)))):(k=oa(g,"display"),w[A]||"none"===k||
c._data(g,"olddisplay",k)));for(A=0;A<ha;A++)g=a[A],!g.style||b&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=b?w[A]||"":"none");return a}function O(a,b,c){return(a=xd.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function p(a,b,g,k){b=g===(k?"border":"content")?4:"width"===b?1:0;for(var w=0;4>b;b+=2)"margin"===g&&(w+=c.css(a,g+jb[b],!0)),k?("content"===g&&(w-=parseFloat(oa(a,"padding"+jb[b]))||0),"margin"!==g&&(w-=parseFloat(oa(a,"border"+jb[b]+"Width"))||0)):(w+=parseFloat(oa(a,
"padding"+jb[b]))||0,"padding"!==g&&(w+=parseFloat(oa(a,"border"+jb[b]+"Width"))||0));return w}function V(a,b,g){var k="width"===b?a.offsetWidth:a.offsetHeight,w=!0,A=c.support.boxSizing&&"border-box"===c.css(a,"boxSizing");if(0>=k){k=oa(a,b);if(0>k||null==k)k=a.style[b];if(Db.test(k))return k;w=A&&(c.support.boxSizingReliable||k===a.style[b]);k=parseFloat(k)||0}return k+p(a,b,g||(A?"border":"content"),w)+"px"}function ua(a){if(Kc[a])return Kc[a];var b=c("\x3c"+a+"\x3e").appendTo(u.body),g=b.css("display");
b.remove();if("none"===g||""===g)kb=u.body.appendChild(kb||c.extend(u.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ma&&kb.createElement||(Ma=(kb.contentWindow||kb.contentDocument).document,Ma.write("\x3c!doctype html\x3e\x3chtml\x3e\x3cbody\x3e"),Ma.close()),b=Ma.body.appendChild(Ma.createElement(a)),g=oa(b,"display"),u.body.removeChild(kb);return Kc[a]=g}function Q(a,b,g,k){var w;if(c.isArray(b))c.each(b,function(b,c){g||yd.test(a)?k(a,c):Q(a+"["+("object"===typeof c?b:"")+"]",c,g,
k)});else if(g||"object"!==c.type(b))k(a,b);else for(w in b)Q(a+"["+w+"]",b[w],g,k)}function r(a){return function(b,g){"string"!==typeof b&&(g=b,b="*");var k,w,A=b.toLowerCase().split(Ea),ha=0,d=A.length;if(c.isFunction(g))for(;ha<d;ha++)k=A[ha],(w=/^\+/.test(k))&&(k=k.substr(1)||"*"),k=a[k]=a[k]||[],k[w?"unshift":"push"](g)}}function B(a,b,c,k,w,A){w=w||b.dataTypes[0];A=A||{};A[w]=!0;var ha;w=a[w];for(var d=0,e=w?w.length:0,f=a===Eb;d<e&&(f||!ha);d++)ha=w[d](b,c,k),"string"===typeof ha&&(!f||A[ha]?
ha=q:(b.dataTypes.unshift(ha),ha=B(a,b,c,k,ha,A)));!f&&ha||A["*"]||(ha=B(a,b,c,k,"*",A));return ha}function P(a,b){var g,k,w=c.ajaxSettings.flatOptions||{};for(g in b)b[g]!==q&&((w[g]?a:k||(k={}))[g]=b[g]);k&&c.extend(!0,a,k)}function Na(){try{return new h.XMLHttpRequest}catch(a){}}function I(){setTimeout(function(){Fb=q},0);return Fb=c.now()}function W(a,b){c.each(b,function(b,c){for(var w=(mb[b]||[]).concat(mb["*"]),A=0,ha=w.length;A<ha&&!w[A].call(a,b,c);A++);})}function E(a,b,g){var k=0,w=ab.length,
A=c.Deferred().always(function(){delete ha.elem}),ha=function(){for(var b=Fb||I(),b=Math.max(0,d.startTime+d.duration-b),c=1-(b/d.duration||0),g=0,k=d.tweens.length;g<k;g++)d.tweens[g].run(c);A.notifyWith(a,[d,c,b]);if(1>c&&k)return b;A.resolveWith(a,[d]);return!1},d=A.promise({elem:a,props:c.extend({},b),opts:c.extend(!0,{specialEasing:{}},g),originalProperties:b,originalOptions:g,startTime:Fb||I(),duration:g.duration,tweens:[],createTween:function(b,g,k){b=c.Tween(a,d.opts,b,g,d.opts.specialEasing[b]||
d.opts.easing);d.tweens.push(b);return b},stop:function(b){for(var c=0,g=b?d.tweens.length:0;c<g;c++)d.tweens[c].run(1);b?A.resolveWith(a,[d,b]):A.rejectWith(a,[d,b]);return this}});g=d.props;for(m(g,d.opts.specialEasing);k<w;k++)if(b=ab[k].call(d,a,g,d.opts))return b;W(d,g);c.isFunction(d.opts.start)&&d.opts.start.call(a,d);c.fx.timer(c.extend(ha,{anim:d,queue:d.opts.queue,elem:a}));return d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function m(a,
b){var g,k,w,A,d;for(g in a)if(k=c.camelCase(g),w=b[k],A=a[g],c.isArray(A)&&(w=A[1],A=a[g]=A[0]),g!==k&&(a[k]=A,delete a[g]),(d=c.cssHooks[k])&&"expand"in d)for(g in A=d.expand(A),delete a[k],A)g in a||(a[g]=A[g],b[g]=w);else b[k]=w}function ea(a,b,c,k,w){return new ea.prototype.init(a,b,c,k,w)}function bb(a,b){for(var c,k={height:a},w=0;4>w;w+=2-b)c=jb[w],k["margin"+c]=k["padding"+c]=a;b&&(k.opacity=k.width=a);return k}function S(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:
!1}var C,J,u=h.document,T=h.location,x=h.navigator,xa=h.jQuery,t=h.$,fa=Array.prototype.push,aa=Array.prototype.slice,Y=Array.prototype.indexOf,cb=Object.prototype.toString,Xa=Object.prototype.hasOwnProperty,va=String.prototype.trim,c=function(a,b){return new c.fn.init(a,b,C)},db=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ra=/\S/,Ea=/\s+/,Ob=Ra.test("\u00a0")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,we=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ac=/^[\],:{}\s]*$/,
zd=/(?:^|:|,)(?:\s*\[)+/g,Gb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ad=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Bd=/^-ms-/,xe=/-([\da-z])/gi,Lc=function(a,b){return(b+"").toUpperCase()},Qb=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",Qb,!1),c.ready()):"complete"===u.readyState&&(u.detachEvent("onreadystatechange",Qb),c.ready())},Mc={};c.fn=c.prototype={constructor:c,init:function(a,b,g){var k;if(!a)return this;if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if("string"===typeof a){k="\x3c"===a.charAt(0)&&"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:we.exec(a);if(!k||!k[1]&&b)return!b||b.jquery?(b||g).find(a):this.constructor(b).find(a);if(k[1])return a=(b=b instanceof c?b[0]:b)&&b.nodeType?b.ownerDocument||b:u,a=c.parseHTML(k[1],a,!0),Pb.test(k[1])&&c.isPlainObject(b)&&this.attr.call(a,b,!0),c.merge(this,a);if((b=u.getElementById(k[2]))&&b.parentNode){if(b.id!==k[2])return g.find(a);this.length=1;this[0]=b}this.context=
u;this.selector=a;return this}if(c.isFunction(a))return g.ready(a);a.selector!==q&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return aa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,g){a=c.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?
" ":"")+g:b&&(a.selector=this.selector+"."+b+"("+g+")");return a},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(aa.apply(this,arguments),"slice",aa.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||
this.constructor(null)},push:fa,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,b,g,k,w,A=arguments[0]||{},d=1,e=arguments.length,f=!1;"boolean"===typeof A&&(f=A,A=arguments[1]||{},d=2);"object"===typeof A||c.isFunction(A)||(A={});e===d&&(A=this,--d);for(;d<e;d++)if(null!=(a=arguments[d]))for(b in a)g=A[b],k=a[b],A!==k&&(f&&k&&(c.isPlainObject(k)||(w=c.isArray(k)))?(w?(w=!1,g=g&&c.isArray(g)?g:[]):g=g&&c.isPlainObject(g)?g:{},A[b]=c.extend(f,g,k)):k!==
q&&(A[b]=k));return A};c.extend({noConflict:function(a){h.$===c&&(h.$=t);a&&h.jQuery===c&&(h.jQuery=xa);return c},isReady:!1,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a?!--c.readyWait:!c.isReady){if(!u.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==a&&0<--c.readyWait||(J.resolveWith(u,[c]),c.fn.trigger&&c(u).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},
isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Mc[cb.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!Xa.call(a,"constructor")&&!Xa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(var b in a);return b===q||Xa.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,b,g){var k;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(g=b,b=0);b=b||u;if(k=Pb.exec(a))return[b.createElement(k[1])];k=c.buildFragment([a],b,g?null:[]);return c.merge([],(k.cacheable?c.clone(k.fragment):k.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;a=c.trim(a);if(h.JSON&&h.JSON.parse)return h.JSON.parse(a);if(ac.test(a.replace(Gb,"@").replace(Ad,"]").replace(zd,"")))return(new Function("return "+
a))();c.error("Invalid JSON: "+a)},parseXML:function(a){var b,g;if(!a||"string"!==typeof a)return null;try{h.DOMParser?(g=new DOMParser,b=g.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(k){b=q}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&Ra.test(a)&&(h.execScript||function(a){h.eval.call(h,a)})(a)},camelCase:function(a){return a.replace(Bd,
"ms-").replace(xe,Lc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,g){var k,w=0,A=a.length,d=A===q||c.isFunction(a);if(g)if(d)for(k in a){if(!1===b.apply(a[k],g))break}else for(;w<A&&!1!==b.apply(a[w++],g););else if(d)for(k in a){if(!1===b.call(a[k],k,a[k]))break}else for(;w<A&&!1!==b.call(a[w],w,a[w++]););return a},trim:va?function(a){return null==a?"":va.call(a)}:function(a){return null==a?"":a.toString().replace(Ob,"")},makeArray:function(a,
b){var g,k=b||[];null!=a&&(g=c.type(a),null==a.length||"string"===g||"function"===g||"regexp"===g||c.isWindow(a)?fa.call(k,a):c.merge(k,a));return k},inArray:function(a,b,c){var k;if(b){if(Y)return Y.call(b,a,c);k=b.length;for(c=c?0>c?Math.max(0,k+c):c:0;c<k;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,k=a.length,w=0;if("number"===typeof c)for(;w<c;w++)a[k++]=b[w];else for(;b[w]!==q;)a[k++]=b[w++];a.length=k;return a},grep:function(a,b,c){var k,w=[],A=0,d=a.length;
for(c=!!c;A<d;A++)k=!!b(a[A],A),c!==k&&w.push(a[A]);return w},map:function(a,b,g){var k,w,A=[],d=0,e=a.length;if(a instanceof c||e!==q&&"number"===typeof e&&(0<e&&a[0]&&a[e-1]||0===e||c.isArray(a)))for(;d<e;d++)k=b(a[d],d,g),null!=k&&(A[A.length]=k);else for(w in a)k=b(a[w],w,g),null!=k&&(A[A.length]=k);return A.concat.apply([],A)},guid:1,proxy:function(a,b){var g,k;"string"===typeof b&&(g=a[b],b=a,a=g);if(!c.isFunction(a))return q;k=aa.call(arguments,2);g=function(){return a.apply(b,k.concat(aa.call(arguments)))};
g.guid=a.guid=a.guid||g.guid||c.guid++;return g},access:function(a,b,g,k,w,A,d){var e,f=null==g,x=0,u=a.length;if(g&&"object"===typeof g){for(x in g)c.access(a,b,x,g[x],1,A,k);w=1}else if(k!==q){e=d===q&&c.isFunction(k);f&&(e?(e=b,b=function(a,b,g){return e.call(c(a),g)}):(b.call(a,k),b=null));if(b)for(;x<u;x++)b(a[x],g,e?k.call(a[x],x,b(a[x],g)):k,d);w=1}return w?a:f?b.call(a):u?b(a[0],g):A},now:function(){return(new Date).getTime()}});c.ready.promise=function(a){if(!J)if(J=c.Deferred(),"complete"===
u.readyState||"loading"!==u.readyState&&u.addEventListener)setTimeout(c.ready,1);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",Qb,!1),h.addEventListener("load",c.ready,!1);else{u.attachEvent("onreadystatechange",Qb);h.attachEvent("onload",c.ready);var b=!1;try{b=null==h.frameElement&&u.documentElement}catch(g){}b&&b.doScroll&&function k(){if(!c.isReady){try{b.doScroll("left")}catch(a){return setTimeout(k,50)}c.ready()}}()}return J.promise(a)};c.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,b){Mc["[object "+b+"]"]=b.toLowerCase()});C=c(u);var ud={};c.Callbacks=function(a){a="string"===typeof a?ud[a]||D(a):c.extend({},a);var b,g,k,w,A,d,e=[],f=!a.once&&[],x=function(c){b=a.memory&&c;g=!0;d=w||0;w=0;A=e.length;for(k=!0;e&&d<A;d++)if(!1===e[d].apply(c[0],c[1])&&a.stopOnFalse){b=!1;break}k=!1;e&&(f?f.length&&x(f.shift()):b?e=[]:u.disable())},u={add:function(){if(e){var g=e.length;(function Cd(b){c.each(b,function(b,g){!c.isFunction(g)||a.unique&&u.has(g)?g&&g.length&&Cd(g):e.push(g)})})(arguments);
k?A=e.length:b&&(w=g,x(b))}return this},remove:function(){e&&c.each(arguments,function(a,b){for(var g;-1<(g=c.inArray(b,e,g));)e.splice(g,1),k&&(g<=A&&A--,g<=d&&d--)});return this},has:function(a){return-1<c.inArray(a,e)},empty:function(){e=[];return this},disable:function(){e=f=b=q;return this},disabled:function(){return!e},lock:function(){f=q;b||u.disable();return this},locked:function(){return!f},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!e||g&&!f||(k?f.push(b):x(b));return this},
fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!g}};return u};c.extend({Deferred:function(a){var b=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],g="pending",k={state:function(){return g},always:function(){w.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return c.Deferred(function(g){c.each(b,function(b,k){var d=k[0],e=a[b];
w[k[1]](c.isFunction(e)?function(){var a=e.apply(this,arguments);if(a&&c.isFunction(a.promise))a.promise().done(g.resolve).fail(g.reject).progress(g.notify);else g[d+"With"](this===w?g:this,[a])}:g[d])});a=null}).promise()},promise:function(a){return"object"===typeof a?c.extend(a,k):k}},w={};k.pipe=k.then;c.each(b,function(a,c){var d=c[2],e=c[3];k[c[1]]=d.add;e&&d.add(function(){g=e},b[a^1][2].disable,b[2][2].lock);w[c[0]]=d.fire;w[c[0]+"With"]=d.fireWith});k.promise(w);a&&a.call(w,w);return w},when:function(a){var b=
0,g=aa.call(arguments),k=g.length,w=1!==k||a&&c.isFunction(a.promise)?k:0,A=1===w?a:c.Deferred(),d=function(a,b,c){return function(g){b[a]=this;c[a]=1<arguments.length?aa.call(arguments):g;c===e?A.notifyWith(b,c):--w||A.resolveWith(b,c)}},e,f,x;if(1<k)for(e=Array(k),f=Array(k),x=Array(k);b<k;b++)g[b]&&c.isFunction(g[b].promise)?g[b].promise().done(d(b,x,g)).fail(A.reject).progress(d(b,f,e)):--w;w||A.resolveWith(x,g);return A.promise()}});c.support=function(){var a,b,g,k,w,A,d,e=u.createElement("div");
e.setAttribute("className","t");e.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";b=e.getElementsByTagName("*");g=e.getElementsByTagName("a")[0];g.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length||!g)return{};k=u.createElement("select");w=k.appendChild(u.createElement("option"));b=e.getElementsByTagName("input")[0];a={leadingWhitespace:3===e.firstChild.nodeType,tbody:!e.getElementsByTagName("tbody").length,htmlSerialize:!!e.getElementsByTagName("link").length,
style:/top/.test(g.getAttribute("style")),hrefNormalized:"/a"===g.getAttribute("href"),opacity:/^0.5/.test(g.style.opacity),cssFloat:!!g.style.cssFloat,checkOn:"on"===b.value,optSelected:w.selected,getSetAttribute:"t"!==e.className,enctype:!!u.createElement("form").enctype,html5Clone:"\x3c:nav\x3e\x3c/:nav\x3e"!==u.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===u.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;k.disabled=!0;a.optDisabled=!w.disabled;try{delete e.test}catch(f){a.deleteExpando=!1}!e.addEventListener&&e.attachEvent&&e.fireEvent&&(e.attachEvent("onclick",g=function(){a.noCloneEvent=!1}),e.cloneNode(!0).fireEvent("onclick"),e.detachEvent("onclick",g));b=u.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked",
"checked");b.setAttribute("name","t");e.appendChild(b);g=u.createDocumentFragment();g.appendChild(e.lastChild);a.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=b.checked;g.removeChild(b);g.appendChild(e);if(e.attachEvent)for(A in{submit:!0,change:!0,focusin:!0})b="on"+A,d=b in e,d||(e.setAttribute(b,"return;"),d="function"===typeof e[b]),a[A+"Bubbles"]=d;c(function(){var b,c,g,k=u.getElementsByTagName("body")[0];k&&(b=u.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",
k.insertBefore(b,k.firstChild),c=u.createElement("div"),b.appendChild(c),c.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",g=c.getElementsByTagName("td"),g[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",a.reliableHiddenOffsets=d&&0===g[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
a.boxSizing=4===c.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==k.offsetTop,h.getComputedStyle&&(a.pixelPosition="1%"!==(h.getComputedStyle(c,null)||{}).top,a.boxSizingReliable="4px"===(h.getComputedStyle(c,null)||{width:"4px"}).width,g=u.createElement("div"),g.style.cssText=c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",g.style.marginRight=g.style.width="0",c.style.width="1px",c.appendChild(g),a.reliableMarginRight=!parseFloat((h.getComputedStyle(g,null)||{}).marginRight)),
"undefined"!==typeof c.style.zoom&&(c.innerHTML="",c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.style.overflow="visible",c.innerHTML="\x3cdiv\x3e\x3c/div\x3e",c.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==c.offsetWidth,b.style.zoom=1),k.removeChild(b))});g.removeChild(e);b=g=k=w=b=g=e=null;return a}();var vd=/^(?:\{.*\}|\[.*\])$/,qa=/([A-Z])/g;c.extend({cache:{},
deletedIds:[],uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!Z(a)},data:function(a,b,g,k){if(c.acceptData(a)){var w=c.expando,A="string"===typeof b,d=a.nodeType,e=d?c.cache:a,f=d?a[w]:a[w]&&w;if(f&&e[f]&&(k||e[f].data)||!A||g!==q){f||(d?a[w]=f=c.deletedIds.pop()||++c.uuid:f=w);e[f]||(e[f]={},d||(e[f].toJSON=c.noop));
if("object"===typeof b||"function"===typeof b)k?e[f]=c.extend(e[f],b):e[f].data=c.extend(e[f].data,b);a=e[f];k||(a.data||(a.data={}),a=a.data);g!==q&&(a[c.camelCase(b)]=g);A?(g=a[b],null==g&&(g=a[c.camelCase(b)])):g=a;return g}}},removeData:function(a,b,g){if(c.acceptData(a)){var k,w,A,d=a.nodeType,e=d?c.cache:a,f=d?a[c.expando]:c.expando;if(e[f]){if(b&&(k=g?e[f]:e[f].data)){c.isArray(b)||(b in k?b=[b]:(b=c.camelCase(b),b=b in k?[b]:b.split(" ")));w=0;for(A=b.length;w<A;w++)delete k[b[w]];if(!(g?
Z:c.isEmptyObject)(k))return}if(!g&&(delete e[f].data,!Z(e[f])))return;d?c.cleanData([a],!0):c.support.deleteExpando||e!=e.window?delete e[f]:e[f]=null}}},_data:function(a,b,g){return c.data(a,b,g,!0)},acceptData:function(a){var b=a.nodeName&&c.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});c.fn.extend({data:function(a,b){var g,k,w,A,d,e=this[0],x=0,u=null;if(a===q){if(this.length&&(u=c.data(e),1===e.nodeType&&!c._data(e,"parsedAttrs"))){w=e.attributes;for(d=w.length;x<
d;x++)A=w[x].name,0===A.indexOf("data-")&&(A=c.camelCase(A.substring(5)),f(e,A,u[A]));c._data(e,"parsedAttrs",!0)}return u}if("object"===typeof a)return this.each(function(){c.data(this,a)});g=a.split(".",2);g[1]=g[1]?"."+g[1]:"";k=g[1]+"!";return c.access(this,function(b){if(b===q)return u=this.triggerHandler("getData"+k,[g[0]]),u===q&&e&&(u=c.data(e,a),u=f(e,a,u)),u===q&&g[1]?this.data(g[0]):u;g[1]=b;this.each(function(){var w=c(this);w.triggerHandler("setData"+k,g);c.data(this,a,b);w.triggerHandler("changeData"+
k,g)})},null,b,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,g){var k;if(a)return b=(b||"fx")+"queue",k=c._data(a,b),g&&(!k||c.isArray(g)?k=c._data(a,b,c.makeArray(g)):k.push(g)),k||[]},dequeue:function(a,b){b=b||"fx";var g=c.queue(a,b),k=g.shift(),w=c._queueHooks(a,b),A=function(){c.dequeue(a,b)};"inprogress"===k&&(k=g.shift());k&&("fx"===b&&g.unshift("inprogress"),delete w.stop,k.call(a,A,w));!g.length&&w&&
w.empty.fire()},_queueHooks:function(a,b){var g=b+"queueHooks";return c._data(a,g)||c._data(a,g,{empty:c.Callbacks("once memory").add(function(){c.removeData(a,b+"queue",!0);c.removeData(a,g,!0)})})}});c.fn.extend({queue:function(a,b){var g=2;"string"!==typeof a&&(b=a,a="fx",g--);return arguments.length<g?c.queue(this[0],a):b===q?this:this.each(function(){var g=c.queue(this,a,b);c._queueHooks(this,a);"fx"===a&&"inprogress"!==g[0]&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var w=setTimeout(b,a);c.stop=function(){clearTimeout(w)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var g,k=1,w=c.Deferred(),A=this,d=this.length,e=function(){--k||w.resolveWith(A,[A])};"string"!==typeof a&&(b=a,a=q);for(a=a||"fx";d--;)(g=c._data(A[d],a+"queueHooks"))&&g.empty&&(k++,g.empty.add(e));e();return w.promise(b)}});var Fa,Nc,nb,Oc=/[\t\r\n]/g,Dd=/\r/g,Ed=/^(?:button|input)$/i,
ra=/^(?:button|input|object|select|textarea)$/i,ya=/^a(?:rea|)$/i,ma=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Fd=c.support.getSetAttribute;c.fn.extend({attr:function(a,b){return c.access(this,c.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,c.prop,a,b,1<arguments.length)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=
q,delete this[a]}catch(b){}})},addClass:function(a){var b,g,k,w,A,d,e;if(c.isFunction(a))return this.each(function(b){c(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(Ea),g=0,k=this.length;g<k;g++)if(w=this[g],1===w.nodeType)if(w.className||1!==b.length){A=" "+w.className+" ";d=0;for(e=b.length;d<e;d++)~A.indexOf(" "+b[d]+" ")||(A+=b[d]+" ");w.className=c.trim(A)}else w.className=a;return this},removeClass:function(a){var b,g,k,w,d,e,f;if(c.isFunction(a))return this.each(function(b){c(this).removeClass(a.call(this,
b,this.className))});if(a&&"string"===typeof a||a===q)for(b=(a||"").split(Ea),e=0,f=this.length;e<f;e++)if(k=this[e],1===k.nodeType&&k.className){g=(" "+k.className+" ").replace(Oc," ");w=0;for(d=b.length;w<d;w++)for(;-1<g.indexOf(" "+b[w]+" ");)g=g.replace(" "+b[w]+" "," ");k.className=a?c.trim(g):""}return this},toggleClass:function(a,b){var g=typeof a,k="boolean"===typeof b;return c.isFunction(a)?this.each(function(g){c(this).toggleClass(a.call(this,g,this.className,b),b)}):this.each(function(){if("string"===
g)for(var w,d=0,e=c(this),f=b,x=a.split(Ea);w=x[d++];)f=k?f:!e.hasClass(w),e[f?"addClass":"removeClass"](w);else if("undefined"===g||"boolean"===g)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(Oc," ").indexOf(a))return!0;return!1},val:function(a){var b,g,k,w=this[0];if(arguments.length)return k=
c.isFunction(a),this.each(function(g){var w=c(this);1===this.nodeType&&(g=k?a.call(this,g,w.val()):a,null==g?g="":"number"===typeof g?g+="":c.isArray(g)&&(g=c.map(g,function(a){return null==a?"":a+""})),b=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,g,"value")!==q||(this.value=g))});if(w){if((b=c.valHooks[w.type]||c.valHooks[w.nodeName.toLowerCase()])&&"get"in b&&(g=b.get(w,"value"))!==q)return g;g=w.value;return"string"===typeof g?g.replace(Dd,""):null==
g?"":g}}});c.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,g,k=a.selectedIndex,w=[],d=a.options,e="select-one"===a.type;if(0>k)return null;a=e?k:0;for(g=e?k+1:d.length;a<g;a++)if(b=d[a],!(!b.selected||(c.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(e)return b;w.push(b)}return e&&!w.length&&d.length?c(d[k]).val():
w},set:function(a,b){var g=c.makeArray(b);c(a).find("option").each(function(){this.selected=0<=c.inArray(c(this).val(),g)});g.length||(a.selectedIndex=-1);return g}}},attrFn:{},attr:function(a,b,g,k){var w,d,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e){if(k&&c.isFunction(c.fn[b]))return c(a)[b](g);if("undefined"===typeof a.getAttribute)return c.prop(a,b,g);if(k=1!==e||!c.isXMLDoc(a))b=b.toLowerCase(),d=c.attrHooks[b]||(ma.test(b)?Nc:Fa);if(g!==q)if(null===g)c.removeAttr(a,b);else{if(d&&"set"in d&&k&&(w=
d.set(a,g,b))!==q)return w;a.setAttribute(b,""+g);return g}else{if(d&&"get"in d&&k&&null!==(w=d.get(a,b)))return w;w=a.getAttribute(b);return null===w?q:w}}},removeAttr:function(a,b){var g,k,d,e,f=0;if(b&&1===a.nodeType)for(k=b.split(Ea);f<k.length;f++)if(d=k[f])g=c.propFix[d]||d,(e=ma.test(d))||c.attr(a,d,""),a.removeAttribute(Fd?d:g),e&&g in a&&(a[g]=!1)},attrHooks:{type:{set:function(a,b){if(Ed.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");else if(!c.support.radioValue&&
"radio"===b&&c.nodeName(a,"input")){var g=a.value;a.setAttribute("type",b);g&&(a.value=g);return b}}},value:{get:function(a,b){return Fa&&c.nodeName(a,"button")?Fa.get(a,b):b in a?a.value:null},set:function(a,b,g){if(Fa&&c.nodeName(a,"button"))return Fa.set(a,b,g);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(a,b,g){var k,d,e;e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e){if(e=1!==e||!c.isXMLDoc(a))b=c.propFix[b]||b,d=c.propHooks[b];return g!==q?d&&"set"in d&&(k=d.set(a,g,b))!==q?k:a[b]=g:d&&"get"in d&&null!==(k=d.get(a,b))?k:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):ra.test(a.nodeName)||ya.test(a.nodeName)&&a.href?0:q}}}});Nc={get:function(a,b){var g,k=c.prop(a,b);return!0===k||
"boolean"!==typeof k&&(g=a.getAttributeNode(b))&&!1!==g.nodeValue?b.toLowerCase():q},set:function(a,b,g){!1===b?c.removeAttr(a,g):(b=c.propFix[g]||g,b in a&&(a[b]=!0),a.setAttribute(g,g.toLowerCase()));return g}};Fd||(nb={name:!0,id:!0,coords:!0},Fa=c.valHooks.button={get:function(a,b){var c;return(c=a.getAttributeNode(b))&&(nb[b]?""!==c.value:c.specified)?c.value:q},set:function(a,b,c){var k=a.getAttributeNode(c);k||(k=u.createAttribute(c),a.setAttributeNode(k));return k.value=b+""}},c.each(["width",
"height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),c.attrHooks.contenteditable={get:Fa.get,set:function(a,b,c){""===b&&(b="false");Fa.set(a,b,c)}});c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?q:a}})});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
q},set:function(a,b){return a.style.cssText=""+b}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));c.support.enctype||(c.propFix.enctype="encoding");c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],
{set:function(a,b){if(c.isArray(b))return a.checked=0<=c.inArray(c(a).val(),b)}})});var K=/^(?:textarea|input|select)$/i,cc=/^([^\.]*|)(?:\.(.+)|)$/,Pc=/(?:^|\s)hover(\.\S+|)\b/,Ga=/^key/,Qc=/^(?:mouse|contextmenu)|click/,wa=/^(?:focusinfocus|focusoutblur)$/,Ha=function(a){return c.event.special.hover?a:a.replace(Pc,"mouseenter$1 mouseleave$1")};c.event={add:function(a,b,g,k,d){var e,f,x,u,h,m,r,t,p;if(3!==a.nodeType&&8!==a.nodeType&&b&&g&&(e=c._data(a))){g.handler&&(r=g,g=r.handler,d=r.selector);
g.guid||(g.guid=c.guid++);x=e.events;x||(e.events=x={});f=e.handle;f||(e.handle=f=function(a){return"undefined"===typeof c||a&&c.event.triggered===a.type?q:c.event.dispatch.apply(f.elem,arguments)},f.elem=a);b=c.trim(Ha(b)).split(" ");for(e=0;e<b.length;e++)u=cc.exec(b[e])||[],h=u[1],m=(u[2]||"").split(".").sort(),p=c.event.special[h]||{},h=(d?p.delegateType:p.bindType)||h,p=c.event.special[h]||{},u=c.extend({type:h,origType:u[1],data:k,handler:g,guid:g.guid,selector:d,namespace:m.join(".")},r),t=
x[h],t||(t=x[h]=[],t.delegateCount=0,p.setup&&!1!==p.setup.call(a,k,m,f)||(a.addEventListener?a.addEventListener(h,f,!1):a.attachEvent&&a.attachEvent("on"+h,f))),p.add&&(p.add.call(a,u),u.handler.guid||(u.handler.guid=g.guid)),d?t.splice(t.delegateCount++,0,u):t.push(u),c.event.global[h]=!0;a=null}},global:{},remove:function(a,b,g,k,d){var e,f,x,u,h,m,r,t,p,n,q=c.hasData(a)&&c._data(a);if(q&&(r=q.events)){b=c.trim(Ha(b||"")).split(" ");for(e=0;e<b.length;e++)if(f=cc.exec(b[e])||[],x=u=f[1],f=f[2],
x){t=c.event.special[x]||{};x=(k?t.delegateType:t.bindType)||x;p=r[x]||[];h=p.length;f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(m=0;m<p.length;m++)n=p[m],!d&&u!==n.origType||g&&g.guid!==n.guid||f&&!f.test(n.namespace)||k&&k!==n.selector&&("**"!==k||!n.selector)||(p.splice(m--,1),n.selector&&p.delegateCount--,t.remove&&t.remove.call(a,n));0===p.length&&h!==p.length&&(t.teardown&&!1!==t.teardown.call(a,f,q.handle)||c.removeEvent(a,x,q.handle),delete r[x])}else for(x in r)c.event.remove(a,
x+b[e],g,k,!0);c.isEmptyObject(r)&&(delete q.handle,c.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,b,g,k){if(!g||3!==g.nodeType&&8!==g.nodeType){var d,e,f,x,m,r,t=a.type||a;f=[];if(!wa.test(t+c.event.triggered)&&(0<=t.indexOf("!")&&(t=t.slice(0,-1),d=!0),0<=t.indexOf(".")&&(f=t.split("."),t=f.shift(),f.sort()),g&&!c.event.customEvent[t]||c.event.global[t]))if(a="object"===typeof a?a[c.expando]?a:new c.Event(t,a):new c.Event(t),a.type=t,a.isTrigger=
!0,a.exclusive=d,a.namespace=f.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0>t.indexOf(":")?"on"+t:"",g){if(a.result=q,a.target||(a.target=g),b=null!=b?c.makeArray(b):[],b.unshift(a),x=c.event.special[t]||{},!x.trigger||!1!==x.trigger.apply(g,b)){r=[[g,x.bindType||t]];if(!k&&!x.noBubble&&!c.isWindow(g)){m=x.delegateType||t;d=wa.test(m+t)?g:g.parentNode;for(e=g;d;d=d.parentNode)r.push([d,m]),e=d;e===(g.ownerDocument||u)&&r.push([e.defaultView||
e.parentWindow||h,m])}for(e=0;e<r.length&&!a.isPropagationStopped();e++)d=r[e][0],a.type=r[e][1],(m=(c._data(d,"events")||{})[a.type]&&c._data(d,"handle"))&&m.apply(d,b),(m=f&&d[f])&&c.acceptData(d)&&!1===m.apply(d,b)&&a.preventDefault();a.type=t;k||a.isDefaultPrevented()||x._default&&!1!==x._default.apply(g.ownerDocument,b)||"click"===t&&c.nodeName(g,"a")||!c.acceptData(g)||!f||!g[t]||("focus"===t||"blur"===t)&&0===a.target.offsetWidth||c.isWindow(g)||((e=g[f])&&(g[f]=null),c.event.triggered=t,g[t](),
c.event.triggered=q,e&&(g[f]=e));return a.result}}else for(e in g=c.cache,g)g[e].events&&g[e].events[t]&&c.event.trigger(a,b,g[e].handle.elem,!0)}},dispatch:function(a){"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("MODERATE")&&console.time("Click Event Time");"click"==a.type&&ajq!==q&&ajq.checkTrimNative();a=c.event.fix(a||h.event);var b,g,k,d,e,f,x,t,m,r;g=c.extend([],(c._data(this,"events")||{})[a.type]||[]);x=[];for(var p=0;p<g.length;p++)"apptegicDocumentLevelClick"==g[p].namespace&&
(x.push(g[p]),g.splice(p,1),p--,g.delegateCount--);e=g.delegateCount;var p=[].slice.call(arguments),n=!a.exclusive&&!a.namespace,B=c.event.special[a.type]||{},O=[];p[0]=a;a.delegateTarget=this;if(B.preDispatch&&!1===B.preDispatch.call(this,a))"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("MODERATE")&&console.timeEnd("Click Event Time");else{if(e&&(!a.button||"click"!==a.type))for(d=c(this),d.context=this,k=a.target;k!=this;k=k.parentNode||this)if(!0!==k.disabled||"click"!==a.type){f=
{};t=[];d[0]=k;"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("RIGOROUS")&&console.time("Node Parsed: "+k.tagName);for(b=0;b<e;b++)m=g[b],r=m.selector,f[r]===q&&(f[r]=d.is(r)),f[r]&&t.push(m);t.length&&O.push({elem:k,matches:t});"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("RIGOROUS")&&console.timeEnd("Node Parsed: "+k.tagName)}"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("MODERATE")&&console.time("Direct Handler Total Time");for(b=0;b<x.length;b++)"click"==
a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("RIGOROUS")&&console.time("Direct Handler #"+b+" with selector: "+x[b].selector),m=c(u).find(x[b].selector),k=c(a.target),0<m.size()&&(m.is(k)&&!0!==k.get(0).disabled||0<m.find(k).size()&&!0!==m.find(k).get(0).disabled)&&O.push({elem:this,matches:[x[b]]}),"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("RIGOROUS")&&console.timeEnd("Direct Handler #"+b+" with selector: "+x[b].selector);"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("MODERATE")&&
console.timeEnd("Direct Handler Total Time");g.length>e&&O.push({elem:this,matches:g.slice(e)});for(b=0;b<O.length&&!a.isPropagationStopped();b++)for(x=O[b],a.currentTarget=x.elem,g=0;g<x.matches.length&&!a.isImmediatePropagationStopped();g++)if(m=x.matches[g],n||!a.namespace&&!m.namespace||a.namespace_re&&a.namespace_re.test(m.namespace))a.data=m.data,a.handleObj=m,e=((c.event.special[m.origType]||{}).handle||m.handler).apply(x.elem,p),e!==q&&(a.result=e,!1===e&&(a.preventDefault(),a.stopPropagation()));
B.postDispatch&&B.postDispatch.call(this,a);"click"==a.type&&evergageLog!==q&&evergageLog.shouldTestPerf("MODERATE")&&console.timeEnd("Click Event Time");return a.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},
mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,k,d=b.button,e=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||u,k=c.documentElement,c=c.body,a.pageX=b.clientX+(k&&k.scrollLeft||c&&c.scrollLeft||0)-(k&&k.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(k&&k.scrollTop||c&&c.scrollTop||0)-(k&&k.clientTop||c&&c.clientTop||0));!a.relatedTarget&&e&&(a.relatedTarget=e===
a.target?b.toElement:e);a.which||d===q||(a.which=d&1?1:d&2?3:d&4?2:0);return a}},fix:function(a){if(a[c.expando])return a;var b,g,k=a,d=c.event.fixHooks[a.type]||{},e=d.props?this.props.concat(d.props):this.props;a=c.Event(k);for(b=e.length;b;)g=e[--b],a[g]=k[g];a.target||(a.target=k.srcElement||u);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,k):a},special:{ready:{setup:c.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},
beforeunload:{setup:function(a,b,g){c.isWindow(this)&&(this.onbeforeunload=g)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,g,k){a=c.extend(new c.Event,g,{type:a,isSimulated:!0,originalEvent:{}});k?c.event.trigger(a,null,b):c.event.dispatch.call(b,a);a.isDefaultPrevented()&&g.preventDefault()}};c.event.handle=c.event.dispatch;c.removeEvent=u.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,
c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};c.Event=function(a,b){if(!(this instanceof c.Event))return new c.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===q&&a.getPreventDefault&&a.getPreventDefault()?v:N):this.type=a;b&&c.extend(this,b);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=!0};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=v;var a=this.originalEvent;
a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=v;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()},isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={delegateType:b,bindType:b,handle:function(a){var k,
d=a.relatedTarget,e=a.handleObj;if(!d||d!==this&&!c.contains(this,d))a.type=e.origType,k=e.handler.apply(this,arguments),a.type=b;return k}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=c.nodeName(a,"input")||c.nodeName(a,"button")?a.form:q)&&!c._data(a,"_submit_attached")&&(c.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),c._data(a,"_submit_attached",
!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&c.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(K.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)c.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=
!0)}),c.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,a,!0)});return!1}c.event.add(this,"beforeactivate._change",function(a){a=a.target;K.test(a.nodeName)&&!c._data(a,"_change_attached")&&(c.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||c.event.simulate("change",this.parentNode,a,!0)}),c._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){c.event.remove(this,"._change");return K.test(this.nodeName)}});c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){var g=0,k=function(a){c.event.simulate(b,a.target,c.event.fix(a),!0)};c.event.special[b]={setup:function(){0===g++&&u.addEventListener(a,k,!0)},teardown:function(){0===--g&&u.removeEventListener(a,k,!0)}}});c.fn.extend({on:function(a,b,
g,k,d){var e,f;if("object"===typeof a){"string"!==typeof b&&(g=g||b,b=q);for(f in a)this.on(f,b,g,a[f],d);return this}null==g&&null==k?(k=b,g=b=q):null==k&&("string"===typeof b?(k=g,g=q):(k=g,g=b,b=q));if(!1===k)k=N;else if(!k)return this;1===d&&(e=k,k=function(a){c().off(a);return e.apply(this,arguments)},k.guid=e.guid||(e.guid=c.guid++));return this.each(function(){c.event.add(this,a,k,g,b)})},one:function(a,b,c,k){return this.on(a,b,c,k,1)},off:function(a,b,g){var k;if(a&&a.preventDefault&&a.handleObj)return k=
a.handleObj,c(a.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this;if("object"===typeof a){for(k in a)this.off(k,b,a[k]);return this}if(!1===b||"function"===typeof b)g=b,b=q;!1===g&&(g=N);return this.each(function(){c.event.remove(this,a,g,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,g){c(this.context).on(a,this.selector,b,g);return this},die:function(a,b){c(this.context).off(a,
this.selector||"**",b);return this},delegate:function(a,b,c,k){return this.on(b,a,c,k)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return c.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,g=a.guid||c.guid++,k=0,d=function(g){var d=(c._data(this,"lastToggle"+a.guid)||0)%k;c._data(this,"lastToggle"+a.guid,d+1);g.preventDefault();
return b[d].apply(this,arguments)||!1};for(d.guid=g;k<b.length;)b[k++].guid=g;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){c.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};
Ga.test(b)&&(c.event.fixHooks[b]=c.event.keyHooks);Qc.test(b)&&(c.event.fixHooks[b]=c.event.mouseHooks)});(function(a,b){function g(a,b,c,g){for(var k=0,d=b.length;k<d;k++)v(a,b[k],c,g)}function k(a,b,c,k,d,e){var w,f=J.setFilters[b.toLowerCase()];f||v.error(b);!a&&(w=d)||g(a||"*",k,w=[],d);return 0<w.length?f(w,c,e):[]}function d(a,c,e,w,f){for(var A,x,u,t,m,p,r,h=0,ha=f.length,n=z.POS,q=new RegExp("^"+n.source+"(?![\\x20\\t\\r\\n\\f])","i"),B=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===
b&&(A[a]=b)};h<ha;h++){n.exec("");a=f[h];t=[];u=0;for(m=w;A=n.exec(a);)if(x=n.lastIndex=A.index+A[0].length,x>u){r=a.slice(u,A.index);u=x;p=[c];Y.test(r)&&(m&&(p=m),m=w);if(x=db.test(r))r=r.slice(0,-5).replace(Y,"$\x26*");1<A.length&&A[0].replace(q,B);m=k(r,A[1],A[2],p,m,x)}m?(t=t.concat(m),(r=a.slice(u))&&")"!==r?Y.test(r)?g(r,t,e,w):v(r,c,e,w?w.concat(m):m):H.apply(e,t)):v(a,c,e,w)}return 1===ha?e:v.uniqueSort(e)}function e(a,b,c){var g=b.dir,k=O++;a||(a=function(a){return a===c});return b.first?
function(b,c){for(;b=b[g];)if(1===b.nodeType)return a(b,c)&&b}:function(b,c){for(var d,e=k+"."+t,w=e+"."+u;b=b[g];)if(1===b.nodeType){if((d=b[aa])===w)return b.sizset;if("string"===typeof d&&0===d.indexOf(e)){if(b.sizset)return b}else{b[aa]=w;if(a(b,c))return b.sizset=!0,b;b.sizset=!1}}}}function f(a,b){return a?function(c,g){var k=b(c,g);return k&&a(!0===k?c:k,g)}:b}function x(a){return function(b,c){for(var g,k=0;g=a[k];k++)if(g(b,c))return!0;return!1}}var u,t,m,r,h,p=a.document,n=p.documentElement,
q=!1,B=!0,O=0,xa=[].slice,H=[].push,aa=("sizcache"+Math.random()).replace(".",""),C="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",E="(?\x3d[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+C+"|"+":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?\x3d[^\\[]*\\]))|(?:,(?\x3d[^\\(]*\\))))*))\\)|)".replace(2,
7)+"|[^\\\\(),])+",fa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Y=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,T=new RegExp(E+"?(?\x3d[\\x20\\t\\r\\n\\f]*,|$)","g"),W=new RegExp("^(?:(?!,)(?:(?:^|,)[\\x20\\t\\r\\n\\f]*"+E+")*?|[\\x20\\t\\r\\n\\f]*(.*?))(\\)|$)"),I=new RegExp(E.slice(19,-6)+"\\x20\\t\\r\\n\\f\x3e+~])+|[\\x20\\t\\r\\n\\f]*([\\x20\\t\\r\\n\\f\x3e+~])[\\x20\\t\\r\\n\\f]*","g"),V=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,P=/[\x20\t\r\n\f]*[+~]/,
db=/:not\($/,Q=/h\d/i,cb=/input|select|textarea|button/i,va=/\\(?!\\)/g,z={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+C),PSEUDO:/^:((?:\\.|[-\w]|[^\x00-\xa0])+)(?:\((?:(['"])((?:\\.|[^\\])*?)\2|((?:[^,]|\\,|(?:,(?=[^\[]*\]))|(?:,(?=[^\(]*\))))*))\)|)/,CHILD:/^:(only|nth|last|first)-child(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?\x3d[^-]|$)","ig"),needsContext:/^[\x20\t\r\n\f]*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\)|)(?=[^-]|$)/i},K={},F=[],Xa={},Ra=[],C=function(a){a.sizzleFilter=!0;return a},E=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},ua=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},M=function(a){var b=!1,c=p.createElement("div");try{b=
a(c)}catch(g){}return b},D=M(function(a){a.innerHTML="\x3cselect\x3e\x3c/select\x3e";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ea=M(function(a){a.id=aa+0;a.innerHTML="\x3ca name\x3d'"+aa+"'\x3e\x3c/a\x3e\x3cdiv name\x3d'"+aa+"'\x3e\x3c/div\x3e";n.insertBefore(a,n.firstChild);var b=p.getElementsByName&&p.getElementsByName(aa).length===2+p.getElementsByName(aa+0).length;h=!p.getElementById(aa);n.removeChild(a);return b}),Na=M(function(a){a.appendChild(p.createComment(""));
return 0===a.getElementsByTagName("*").length}),S=M(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),L=M(function(a){a.innerHTML="\x3cdiv class\x3d'hidden e'\x3e\x3c/div\x3e\x3cdiv class\x3d'hidden'\x3e\x3c/div\x3e";if(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 1!==a.getElementsByClassName("e").length}),v=function(a,
b,c,g){c=c||[];b=b||p;var k,d,e,w,f=b.nodeType;if(1!==f&&9!==f)return[];if(!a||"string"!==typeof a)return c;e=N(b);if(!e&&!g&&(k=V.exec(a)))if(w=k[1])if(9===f)if((d=b.getElementById(w))&&d.parentNode){if(d.id===w)return c.push(d),c}else return c;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(w))&&bb(b,d)&&d.id===w)return c.push(d),c}else{if(k[2])return H.apply(c,xa.call(b.getElementsByTagName(a),0)),c;if((w=k[3])&&L&&b.getElementsByClassName)return H.apply(c,xa.call(b.getElementsByClassName(w),
0)),c}return Ea(a,b,c,g,e)},J=v.selectors={cacheLength:50,match:z,order:["ID","TAG"],attrHandle:{},createPseudo:C,find:{ID:h?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,c,g){if("undefined"!==typeof c.getElementById&&!g)return(c=c.getElementById(a))?c.id===a||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===a?[c]:b:[]},TAG:Na?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:
function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var g,k=[],d=0;g=c[d];d++)1===g.nodeType&&k.push(g);return k}return c}},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(va,"");a[3]=(a[4]||a[5]||"").replace(va,"");"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||v.error(a[0]),a[3]=+(a[3]?
a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&v.error(a[0]);return a},PSEUDO:function(a){var b,c=a[4];if(z.CHILD.test(a[0]))return null;c&&(b=W.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1));a.splice(2,3,c||a[3]);return a}},filter:{ID:h?function(a){a=a.replace(va,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(va,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&
b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(va,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=K[a];b||(b=K[a]=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),F.push(a),F.length>J.cacheLength&&delete K[F.shift()]);return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(g){g=v.attr(g,a);
var k=g+"";if(null==g)return"!\x3d"===b;switch(b){case "\x3d":return k===c;case "!\x3d":return k!==c;case "^\x3d":return c&&0===k.indexOf(c);case "*\x3d":return c&&-1<k.indexOf(c);case "$\x3d":return c&&k.substr(k.length-c.length)===c;case "~\x3d":return-1<(" "+k+" ").indexOf(c);case "|\x3d":return k===c||k.substr(0,c.length+1)===c+"-"}}:function(b){return null!=v.attr(b,a)}},CHILD:function(a,b,c,g){if("nth"===a){var k=O++;return function(a){var b,d=0,e=a;if(1===c&&0===g)return!0;if((b=a.parentNode)&&
(b[aa]!==k||!a.sizset)){for(e=b.firstChild;e&&(1!==e.nodeType||(e.sizset=++d,e!==a));e=e.nextSibling);b[aa]=k}a=a.sizset-g;return 0===c?0===a:0===a%c&&0<=a/c}}return function(b){var c=b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,g){var k=J.pseudos[a]||J.pseudos[a.toLowerCase()];k||v.error("unsupported pseudo: "+a);return k.sizzleFilter?
k(b,c,g):k}},pseudos:{not:C(function(a,b,c){var g=Ob(a.replace(fa,"$1"),b,c);return function(a){return!g(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!J.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||
3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:C(function(a){return function(b){return-1<(b.textContent||b.innerText||ca(b)).indexOf(a)}}),has:C(function(a){return function(b){return 0<v(a,b).length}}),header:function(a){return Q.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:E("radio"),checkbox:E("checkbox"),file:E("file"),password:E("password"),image:E("image"),
submit:ua("submit"),reset:ua("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return cb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){b=a.pop();return c?a:[b]},even:function(a,b,c){b=[];
c=c?1:0;for(var g=a.length;c<g;c+=2)b.push(a[c]);return b},odd:function(a,b,c){b=[];c=c?0:1;for(var g=a.length;c<g;c+=2)b.push(a[c]);return b},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){b=a.splice(+b,1);return c?a:b}}};J.setFilters.nth=J.setFilters.eq;J.filters=J.pseudos;S||(J.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}});ea&&(J.order.push("NAME"),
J.find.NAME=function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(a)});L&&(J.order.splice(1,0,"CLASS"),J.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)});try{xa.call(n.childNodes,0)[0].nodeType}catch(ye){xa=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}var N=v.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1},bb=v.contains=n.compareDocumentPosition?
function(a,b){return!!(a.compareDocumentPosition(b)&16)}:n.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,g=b.parentNode;return a===g||!!(g&&1===g.nodeType&&c.contains&&c.contains(g))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},ca=v.getText=function(a){var b,c="",g=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ca(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[g];g++)c+=
ca(b);return c};v.attr=function(a,b){var c;(c=N(a))||(b=b.toLowerCase());return J.attrHandle[b]?J.attrHandle[b](a):D||c?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:null:c.specified?c.value:null:null};v.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};[0,0].sort(function(){return B=0});n.compareDocumentPosition?m=function(a,b){return a===b?(q=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?
-1:1}:(m=function(a,b){if(a===b)return q=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,g,k=[],d=[];c=a.parentNode;g=b.parentNode;var e=c;if(c===g)return r(a,b);if(!c)return-1;if(!g)return 1;for(;e;)k.unshift(e),e=e.parentNode;for(e=g;e;)d.unshift(e),e=e.parentNode;c=k.length;g=d.length;for(e=0;e<c&&e<g;e++)if(k[e]!==d[e])return r(k[e],d[e]);return e===c?r(a,d[e],-1):r(k[e],b,1)},r=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});
v.uniqueSort=function(a){var b,c=1;if(m&&(q=B,a.sort(m),q))for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};var Ob=v.compile=function(a,b,c){var g,k,d=Xa[a];if(d&&d.context===b)return d;var w,u,d=[];g=0;for(var m=W.exec(a),t=!m.pop()&&!m.pop(),r=t&&a.match(T)||[""],h=J.preFilter,n=J.filter,q=!c&&b!==p;null!=(u=r[g])&&t;g++)for(d.push(w=[]),q&&(u=" "+u);u;){t=!1;if(m=Y.exec(u))u=u.slice(m[0].length),t=w.push({part:m.pop().replace(fa," "),captures:m});for(k in n)!(m=z[k].exec(u))||h[k]&&!(m=h[k](m,
b,c))||(u=u.slice(m.shift().length),t=w.push({part:k,captures:m}));if(!t)break}t||v.error(a);for(k=0;g=d[k];k++){w=d;u=k;m=b;t=c;h=r=void 0;for(n=0;r=g[n];n++)J.relative[r.part]?h=e(h,J.relative[r.part],m):(r.captures.push(m,t),h=f(h,J.filter[r.part].apply(null,r.captures)));w[u]=h}d=Xa[a]=x(d);d.context=b;d.runs=d.dirruns=0;Ra.push(a);Ra.length>J.cacheLength&&delete Xa[Ra.shift()];return d};v.matches=function(a,b){return v(a,null,null,b)};v.matchesSelector=function(a,b){return 0<v(b,null,null,[a]).length};
var Ea=function(a,b,c,g,k){a=a.replace(fa,"$1");var e,f,A,x,m,r,h=a.match(T);f=a.match(I);A=b.nodeType;if(z.POS.test(a))return d(a,b,c,g,h);if(g)e=xa.call(g,0);else if(h&&1===h.length){if(1<f.length&&9===A&&!k&&(h=z.ID.exec(f[0]))){b=J.find.ID(h[1],b,k)[0];if(!b)return c;a=a.slice(f.shift().length)}g=(h=P.exec(f[0]))&&!h.index&&b.parentNode||b;r=f.pop();x=r.split(":not")[0];f=0;for(A=J.order.length;f<A;f++)if(m=J.order[f],h=z[m].exec(x))if(e=J.find[m]((h[1]||"").replace(va,""),g,k),null!=e){x===r&&
((a=a.slice(0,a.length-r.length)+x.replace(z[m],""))||H.apply(c,xa.call(e,0)));break}}if(a)for(k=Ob(a,b,k),t=k.dirruns++,null==e&&(e=J.find.TAG("*",P.test(a)&&b.parentNode||b)),f=0;a=e[f];f++)u=k.runs++,k(a,b)&&c.push(a);return c};p.querySelectorAll&&function(){var a,b=Ea,c=/'|\\/g,g=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,k=[],d=[":active"],e=n.matchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;M(function(a){a.innerHTML="\x3cselect\x3e\x3coption selected\x3e\x3c/option\x3e\x3c/select\x3e";
a.querySelectorAll("[selected]").length||k.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||k.push(":checked")});M(function(a){a.innerHTML="\x3cp test\x3d''\x3e\x3c/p\x3e";a.querySelectorAll("[test^\x3d'']").length&&k.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="\x3cinput type\x3d'hidden'\x3e";a.querySelectorAll(":enabled").length||k.push(":enabled",":disabled")});k=k.length&&new RegExp(k.join("|"));
Ea=function(a,g,d,e,w){if(!(e||w||k&&k.test(a)))if(9===g.nodeType)try{return H.apply(d,xa.call(g.querySelectorAll(a),0)),d}catch(f){}else if(1===g.nodeType&&"object"!==g.nodeName.toLowerCase()){var A=g.getAttribute("id"),x=A||aa,m=P.test(a)&&g.parentNode||g;A?x=x.replace(c,"\\$\x26"):g.setAttribute("id",x);try{return H.apply(d,xa.call(m.querySelectorAll(a.replace(T,"[id\x3d'"+x+"'] $\x26")),0)),d}catch(f){}finally{A||g.removeAttribute("id")}}return b(a,g,d,e,w)};e&&(M(function(b){a=e.call(b,"div");
try{e.call(b,"[test!\x3d'']:sizzle"),d.push(J.match.PSEUDO)}catch(c){}}),d=new RegExp(d.join("|")),v.matchesSelector=function(b,c){c=c.replace(g,"\x3d'$1']");if(!(N(b)||d.test(c)||k&&k.test(c)))try{var w=e.call(b,c);if(w||a||b.document&&11!==b.document.nodeType)return w}catch(f){}return 0<v(c,null,null,[b]).length})}();v.attr=c.attr;c.find=v;c.expr=v.selectors;c.expr[":"]=c.expr.pseudos;c.unique=v.uniqueSort;c.text=v.getText;c.isXMLDoc=v.isXML;c.contains=v.contains})(h);var Tc=/Until$/,Id=/^(?:parents|prev(?:Until|All))/,
Nb=/^.[^:#\[\.,]*$/,Uc=c.expr.match.needsContext,Jd={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){var b,g,k,d,e,f,x=this;if("string"!==typeof a)return c(a).filter(function(){b=0;for(g=x.length;b<g;b++)if(c.contains(x[b],this))return!0});f=this.pushStack("","find",a);b=0;for(g=this.length;b<g;b++)if(k=f.length,c.find(a,this[b],f),0<b)for(d=k;d<f.length;d++)for(e=0;e<k;e++)if(f[e]===f[d]){f.splice(d--,1);break}return f},has:function(a){var b,g=c(a,this),k=g.length;return this.filter(function(){for(b=
0;b<k;b++)if(c.contains(this,g[b]))return!0})},not:function(a){return this.pushStack(ia(this,a,!1),"not",a)},filter:function(a){return this.pushStack(ia(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Uc.test(a)?0<=c(a,this.context).index(this[0]):0<c.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var g,k=0,d=this.length,e=[],f=Uc.test(a)||"string"!==typeof a?c(a,b||this.context):0;k<d;k++)for(g=this[k];g&&g.ownerDocument&&g!==b&&11!==g.nodeType;){if(f?
-1<f.index(g):c.find.matchesSelector(g,a)){e.push(g);break}g=g.parentNode}e=1<e.length?c.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){return a?"string"===typeof a?c.inArray(this[0],c(a)):c.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var g="string"===typeof a?c(a,b):c.makeArray(a&&a.nodeType?[a]:a),k=c.merge(this.get(),g);return this.pushStack(L(g[0])||L(k[0])?k:c.unique(k))},addBack:function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))}});c.fn.andSelf=c.fn.addBack;c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,g){return c.dir(a,"parentNode",g)},next:function(a){return Ba(a,"nextSibling")},prev:function(a){return Ba(a,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,g){return c.dir(a,
"nextSibling",g)},prevUntil:function(a,b,g){return c.dir(a,"previousSibling",g)},siblings:function(a){return c.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.merge([],a.childNodes)}},function(a,b){c.fn[a]=function(g,k){var d=c.map(this,b,g);Tc.test(a)||(k=g);k&&"string"===typeof k&&(d=c.filter(k,d));d=1<this.length&&!Jd[a]?c.unique(d):d;1<this.length&&Id.test(a)&&
(d=d.reverse());return this.pushStack(d,a,aa.call(arguments).join(","))}});c.extend({filter:function(a,b,g){g&&(a=":not("+a+")");return 1===b.length?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,g){var k=[];for(a=a[b];a&&9!==a.nodeType&&(g===q||1!==a.nodeType||!c(a).is(g));)1===a.nodeType&&k.push(a),a=a[b];return k},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Cb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
Vc=/ jQuery\d+="(?:null|\d+)"/g,ob=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wc=/<([\w:]+)/,He=/<tbody/i,Hb=/<|&#?\w+;/,Kd=/<(?:script|style|link)/i,Ia=/<(?:script|object|embed|option|style)/i,M=new RegExp("\x3c(?:"+Cb+")[\\s/\x3e]","i"),wd=/^(?:checkbox|radio)$/,hc=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/\/(java|ecma)script/i,Xc=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ca={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e",
"\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]},Yc=ka(u),Rb=Yc.appendChild(u.createElement("div"));Ca.optgroup=Ca.option;Ca.tbody=Ca.tfoot=Ca.colgroup=Ca.caption=Ca.thead;
Ca.th=Ca.td;c.support.htmlSerialize||(Ca._default=[1,"X\x3cdiv\x3e","\x3c/div\x3e"]);c.fn.extend({text:function(a){return c.access(this,function(a){return a===q?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=
this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),g=b.contents();g.length?g.wrapAll(a):b.append(a)})},wrap:function(a){var b=c.isFunction(a);return this.each(function(g){c(this).wrapAll(b?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!L(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=c.clean(arguments);return this.pushStack(c.merge(a,this),"before",this.selector)}},after:function(){if(!L(this[0]))return this.domManip(arguments,
!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=c.clean(arguments);return this.pushStack(c.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var g,k=0;null!=(g=this[k]);k++)if(!a||c.filter(a,[g]).length)b||1!==g.nodeType||(c.cleanData(g.getElementsByTagName("*")),c.cleanData([g])),g.parentNode&&g.parentNode.removeChild(g);return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&c.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);
return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){return c.access(this,function(a){var g=this[0]||{},k=0,d=this.length;if(a===q)return 1===g.nodeType?g.innerHTML.replace(Vc,""):q;if(!("string"!==typeof a||Kd.test(a)||!c.support.htmlSerialize&&M.test(a)||!c.support.leadingWhitespace&&ob.test(a)||Ca[(Wc.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Oa,"\x3c$1\x3e\x3c/$2\x3e");try{for(;k<d;k++)g=this[k]||{},1===g.nodeType&&
(c.cleanData(g.getElementsByTagName("*")),g.innerHTML=a);g=0}catch(e){}}g&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!L(this[0])){if(c.isFunction(a))return this.each(function(b){var g=c(this),k=g.html();g.replaceWith(a.call(this,b,k))});"string"!==typeof a&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,g=this.parentNode;c(this).remove();b?c(b).before(a):c(g).append(a)})}return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",
a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,g){a=[].concat.apply([],a);var k,d,e,f=0,x=a[0],m=[],u=this.length;if(!c.support.checkClone&&1<u&&"string"===typeof x&&hc.test(x))return this.each(function(){c(this).domManip(a,b,g)});if(c.isFunction(x))return this.each(function(k){var d=c(this);a[0]=x.call(this,k,b?d.html():q);d.domManip(a,b,g)});if(this[0]){k=c.buildFragment(a,this,m);e=k.fragment;d=e.firstChild;1===e.childNodes.length&&(e=d);if(d)for(b=b&&c.nodeName(d,
"tr"),k=k.cacheable||u-1;f<u;f++)g.call(b&&c.nodeName(this[f],"table")?ca(this[f],"tbody"):this[f],f===k?e:c.clone(e,!0,!0));e=d=null;m.length&&c.each(m,function(a,b){b.src?c.ajax?c.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):c.error("no ajax"):c.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Xc,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});c.buildFragment=function(a,b,g){var k,d,e,f=a[0];b=b||u;b=!b.nodeType&&b[0]||b;b=b.ownerDocument||
b;"undefined"===typeof b.createDocumentFragment&&(b=u);!(1===a.length&&"string"===typeof f&&512>f.length&&b===u&&"\x3c"===f.charAt(0))||Ia.test(f)||!c.support.checkClone&&hc.test(f)||!c.support.html5Clone&&M.test(f)||(d=!0,k=c.fragments[f],e=k!==q);k||(k=b.createDocumentFragment(),c.clean(a,b,k,g),d&&(c.fragments[f]=e&&k));return{fragment:k,cacheable:d}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=
function(g){var k,d=0,e=[];g=c(g);var f=g.length;k=1===this.length&&this[0].parentNode;if((null==k||k&&11===k.nodeType&&1===k.childNodes.length)&&1===f)return g[b](this[0]),this;for(;d<f;d++)k=(0<d?this.clone(!0):this).get(),c(g[d])[b](k),e=e.concat(k);return this.pushStack(e,a,g.selector)}});c.extend({clone:function(a,b,g){var k,d,e,f;c.support.html5Clone||c.isXMLDoc(a)||!M.test("\x3c"+a.nodeName+"\x3e")?f=a.cloneNode(!0):(Rb.innerHTML=a.outerHTML,Rb.removeChild(f=Rb.firstChild));if(!(c.support.noCloneEvent&&
c.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||c.isXMLDoc(a)))for(z(a,f),k=da(a),d=da(f),e=0;k[e];++e)d[e]&&z(k[e],d[e]);if(b&&(F(a,f),g))for(k=da(a),d=da(f),e=0;k[e];++e)F(k[e],d[e]);return f},clean:function(a,b,g,k){var d,e,f,x,m,t,r=0,h=[];b&&"undefined"!==typeof b.createDocumentFragment||(b=u);for(e=b===u&&Yc;null!=(f=a[r]);r++)if("number"===typeof f&&(f+=""),f){if("string"===typeof f)if(Hb.test(f)){e=e||ka(b);t=t||e.appendChild(b.createElement("div"));f=f.replace(Oa,"\x3c$1\x3e\x3c/$2\x3e");
d=(Wc.exec(f)||["",""])[1].toLowerCase();x=Ca[d]||Ca._default;m=x[0];for(t.innerHTML=x[1]+f+x[2];m--;)t=t.lastChild;if(!c.support.tbody)for(m=He.test(f),x="table"!==d||m?"\x3ctable\x3e"!==x[1]||m?[]:t.childNodes:t.firstChild&&t.firstChild.childNodes,d=x.length-1;0<=d;--d)c.nodeName(x[d],"tbody")&&!x[d].childNodes.length&&x[d].parentNode.removeChild(x[d]);!c.support.leadingWhitespace&&ob.test(f)&&t.insertBefore(b.createTextNode(ob.exec(f)[0]),t.firstChild);f=t.childNodes;t=e.lastChild}else f=b.createTextNode(f);
f.nodeType?h.push(f):h=c.merge(h,f)}t&&(e.removeChild(t),f=t=e=null);if(!c.support.appendChecked)for(r=0;null!=(f=h[r]);r++)c.nodeName(f,"input")?n(f):"undefined"!==typeof f.getElementsByTagName&&c.grep(f.getElementsByTagName("input"),n);if(g)for(a=function(a){if(!a.type||pb.test(a.type))return k?k.push(a.parentNode?a.parentNode.removeChild(a):a):g.appendChild(a)},r=0;null!=(f=h[r]);r++)c.nodeName(f,"script")&&a(f)||(g.appendChild(f),"undefined"!==typeof f.getElementsByTagName&&(f=c.grep(c.merge([],
f.getElementsByTagName("script")),a),h.splice.apply(h,[r+1,0].concat(f)),r+=f.length));return h},cleanData:function(a,b){for(var g,k,d,e,f=0,x=c.expando,m=c.cache,t=c.support.deleteExpando,u=c.event.special;null!=(d=a[f]);f++)if(b||c.acceptData(d))if(g=(k=d[x])&&m[k]){if(g.events)for(e in g.events)u[e]?c.event.remove(d,e):c.removeEvent(d,e,g.handle);m[k]&&(delete m[k],t?delete d[x]:d.removeAttribute?d.removeAttribute(x):d[x]=null,c.deletedIds.push(k))}}});(function(){var a,b;c.uaMatch=function(a){a=
a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=c.uaMatch(x.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.webkit&&(b.safari=!0);c.browser=b;c.sub=function(){function a(b,c){return new a.fn.init(b,c)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=
this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(d,e){e&&e instanceof c&&!(e instanceof a)&&(e=a(e));return c.fn.init.call(this,d,e,b)};a.fn.init.prototype=a.fn;var b=a(u);return a}})();var oa,kb,Ma,Sb=/alpha\([^)]*\)/i,Zc=/opacity=([^)]*)/,qb=/^(top|right|bottom|left)$/,$c=/^margin/,xd=new RegExp("^("+db+")(.*)$","i"),Db=new RegExp("^("+db+")(?!px)[a-z%]+$","i"),ic=new RegExp("^([-+])\x3d("+db+")","i"),Kc={},Ld={position:"absolute",visibility:"hidden",display:"block"},ad={letterSpacing:0,
fontWeight:400,lineHeight:1},jb=["Top","Right","Bottom","Left"],Jc=["Webkit","O","Moz","ms"],Ie=c.fn.toggle;c.fn.extend({css:function(a,b){return c.access(this,function(a,b,d){return d!==q?c.style(a,b,d):c.css(a,b)},a,b,1<arguments.length)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a,b){var g="boolean"===typeof a;return c.isFunction(a)&&c.isFunction(b)?Ie.apply(this,arguments):this.each(function(){(g?a:d(this))?c(this).show():c(this).hide()})}});c.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var c=oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,f,x,m=c.camelCase(b),t=a.style;b=c.cssProps[m]||(c.cssProps[m]=e(t,m));x=c.cssHooks[b]||c.cssHooks[m];if(g!==q){if(f=typeof g,"string"===f&&(d=ic.exec(g))&&(g=(d[1]+1)*d[2]+parseFloat(c.css(a,b)),f="number"),
!(null==g||"number"===f&&isNaN(g)||("number"!==f||c.cssNumber[m]||(g+="px"),x&&"set"in x&&(g=x.set(a,g,k))===q)))try{t[b]=g}catch(u){}}else return x&&"get"in x&&(d=x.get(a,!1,k))!==q?d:t[b]}},css:function(a,b,g,k){var d,f;f=c.camelCase(b);b=c.cssProps[f]||(c.cssProps[f]=e(a.style,f));(f=c.cssHooks[b]||c.cssHooks[f])&&"get"in f&&(d=f.get(a,!0,k));d===q&&(d=oa(a,b));"normal"===d&&b in ad&&(d=ad[b]);return g||k!==q?(a=parseFloat(d),g||c.isNumeric(a)?a||0:d):d},swap:function(a,b,c){var d,e={};for(d in b)e[d]=
a.style[d],a.style[d]=b[d];c=c.call(a);for(d in b)a.style[d]=e[d];return c}});h.getComputedStyle?oa=function(a,b){var g,d,e,f,x=getComputedStyle(a,null),m=a.style;x&&(g=x[b],""!==g||c.contains(a.ownerDocument.documentElement,a)||(g=c.style(a,b)),Db.test(g)&&$c.test(b)&&(d=m.width,e=m.minWidth,f=m.maxWidth,m.minWidth=m.maxWidth=m.width=g,g=x.width,m.width=d,m.minWidth=e,m.maxWidth=f));return g}:u.documentElement.currentStyle&&(oa=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;
null==e&&f&&f[b]&&(e=f[b]);if(Db.test(e)&&!qb.test(b)){c=f.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":e;e=f.pixelLeft+"px";f.left=c;d&&(a.runtimeStyle.left=d)}return""===e?"auto":e});c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(a,d,e){if(d)return 0!==a.offsetWidth||"none"!==oa(a,"display")?V(a,b,e):c.swap(a,Ld,function(){return V(a,b,e)})},set:function(a,d,e){return O(a,d,e?p(a,b,e,c.support.boxSizing&&"border-box"===
c.css(a,"boxSizing")):0)}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return Zc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var g=a.style,d=a.currentStyle,e=c.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",f=d&&d.filter||g.filter||"";g.zoom=1;if(1<=b&&""===c.trim(f.replace(Sb,""))&&g.removeAttribute&&(g.removeAttribute("filter"),d&&!d.filter))return;g.filter=Sb.test(f)?f.replace(Sb,e):f+" "+e}});c(function(){c.support.reliableMarginRight||
(c.cssHooks.marginRight={get:function(a,b){return c.swap(a,{display:"inline-block"},function(){if(b)return oa(a,"marginRight")})}});!c.support.pixelPosition&&c.fn.position&&c.each(["top","left"],function(a,b){c.cssHooks[b]={get:function(a,d){if(d){var e=oa(a,b);return Db.test(e)?c(a).position()[b]+"px":e}}}})});c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!c.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||1===a.nodeType&&
oa(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});c.each({margin:"",padding:"",border:"Width"},function(a,b){c.cssHooks[a+b]={expand:function(c){var d="string"===typeof c?c.split(" "):[c],e={};for(c=0;4>c;c++)e[a+jb[c]+b]=d[c]||d[c-2]||d[0];return e}};$c.test(a)||(c.cssHooks[a+b].set=O)});var Je=/%20/g,yd=/\[\]$/,Md=/\r?\n/g,Ke=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Le=/^(?:select|textarea)/i;
c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Le.test(this.nodeName)||Ke.test(this.type))}).map(function(a,b){var g=c(this).val();return null==g?null:c.isArray(g)?c.map(g,function(a,c){return{name:b.name,value:a.replace(Md,"\r\n")}}):{name:b.name,value:g.replace(Md,"\r\n")}}).get()}});c.param=function(a,
b){var g,d=[],e=function(a,b){b=c.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};b===q&&(b=c.ajaxSettings&&c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(g in a)Q(g,a[g],b,e);return d.join("\x26").replace(Je,"+")};var rb,sb,Me=/#.*$/,Ne=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,jc=/^(?:GET|HEAD)$/,Oe=/^\/\//,kc=/\?/,Pe=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Qe=/([?&])_=[^&]*/,
Tb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,lc=c.fn.load,Eb={},bd={},mc=["*/"]+["*"];try{rb=T.href}catch(a){rb=u.createElement("a"),rb.href="",rb=rb.href}sb=Tb.exec(rb.toLowerCase())||[];c.fn.load=function(a,b,g){if("string"!==typeof a&&lc)return lc.apply(this,arguments);if(!this.length)return this;var d,e,f,x=this,m=a.indexOf(" ");0<=m&&(d=a.slice(m,a.length),a=a.slice(0,m));c.isFunction(b)?(g=b,b=q):"object"===typeof b&&(e="POST");c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(a,
b){g&&x.each(g,f||[a.responseText,b,a])}}).done(function(a){f=arguments;x.html(d?c("\x3cdiv\x3e").append(a.replace(Pe,"")).find(d):a)});return this};c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(a){return this.on(b,a)}});c.each(["get","post"],function(a,b){c[b]=function(a,d,e,f){c.isFunction(d)&&(f=f||e,e=d,d=q);return c.ajax({type:b,url:a,data:d,success:e,dataType:f})}});c.extend({getScript:function(a,b){return c.get(a,q,b,"script")},
getJSON:function(a,b,g){return c.get(a,b,g,"json")},ajaxSetup:function(a,b){b?P(a,c.ajaxSettings):(b=a,a=c.ajaxSettings);P(a,b);return a},ajaxSettings:{url:rb,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(sb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":mc},contents:{xml:/xml/,html:/html/,
json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":h.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:r(Eb),ajaxTransport:r(bd),ajax:function(a,b){function g(a,b,g,f){var t,r,A,B,H=b;if(2!==E){E=2;m&&clearTimeout(m);x=q;e=f||"";Y.readyState=0<a?4:0;if(g){B=h;f=Y;var C,fa,T,W,I=B.contents,V=B.dataTypes,z=B.responseFields;for(fa in z)fa in g&&(f[z[fa]]=g[fa]);for(;"*"===V[0];)V.shift(),C===q&&(C=
B.mimeType||f.getResponseHeader("content-type"));if(C)for(fa in I)if(I[fa]&&I[fa].test(C)){V.unshift(fa);break}if(V[0]in g)T=V[0];else{for(fa in g){if(!V[0]||B.converters[fa+" "+V[0]]){T=fa;break}W||(W=fa)}T=T||W}T?(T!==V[0]&&V.unshift(T),B=g[T]):B=void 0}if(200<=a&&300>a||304===a)if(h.ifModified&&((g=Y.getResponseHeader("Last-Modified"))&&(c.lastModified[d]=g),(g=Y.getResponseHeader("Etag"))&&(c.etag[d]=g)),304===a)H="notmodified",t=!0;else{a:{r=h;A=B;var P,va,H=r.dataTypes.slice();C=H[0];fa={};
T=0;r.dataFilter&&(A=r.dataFilter(A,r.dataType));if(H[1])for(P in r.converters)fa[P.toLowerCase()]=r.converters[P];for(;g=H[++T];)if("*"!==g){if("*"!==C&&C!==g){P=fa[C+" "+g]||fa["* "+g];if(!P)for(va in fa)if(t=va.split(" "),t[1]===g&&(P=fa[C+" "+t[0]]||fa["* "+t[0]])){!0===P?P=fa[va]:!0!==fa[va]&&(g=t[0],H.splice(T--,0,g));break}if(!0!==P)if(P&&r["throws"])A=P(A);else try{A=P(A)}catch(v){t={state:"parsererror",error:P?v:"No conversion from "+C+" to "+g};break a}}C=g}t={state:"success",data:A}}H=
t.state;r=t.data;A=t.error;t=!A}else if(A=H,!H||a)H="error",0>a&&(a=0);Y.status=a;Y.statusText=""+(b||H);t?O.resolveWith(p,[r,H,Y]):O.rejectWith(p,[Y,H,A]);Y.statusCode(aa);aa=q;u&&n.trigger("ajax"+(t?"Success":"Error"),[Y,h,t?r:A]);xa.fireWith(p,[Y,H]);u&&(n.trigger("ajaxComplete",[Y,h]),--c.active||c.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=q);b=b||{};var d,e,f,x,m,t,u,r,h=c.ajaxSetup({},b),p=h.context||h,n=p!==h&&(p.nodeType||p instanceof c)?c(p):c.event,O=c.Deferred(),xa=c.Callbacks("once memory"),
aa=h.statusCode||{},H={},C={},E=0,fa="canceled",Y={readyState:0,setRequestHeader:function(a,b){if(!E){var c=a.toLowerCase();a=C[c]=C[c]||a;H[a]=b}return this},getAllResponseHeaders:function(){return 2===E?e:null},getResponseHeader:function(a){var b;if(2===E){if(!f)for(f={};b=Ne.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return b===q?null:b},overrideMimeType:function(a){E||(h.mimeType=a);return this},abort:function(a){a=a||fa;x&&x.abort(a);g(0,a);return this}};O.promise(Y);Y.success=
Y.done;Y.error=Y.fail;Y.complete=xa.add;Y.statusCode=function(a){if(a){var b;if(2>E)for(b in a)aa[b]=[aa[b],a[b]];else b=a[Y.status],Y.always(b)}return this};h.url=((a||h.url)+"").replace(Me,"").replace(Oe,sb[1]+"//");h.dataTypes=c.trim(h.dataType||"*").toLowerCase().split(Ea);null==h.crossDomain&&(t=Tb.exec(h.url.toLowerCase()),h.crossDomain=!(!t||t[1]==sb[1]&&t[2]==sb[2]&&(t[3]||("http:"===t[1]?80:443))==(sb[3]||("http:"===sb[1]?80:443))));h.data&&h.processData&&"string"!==typeof h.data&&(h.data=
c.param(h.data,h.traditional));B(Eb,h,b,Y);if(2===E)return Y;u=h.global;h.type=h.type.toUpperCase();h.hasContent=!jc.test(h.type);u&&0===c.active++&&c.event.trigger("ajaxStart");if(!h.hasContent&&(h.data&&(h.url+=(kc.test(h.url)?"\x26":"?")+h.data,delete h.data),d=h.url,!1===h.cache)){t=c.now();var T=h.url.replace(Qe,"$1_\x3d"+t);h.url=T+(T===h.url?(kc.test(h.url)?"\x26":"?")+"_\x3d"+t:"")}(h.data&&h.hasContent&&!1!==h.contentType||b.contentType)&&Y.setRequestHeader("Content-Type",h.contentType);
h.ifModified&&(d=d||h.url,c.lastModified[d]&&Y.setRequestHeader("If-Modified-Since",c.lastModified[d]),c.etag[d]&&Y.setRequestHeader("If-None-Match",c.etag[d]));Y.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+mc+"; q\x3d0.01":""):h.accepts["*"]);for(r in h.headers)Y.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(p,Y,h)||2===E))return Y.abort();fa="abort";for(r in{success:1,error:1,complete:1})Y[r](h[r]);
if(x=B(bd,h,b,Y)){Y.readyState=1;u&&n.trigger("ajaxSend",[Y,h]);h.async&&0<h.timeout&&(m=setTimeout(function(){Y.abort("timeout")},h.timeout));try{E=1,x.send(H,g)}catch(W){if(2>E)g(-1,W);else throw W;}}else g(-1,"No Transport");return Y},active:0,lastModified:{},etag:{}});var Ta=[],Ua=/\?/,nc=/(=)\?(?=&|$)|\?\?/,Nd=c.now();c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ta.pop()||c.expando+"_"+Nd++;this[a]=!0;return a}});c.ajaxPrefilter("json jsonp",function(a,b,g){var d,e,f,x=a.data,
m=a.url,t=!1!==a.jsonp,r=t&&nc.test(m),u=t&&!r&&"string"===typeof x&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&nc.test(x);if("jsonp"===a.dataTypes[0]||r||u)return d=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,e=h[d],r?a.url=m.replace(nc,"$1"+d):u?a.data=x.replace(nc,"$1"+d):t&&(a.url+=(Ua.test(m)?"\x26":"?")+a.jsonp+"\x3d"+d),a.converters["script json"]=function(){f||c.error(d+" was not called");return f[0]},a.dataTypes[0]="json",h[d]=function(){f=
arguments},g.always(function(){h[d]=e;a[d]&&(a.jsonpCallback=b.jsonpCallback,Ta.push(d));f&&c.isFunction(e)&&e(f[0]);f=e=q}),"script"});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===q&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,
c=u.head||u.getElementsByTagName("head")[0]||u.documentElement;return{send:function(d,e){b=u.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,d){if(d||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=q,d||e(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var tb,oc=h.ActiveXObject?function(){for(var a in tb)tb[a](0,
1)}:!1,cd=0;c.ajaxSettings.xhr=h.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&Na()))a:{try{a=new h.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:Na;(function(a){c.extend(c.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(g,d){var e,f,x=a.xhr();a.username?x.open(a.type,a.url,a.async,a.username,a.password):x.open(a.type,a.url,a.async);
if(a.xhrFields)for(f in a.xhrFields)x[f]=a.xhrFields[f];a.mimeType&&x.overrideMimeType&&x.overrideMimeType(a.mimeType);a.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");try{for(f in g)x.setRequestHeader(f,g[f])}catch(m){}x.send(a.hasContent&&a.data||null);b=function(g,f){var h,m,t,r,u;try{if(b&&(f||4===x.readyState))if(b=q,e&&(x.onreadystatechange=c.noop,oc&&delete tb[e]),f)4!==x.readyState&&x.abort();else{h=x.status;t=x.getAllResponseHeaders();r={};(u=x.responseXML)&&
u.documentElement&&(r.xml=u);try{r.text=x.responseText}catch(p){}try{m=x.statusText}catch(p){m=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=r.text?200:404}}catch(p){f||d(-1,p)}r&&d(h,m,r,t)};a.async?4===x.readyState?setTimeout(b,0):(e=++cd,oc&&(tb||(tb={},c(h).unload(oc)),tb[e]=b),x.onreadystatechange=b):b()},abort:function(){b&&b(0,1)}}}});var Fb,ub,Re=/^(?:toggle|show|hide)$/,Se=new RegExp("^(?:([-+])\x3d|)("+db+")([a-z%]*)$","i"),Od=/queueHooks$/,ab=[function(a,b,g){var e,f,x,h,m,t,r=this,
u=a.style,p={},n=[],B=a.nodeType&&d(a);g.queue||(m=c._queueHooks(a,"fx"),null==m.unqueued&&(m.unqueued=0,t=m.empty.fire,m.empty.fire=function(){m.unqueued||t()}),m.unqueued++,r.always(function(){r.always(function(){m.unqueued--;c.queue(a,"fx").length||m.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(g.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===c.css(a,"display")&&"none"===c.css(a,"float")&&(c.support.inlineBlockNeedsLayout&&"inline"!==ua(a.nodeName)?u.zoom=1:u.display=
"inline-block"));g.overflow&&(u.overflow="hidden",c.support.shrinkWrapBlocks||r.done(function(){u.overflow=g.overflow[0];u.overflowX=g.overflow[1];u.overflowY=g.overflow[2]}));for(e in b)f=b[e],Re.exec(f)&&(delete b[e],f!==(B?"hide":"show")&&n.push(e));if(f=n.length)for(x=c._data(a,"fxshow")||c._data(a,"fxshow",{}),B?c(a).show():r.done(function(){c(a).hide()}),r.done(function(){var b;c.removeData(a,"fxshow",!0);for(b in p)c.style(a,b,p[b])}),e=0;e<f;e++)b=n[e],h=r.createTween(b,B?x[b]:0),p[b]=x[b]||
c.style(a,b),b in x||(x[b]=h.start,B&&(h.end=h.start,h.start="width"===b||"height"===b?1:0))}],mb={"*":[function(a,b){var g,d,e,f=this.createTween(a,b),x=Se.exec(b),h=f.cur(),m=+h||0,t=1;if(x){g=+x[2];d=x[3]||(c.cssNumber[a]?"":"px");if("px"!==d&&m){m=c.css(f.elem,a,!0)||g||1;do e=t=t||".5",m/=t,c.style(f.elem,a,m+d),t=f.cur()/h;while(1!==t&&t!==e)}f.unit=d;f.start=m;f.end=x[1]?m+(x[1]+1)*g:g}return f}]};c.Animation=c.extend(E,{tweener:function(a,b){c.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var g,
d=0,e=a.length;d<e;d++)g=a[d],mb[g]=mb[g]||[],mb[g].unshift(b)},prefilter:function(a,b){b?ab.unshift(a):ab.push(a)}});c.Tween=ea;ea.prototype={constructor:ea,init:function(a,b,g,d,e,f){this.elem=a;this.prop=g;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(c.cssNumber[g]?"":"px")},cur:function(){var a=ea.propHooks[this.prop];return a&&a.get?a.get(this):ea.propHooks._default.get(this)},run:function(a){var b=ea.propHooks[this.prop];this.pos=a=c.easing[this.easing](a,
this.options.duration*a,0,1,this.options.duration);this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):ea.propHooks._default.set(this);return this}};ea.prototype.init.prototype=ea.prototype;ea.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=c.css(a.elem,a.prop,!1,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(c.fx.step[a.prop])c.fx.step[a.prop](a);
else a.elem.style&&(null!=a.elem.style[c.cssProps[a.prop]]||c.cssHooks[a.prop])?c.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};ea.propHooks.scrollTop=ea.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};c.each(["toggle","show","hide"],function(a,b){var g=c.fn[b];c.fn[b]=function(d,e,f){return null==d||"boolean"===typeof d||!a&&c.isFunction(d)&&c.isFunction(e)?g.apply(this,arguments):this.animate(bb(b,!0),d,e,f)}});c.fn.extend({fadeTo:function(a,
b,c,e){return this.filter(d).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,g,d){var e=c.isEmptyObject(a),f=c.speed(b,g,d);b=function(){var b=E(this,c.extend({},a),f);e&&b.stop(!0)};return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,g){var d=function(a){var b=a.stop;delete a.stop;b(g)};"string"!==typeof a&&(g=b,b=a,a=q);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=c.timers,x=c._data(this);
if(e)x[e]&&x[e].stop&&d(x[e]);else for(e in x)x[e]&&x[e].stop&&Od.test(e)&&d(x[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(g),b=!1,f.splice(e,1));!b&&g||c.dequeue(this,a)})}});c.each({slideDown:bb("show"),slideUp:bb("hide"),slideToggle:bb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});c.speed=function(a,b,g){var d=a&&"object"===typeof a?c.extend({},
a):{complete:g||!g&&b||c.isFunction(a)&&a,duration:a,easing:g&&b||b&&!c.isFunction(b)&&b};d.duration=c.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in c.fx.speeds?c.fx.speeds[d.duration]:c.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){c.isFunction(d.old)&&d.old.call(this);d.queue&&c.dequeue(this,d.queue)};return d};c.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};c.timers=[];c.fx=ea.prototype.init;
c.fx.tick=function(){for(var a,b=c.timers,g=0;g<b.length;g++)a=b[g],a()||b[g]!==a||b.splice(g--,1);b.length||c.fx.stop()};c.fx.timer=function(a){a()&&c.timers.push(a)&&!ub&&(ub=setInterval(c.fx.tick,c.fx.interval))};c.fx.interval=13;c.fx.stop=function(){clearInterval(ub);ub=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fx.step={};c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var Pd=/^(?:body|html)$/i;c.fn.offset=
function(a){if(arguments.length)return a===q?this:this.each(function(b){c.offset.setOffset(this,a,b)});var b,g,d,e,f,x;if(f=(b=this[0])&&b.ownerDocument){if((d=f.body)===b)return c.offset.bodyOffset(b);g=f.documentElement;if(!c.contains(g,b))return{top:0,left:0};b=b.getBoundingClientRect();e=S(f);f=g.clientTop||d.clientTop||0;d=g.clientLeft||d.clientLeft||0;x=e.pageYOffset||g.scrollTop;g=e.pageXOffset||g.scrollLeft;f=b.top+x-f;b=b.left+g-d;return{top:f,left:b}}};c.offset={bodyOffset:function(a){var b=
a.offsetTop,g=a.offsetLeft;c.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(c.css(a,"marginTop"))||0,g+=parseFloat(c.css(a,"marginLeft"))||0);return{top:b,left:g}},setOffset:function(a,b,g){var d=c.css(a,"position");"static"===d&&(a.style.position="relative");var e=c(a),f=e.offset(),x=c.css(a,"top"),h=c.css(a,"left"),m={},t={};("absolute"===d||"fixed"===d)&&-1<c.inArray("auto",[x,h])?(t=e.position(),d=t.top,h=t.left):(d=parseFloat(x)||0,h=parseFloat(h)||0);c.isFunction(b)&&(b=b.call(a,g,
f));null!=b.top&&(m.top=b.top-f.top+d);null!=b.left&&(m.left=b.left-f.left+h);"using"in b?b.using.call(a,m):e.css(m)}};c.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),g=this.offset(),d=Pd.test(b[0].nodeName)?{top:0,left:0}:b.offset();g.top-=parseFloat(c.css(a,"marginTop"))||0;g.left-=parseFloat(c.css(a,"marginLeft"))||0;d.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:g.top-d.top,left:g.left-d.left}}},
offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!Pd.test(a.nodeName)&&"static"===c.css(a,"position");)a=a.offsetParent;return a||u.body})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);c.fn[a]=function(e){return c.access(this,function(a,e,f){var k=S(a);if(f===q)return k?b in k?k[b]:k.document.documentElement[e]:a[e];k?k.scrollTo(d?c(k).scrollLeft():f,d?f:c(k).scrollTop()):a[e]=f},a,e,arguments.length,null)}});
c.each({Height:"height",Width:"width"},function(a,b){c.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,e){c.fn[e]=function(e,f){var k=arguments.length&&(d||"boolean"!==typeof e),x=d||(!0===e||!0===f?"margin":"border");return c.access(this,function(b,d,g){return c.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):g===q?c.css(b,d,g,x):c.style(b,d,g,x)},b,k?e:q,k)}})});
h.jQuery=h.$=c})(window);var ajq;ajq=jQuery.noConflict(!0);window.ajq=ajq;(function(h,q,D){(function(f){ajq&&!ajq.fn.qtip&&f(ajq)})(function(f){function Z(e){var d=function(d){return null===d||"object"!==typeof d},h=function(d){return!f.isFunction(d)&&(!d&&!d.attr||1>d.length||"object"===typeof d&&!d.jquery)};if(!e||"object"!==typeof e)return!1;d(e.metadata)&&(e.metadata={type:e.metadata});if("content"in e){if(d(e.content)||e.content.jquery)e.content={text:e.content};h(e.content.text||!1)&&(e.content.text=
!1);"title"in e.content&&(d(e.content.title)&&(e.content.title={text:e.content.title}),h(e.content.title.text||!1)&&(e.content.title.text=!1))}"position"in e&&d(e.position)&&(e.position={my:e.position,at:e.position});"show"in e&&d(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show});"hide"in e&&d(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide});"style"in e&&d(e.style)&&(e.style={classes:e.style});f.each(F,function(){this.sanitize&&this.sanitize(e)});return e}function N(e,d,
H,O){function p(e){var f=0,h,m=d;for(e=e.split(".");m=m[e[f++]];)f<e.length&&(h=m);return[h||d,e.pop()]}function V(d,e,h){d=f.Event("tooltip"+d);d.originalEvent=(h?f.extend({},h):null)||T.event||null;C.trigger(d,[m].concat(e||[]));return!d.isDefaultPrevented()}function v(){var e=d.style.widget;C.toggleClass("ui-helper-reset ui-widget",e).toggleClass("evergage-tooltip-default",d.style.def&&!e);u.content&&u.content.toggleClass("ui-widget-content",e);u.titlebar&&u.titlebar.toggleClass("ui-widget-header",
e);u.button&&u.button.toggleClass("evergage-tooltip-icon",!e)}function Q(d){u.title&&(u.titlebar.remove(),u.titlebar=u.title=u.button=null,!1!==d&&m.reposition())}function r(){var e=d.content.title.button,h="string"===typeof e?e:"Close tooltip";u.button&&u.button.remove();u.button=e.jquery?e:f("\x3cdiv /\x3e",{"class":"evergage-tooltip-close "+(d.style.widget?"":"evergage-tooltip-icon"),title:h,href:"Javascript:void(false);"}).prepend(f("\x3cspan /\x3e",{"class":"evergage-ui-icon-close",html:"\x26times;"}));
u.button.appendTo(u.titlebar).attr("role","button").click(function(e){C.hasClass("ui-state-disabled")||d&&d.bundle&&d.bundle.previewMode||m.hide(e);return!1});m.redraw()}function B(){var e=ea+"-title";u.titlebar&&Q();u.titlebar=f("\x3cdiv /\x3e",{"class":"evergage-tooltip-titlebar "+(d.style.widget?"ui-widget-header":"")}).append(u.title=f("\x3cdiv /\x3e",{id:e,"class":"evergage-tooltip-title"})).insertBefore(u.content);d.content.title.button?r():m.rendered&&m.redraw()}function P(){u.poweredByEvergage&&
u.poweredByEvergage.remove();u.poweredByEvergage=f("\x3cdiv\x3e\x3c/div\x3e",{"class":"evergage poweredByEvergage"});var d=f("\x3ca\x3e\x3c/a\x3e",{href:"http://www.evergage.com?poweredByEvergage",target:"_blank",title:"Powered by Evergage"});f("\x3cimg /\x3e",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEN2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS4xLjIiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxMy0wNS0zMVQxMTowNTo0NTwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MTwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4yNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CmHSW3gAAAP/SURBVEgNtVVfTFtlFP/13v6/azsqbbGlIu3+wEihW4hlkixRHjaNBJYICagxDZo9YBwkMCNLJFFM9IEl0/ggupDgog9Tw4gx2Ts8sD/gtlDiYMDoAox2tqHa9rb0Xr/v4m24UhJI9DRfzz3nfOf8zv3O+c5ViaKI/5PUcnCVSsU0NjYGOY5r0Ol0pUSWTXviJNFMNpu9l0gkroyNjc3ITir6BrW1tRqv13vDbre/5Pf74fF4YLFYsF8QAoDV1VV+dHT0reHh4WsSCAVoamrqe//8eXFiYkJ8Go+JbRPfiOduXRWJw75WJpMRk6mUGA6H4y0tLTYam6EoZrO56WRdHXi3Be/N/gyf1Q2XsQhv3x7BfDIKtVotLZFhEc0yYP+RZb3MNRoNDHo9nnU6LR0dHadobKkG5My9FZWVmOSf4vABGz6sOE1t6J6+htDGE9xfNyOVy+H64p/4dVXApRdMeLfSBDVTuE4sw8Dn8x2iMSQAkgHzjNUKIR1HLJOkeol4IYVb62l8NhmBkxNx2m1Ee7kan0/HMPQgjaBXi8rIbZTYHTSg7CZxkrSEnu8ilmXxsqMCc39FcG7qe4Ccn17FYS5mQ51djdFXSuAwspLzwkYWDb88wdhSFi86i9B3sQ8DnwygpqZGAUIFqQay9ojJjkv+13HWUY033bUoY87gp0ccPg5Y88HpXo9Zg4vHzfiDF1B6zI/2tnYMfDogh1FwBYBsuTF4Bfy9MI4UARakYNXt3FbKqTGd5nB1LgFyd7CysiK7K/hOT2JeXl5GPB7Ha2UcvCYWI79vKJyoMPIggVNWAa8+x2FzcxMmk2nHHqrI12C7lbYdQzohnRNxkGT/5WwKOTGCNw4fIDrg29kN/LCQxp2zJThWpEFIFGAwGLaHyD8XBJCtelaF7xocmIlt4qObUXz1UES5Ogm3SYs2jwHPk1pQohdKT/q/EBUE4HleuljUwUnOmq5DZgd+fMTjjOsguYhaRSw6UnRanUInCwUB/DV+zD+cl/dIvJxk2+vbylhhIMLiwiKOVhz9t1qSCwJ0dnaip7cHXd1d5Oorz1aj1YCMARgNRlz+4jJSyRTWI+sYHBzcHUAQhBQ5R9KUW2Sz2TD09RBmQjPI8BlJSc+Z/h6HH6O3pxcerwdLS0vo7upGdXX1jiKT/WnqKL0BmZp3ySR00iDyiCZXHSeOn9hC3P5/Eqivr8eFDy7A5XIhEAhst+afSZv/VlxcvNUBzc3NDePj4wJPxu1eiY7yUCi02/ZJMq5ZmrDUYvSBnPs7a2triVwut5vTXvXjU1NTZTQmXdIXTX6v1tZWazAYDFRVVZXS2b4fInXko9HoffI1u9vf3y/IvgoAWflf8r8B05gl5ZrxIbMAAAAASUVORK5CYII\x3d"}).appendTo(d);
d.appendTo(u.poweredByEvergage);u.poweredByEvergage.insertAfter(u.content);m.rendered&&m.redraw()}function Na(d,h){var t=u.title;if(!m.rendered||!d)return!1;f.isFunction(d)&&(d=d.call(e,T.event,m));if(!1===d||!d&&""!==d)return Q(!1);d.jquery&&0<d.length?t.empty().append(d.css({display:"block"})):t.html(d);m.redraw();!1!==h&&m.rendered&&0<C[0].offsetWidth&&m.reposition(T.event)}function I(d,h){function t(d){function e(x){x&&(delete t[x.src],clearTimeout(m.timers.img[x.src]),f(x).unbind(J));f.isEmptyObject(t)&&
(m.redraw(),!1!==h&&m.reposition(T.event),d())}var x,t={};if(0===(x=r.find("img[src]:not([height]):not([width])")).length)return e();x.each(function(d,c){if(t[c.src]===D){var x=0;(function Ea(){if(c.height||c.width||3<x)return e(c);x+=1;m.timers.img[c.src]=setTimeout(Ea,700)})();f(c).bind("error"+J+" load"+J,function(){e(this)});t[c.src]=c}})}var r=u.content;if(!m.rendered||!d)return!1;f.isFunction(d)&&(d=d.call(e,T.event,m)||"");d.jquery&&0<d.length?r.empty().append(d.css({display:"block"})):r.html(d);
0>m.rendered?C.queue("fx",t):(S=0,t(f.noop));return m}function W(){function x(c){try{if(C.hasClass("ui-state-disabled"))return!1;clearTimeout(m.timers.show);clearTimeout(m.timers.hide);var e=function(){m.toggle(!0,c)};0<d.show.delay?m.timers.show=setTimeout(e,d.show.delay):e()}catch(f){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(f,"messageShow")}}function r(c){try{if(C.hasClass("ui-state-disabled")||L||S)return!1;var e=f(c.relatedTarget||c.target),
x=e.closest("div.evergage-qtip.evergage-tooltip")[0]===C[0],h=e[0]===B.show[0];clearTimeout(m.timers.show);clearTimeout(m.timers.hide);if("mouse"===n.target&&x||d.hide.fixed&&/mouse(out|leave|move)/.test(c.type)&&(x||h))try{c.preventDefault(),c.stopImmediatePropagation()}catch(t){}else 0<d.hide.delay?m.timers.hide=setTimeout(function(){m.hide(c)},d.hide.delay):m.hide(c)}catch(t){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(t,"messageHide")}}function t(c){try{if(C.hasClass("ui-state-disabled"))return!1;
clearTimeout(m.timers.inactive);m.timers.inactive=setTimeout(function(){m.hide(c)},d.hide.inactive)}catch(e){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"messageInactiveTimer")}}function p(c){try{m.rendered&&0<C[0].offsetWidth&&m.reposition(c)}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageReposition")}}var n=d.position,B={show:d.show.target,hide:d.hide.target,viewport:f(n.viewport),
document:f(q),body:f(q.body),window:f(h)},O=f.trim(""+d.show.event).split(" "),E=f.trim(""+d.hide.event).split(" "),W=f.browser.msie&&6===parseInt(f.browser.version,10);C.bind("mouseenter"+J+" mouseleave"+J,function(c){var d="mouseenter"===c.type;d&&m.focus(c);C.toggleClass("evergage-tooltip-hover",d)});/mouse(out|leave)/i.test(d.hide.event)&&"window"===d.hide.leave&&B.window.bind("mouseout"+J+" blur"+J,function(c){try{/select|option/.test(c.target.nodeName)||c.relatedTarget||m.hide(c)}catch(d){"object"===
typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageMouseLeave")}});d.hide.fixed?(B.hide=B.hide.add(C),C.bind("mouseover"+J,function(){C.hasClass("ui-state-disabled")||clearTimeout(m.timers.hide)})):/mouse(over|enter)/i.test(d.show.event)&&B.hide.bind("mouseleave"+J,function(c){try{clearTimeout(m.timers.show)}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageMouseEnter")}});-1<(""+d.hide.event).indexOf("unfocus")&&
n.container.closest("html").bind("mousedown"+J+" touchstart"+J,function(c){try{var d=f(c.target);m.rendered&&C.hasClass("ui-state-disabled");var x=0<d.parents("div.evergage-qtip.evergage-tooltip").filter(C[0]).length;d[0]===e[0]||d[0]===C[0]||x||e.has(d[0]).length||d.attr("disabled")||m.hide(c)}catch(h){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(h,"messageUnfocusHide")}});"number"===typeof d.hide.inactive&&(B.show.bind("qtip-"+H+"-inactive",t),f.each(ca.inactiveEvents,
function(c,d){B.hide.add(u.tooltip).bind(d+J+"-inactive",t)}));f.each(E,function(c,d){var e=f.inArray(d,O),h=f(B.hide);-1<e&&h.add(B.show).length===h.length||"unfocus"===d?(B.show.bind(d+J,function(c){try{0<C[0].offsetWidth?r(c):x(c)}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageToggle")}}),delete O[e]):B.hide.bind(d+J,r)});f.each(O,function(c,d){B.show.bind(d+J,x)});"number"===typeof d.hide.distance&&B.show.add(C).bind("mousemove"+
J,function(c){var e=T.origin||{},f=d.hide.distance,x=Math.abs;(x(c.pageX-e.pageX)>=f||x(c.pageY-e.pageY)>=f)&&m.hide(c)});"mouse"===n.target&&(B.show.bind("mousemove"+J,function(c){try{z={pageX:c.pageX,pageY:c.pageY,type:"mousemove"}}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageMouseMove")}}),n.adjust.mouse&&(d.hide.event&&(C.bind("mouseleave"+J,function(c){(c.relatedTarget||c.target)!==B.show[0]&&m.hide(c)}),u.target.bind("mouseenter"+
J+" mouseleave"+J,function(c){try{T.onTarget="mouseenter"===c.type}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageMouseEnterLeave")}})),B.document.bind("mousemove"+J,function(c){try{m.rendered&&T.onTarget&&!C.hasClass("ui-state-disabled")&&0<C[0].offsetWidth&&m.reposition(c||z)}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageMouseMoveEvents")}})));(n.adjust.resize||
B.viewport.length)&&(f.event.special.resize?B.viewport:B.window).bind("resize"+J,p);for(var E=f(d.position.target).parents().andSelf(),c=0;c<E.length;c++)f(E[c]).bind("scroll"+J,p);(B.viewport.length||W&&"fixed"===C.css("position"))&&B.viewport.bind("scroll"+J,p)}function E(){for(var e=[d.show.target[0],d.hide.target[0],m.rendered&&u.tooltip[0],d.position.container[0],d.position.viewport[0],d.position.container.closest("html")[0],h,q],r=f(d.position.target).parents().andSelf(),t=0;t<r.length;t++)e.push(r[t]);
m.rendered?f([]).pushStack(f.grep(e,function(d){return"object"===typeof d})).unbind(J):d.show.target.unbind(J+"-create")}var m=this,ea="evergage-tooltip-"+H,L=0,S=0,C=f(),J=".evergage-qtip-"+H,u,T;m.id=H;m.rendered=!1;m.destroyed=!1;m.elements=u={target:e};m.timers={img:{}};m.options=d;m.checks={};m.plugins={};m.cache=T={event:{},target:f(),disabled:!1,attr:O,onTarget:!1,lastClass:""};m.checks.builtin={"^id$":function(d,e,h){d=!0===h?ca.nextid:h;e="evergage-tooltip-"+d;!1!==d&&0<d.length&&!f("#"+
e).length&&(C[0].id=e,u.content[0].id=e+"-content",u.title[0].id=e+"-title")},"^content.text$":function(d,e,f){I(f)},"^content.fullcontents$":function(d,e,f){I(f)},"^content.title.text$":function(d,e,f){if(!f)return Q();!u.title&&f&&B();Na(f)},"^content.title.button$":function(d,e,f){d=u.button;e=u.title;m.rendered&&(f?(e||B(),r()):d.remove())},"^position.(my|at)$":function(d,e,f){"string"===typeof f&&(d[e]=new F.Corner(f))},"^position.container$":function(d,e,f){if(m.rendered)if((d=m.options?m.options.bundle:
null)&&"page"==d.target.renderType)switch(d.target.inlineInsertionLocation){case "NextSibling":C.insertAfter(f);break;case "PreviousSibling":C.insertBefore(f);break;case "FirstChild":C.prependTo(f);break;default:C.appendTo(f)}else C.appendTo(f)},"^show.ready$":function(){m.rendered?m.toggle(!0):m.render(1)},"^style.classes$":function(d,e,f){C.attr("class","evergage-tooltip evergage-qtip "+f)},"^style.widget|content.title":v,"^events.(render|show|move|hide|focus|blur|destroy)$":function(d,e,h){C[(f.isFunction(h)?
"":"un")+"bind"]("tooltip"+e,h)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=d.position;C.attr("tracking","mouse"===e.target&&e.adjust.mouse);E();W()}};d&&d.bundle&&!d.bundle.legacy?(delete m.checks.builtin["^content.text$"],delete m.checks.builtin["^content.title.text$"]):delete m.checks.builtin["^content.fullcontents$"];f.extend(m,{render:function(x){if(m.rendered)return m;var r=d.content.text,t=d.content.title.text,p=d.position,n=d.bundle,
q=n.invisible?"evergage-tooltip-invisible":"",O="";n&&null!=n.existingStyles&&(O+=n.existingStyles);if(n&&!n.legacy&&null!=n.topLevelDivStyle)if(O+=n.topLevelDivStyle,"page"!==e.renderType||!0!==e.inlineRespectMessageSize)d.style.width=null,d.style.height=null;else if("page"===e.renderType&&!0===e.inlineRespectMessageSize){var E=f("\x3cdiv style\x3d'"+n.topLevelDivStyle+"'\x3e\x3c/div\x3e"),z=E.css("width");z&&-1<z.indexOf("px")&&(d.style.width=z);(E=E.css("height"))&&-1<E.indexOf("px")&&(d.style.height=
E)}O+="visibility: hidden;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;display: block;";n&&!0===n.invisible&&(O+="width: 1px !important; height: 1px !important; display: none !important; visibility: hidden !important; pointer-events: none !important; opacity: 0 !important;");C=u.tooltip=f("\x3cdiv/\x3e",{id:ea,"class":"evergage-tooltip evergage-qtip evergage-tooltip-default "+d.style.classes+" evergage-tooltip-pos-"+d.position.my.abbrev()+" "+q,tracking:"mouse"===
p.target&&p.adjust.mouse,style:O}).toggleClass("ui-state-disabled",T.disabled).data("qtip",m);if(d.position.container&&0<d.position.container.length&&d.position.replaceContainer)f(d.position.container[0]).replaceWith(C);else if(n&&"page"==n.target.renderType&&!0!==n.target.replaceExistingContent)switch(n.target.inlineInsertionLocation){case "NextSibling":C.insertAfter(d.position.container);break;case "PreviousSibling":C.insertBefore(d.position.container);break;case "FirstChild":C.prependTo(d.position.container);
break;default:C.appendTo(d.position.container)}else C.appendTo(d.position.container);null!=d.content.fullContents?(p=ajq(ajq.trim(d.content.fullContents)),!n.previewMode&&n.formElementData&&n.formElementData.messageHasForm&&(q=ajq("\x3cform/\x3e",{}),n.formElementData.formSubmitAction&&q.attr("evergage-action",n.formElementData.formSubmitAction),n.formElementData.hideMessageOnSubmit||q.attr("evergage-nocloseonsubmit","evergage-nocloseonsubmit"),n.formElementData.dismissMessageOnSubmit||q.attr("evergage-nodismissonsubmit",
"evergage-nodismissonsubmit"),p=q.append(p)),C.append(p),u.content=C):C.append(u.content=f("\x3cdiv /\x3e",{"class":"evergage-tooltip-content",id:ea+"-content"}));m.rendered=-1;L=S=1;t&&null==d.content.fullContents&&(B(),f.isFunction(t)||Na(t,!1));f.isFunction(r)||null!=d.content.fullContents||I(r,!1);m.rendered=!0;d.style.poweredBy&&P();v();f.each(d.events,function(c,d){f.isFunction(d)&&C.bind("toggle"===c?"tooltipshow tooltiphide":"tooltip"+c,d)});f.each(F,function(){"render"===this.initialize&&
this(m)});W();C.queue("fx",function(c){V("render");L=S=0;m.redraw();if(d.show.ready||x)m.toggle(!0,T.event,!1),setTimeout(function(){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Finished showing message ["+n.id+"] via 1 second timeout.");C.css("display","block");Evergage.getDisabledQtipWindowScroll()||f(h).scroll()},1E3),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Finished showing message ["+n.id+"]."),Evergage&&"object"===typeof Evergage&&"function"===typeof Evergage.setMessageAsDisplayedForReshowPersonalizationSections&&
Evergage.setMessageAsDisplayedForReshowPersonalizationSections(H),d.bundle&&"function"===typeof d.bundle.showCallback&&d.bundle.showCallback(m);c()});return m},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:C.outerHeight(!1),width:C.outerWidth(!1)};break;case "offset":e=F.offset(C,d.position.container);break;default:e=p(e.toLowerCase()),e=e[0][e[1]],e=e.precedance?e.string():e}return e},set:function(e,h){var r=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,
u=/^content\.(title|attr)|style/i,n=!1,B=!1,q=m.checks,O;"string"===typeof e?(O=e,e={},e[O]=h):e=f.extend(!0,{},e);f.each(e,function(d,c){var h=p(d.toLowerCase()),m;m=h[0][h[1]];h[0][h[1]]="object"===typeof c&&c.nodeType?f(c):c;e[d]=[h[0],h[1],c,m];n=r.test(d)||n;B=u.test(d)||B});Z(d);L=S=1;f.each(e,function(d,c){var e,f,h;for(e in q)for(f in q[e])if(h=(new RegExp(f,"i")).exec(d))c.push(h),q[e][f].apply(m,c)});L=S=0;m.rendered&&0<C[0].offsetWidth&&(n&&m.reposition("mouse"===d.position.target?null:
T.event),B&&m.redraw());return m},toggle:function(e,h,r){function u(){e?(f.browser.msie&&C[0].style.removeAttribute("filter"),C.css("overflow",""),"string"===typeof B.autofocus&&f(B.autofocus,C).focus(),B.target.trigger("qtip-"+H+"-inactive")):C.css({display:"",visibility:"",opacity:"",left:"",top:""});V(e?"visible":"hidden")}if(h){if(/over|enter/.test(h.type)&&/out|leave/.test(T.event.type)&&d.show.target.add(h.target).length===d.show.target.length&&C.has(h.relatedTarget).length)return m;T.event=
f.extend({},h)}if(!m.rendered)return e?m.render(1):m;var p=e?"show":"hide",B=d[p],O=d.position,E=d.content,W=0<C[0].offsetWidth&&"visible"==C.css("visibility"),c=e||1===B.target.length,P=!h||2>B.target.length||T.target[0]===h.target;(typeof e).search("boolean|number")&&(e=!W);if(!C.is(":animated")&&W===e&&P||!V(p,[90]))return m;e?(T.origin=f.extend({},z),m.focus(h),f.isFunction(E.text)&&I(E.text,!1),f.isFunction(E.title.text)&&Na(E.title.text,!1),!n&&"mouse"===O.target&&O.adjust.mouse&&(f(q).bind("mousemove.qtip",
function(c){try{z={pageX:c.pageX,pageY:c.pageY,type:"mousemove"}}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"pageMouseMove")}}),n=!0),m.reposition(h,r),C.css({visibility:"visible"}),B.solo&&f("div.evergage-qtip.evergage-tooltip",B.solo).not(C).qtip("hide",f.Event("tooltipsolo"))):(clearTimeout(m.timers.show),delete T.origin,n&&!f('div.evergage-qtip.evergage-tooltip[tracking\x3d"true"]:visible',B.solo).not(C).length&&(f(q).unbind("mousemove.qtip"),
n=!1),m.blur(h));!1===B.effect||!1===c?(C[p](),u.call(C)):f.isFunction(B.effect)?(C.stop(1,1),B.effect.call(C,m),C.queue("fx",function(c){u();c()})):C.fadeTo(90,e?1:0,u);e&&B.target.trigger("qtip-"+H+"-inactive");return m},show:function(d){return m.toggle(!0,d)},hide:function(d){return m.toggle(!1,d)},focus:function(d){if(!m.rendered)return m;var e=f("div.evergage-qtip.evergage-tooltip"),h=parseInt(C[0].style.zIndex,10),r=ca.zindex+e.length;d=f.extend({},d);C.hasClass("evergage-tooltip-focus")||C.hasClass("evergage-tooltip-invisible")||
!V("focus",[r],d)||(h!==r&&(e.each(function(){this.style.zIndex>h&&--this.style.zIndex}),e.filter(".evergage-tooltip-focus").qtip("blur",d)),C.addClass("evergage-tooltip-focus")[0].style.zIndex=r);return m},blur:function(d){C.removeClass("evergage-tooltip-focus");V("blur",[C.css("zIndex")],d);return m},reposition:function(e,r){if(!m.rendered||L)return m;var t=d?d.bundle:null;t&&t.target&&t.target.target&&d.position&&d.position.target&&d.position.target.selector===t.target.target&&(d.position.target=
ajq(t.target.target));L=1;var t=d.position.target,p=d.position,n=p.my,B=p.at,O=p.adjust;O.method.split(" ");var H=C.outerWidth(!1),E=C.outerHeight(!1),c=0,W=0,P="fixed"===C.css("position"),I=p.viewport,v={left:0,top:0},Q=p.container,J=0<C[0].offsetWidth;if(f.isArray(t)&&2===t.length)B={x:"left",y:"top"},v={left:t[0],top:t[1]};else if("mouse"===t&&(e&&e.pageX||T.event.pageX))B={x:"left",y:"top"},e=(!e||"resize"!==e.type&&"scroll"!==e.type?e&&e.pageX&&"mousemove"===e.type?e:!z||!z.pageX||!O.mouse&&
e&&e.pageX?!O.mouse&&T.origin&&T.origin.pageX&&d.show.distance?T.origin:e:{pageX:z.pageX,pageY:z.pageY}:T.event)||e||T.event||z||{},v={top:e.pageY,left:e.pageX};else{"event"===t&&e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?T.target=f(e.target):"event"!==t&&(T.target=f(t.jquery?t:u.target));t=T.target;t=f(t).eq(0);if(0===t.length)return m;t[0]===q||t[0]===h?(c="number"===typeof h.innerWidth&&"number"===typeof t.width()&&h.innerWidth!==t.width()&&h.innerWidth+20>=t.width()?t.width():"number"===
typeof h.innerWidth?h.innerWidth:t.width(),W="number"===typeof h.innerHeight&&"number"===typeof t.height()&&h.innerHeight!==t.height()&&h.innerHeight+20>=t.height()?t.height():"number"===typeof h.innerHeight?h.innerHeight:t.height(),t[0]===h&&(v={top:(I||t).scrollTop(),left:(I||t).scrollLeft()})):(c=t.outerWidth(!1),W=t.outerHeight(!1),v=F.offset(t,Q));if(F.iOS||!F.iOS&&P)P=f(h),v.left-=P.scrollLeft(),v.top-=P.scrollTop();v.left+="right"===B.x?c:"center"===B.x?c/2:0;v.top+="bottom"===B.y?W:"center"===
B.y?W/2:0}v.left+=O.x+("right"===n.x?-H:"center"===n.x?-H/2:0);v.top+=O.y+("bottom"===n.y?-E:"center"===n.y?-E/2:0);v.adjusted=F.viewport?F.viewport(m,v,p,c,W,H,E):{left:0,top:0};if(!V("move",[v,I.elem||I],e))return m;delete v.adjusted;!1===r||!J||isNaN(v.left)||isNaN(v.top)||"mouse"===t||!f.isFunction(p.effect)?C.css(v):f.isFunction(p.effect)&&(p.effect.call(C,m,f.extend({},v)),C.queue(function(c){f(this).css({opacity:""});f.browser.msie&&this.style.removeAttribute("filter");c()}));L=0;return m},
redraw:function(){if(1>m.rendered||S)return m;var e=d.style,f=d.position.container,h,r,u;S=1;V("redraw");e.height&&"1px"!=e.height&&(h=C[0].style.cssText,ajq.trim(h).lastIndexOf(";")+1!=ajq.trim(h).length&&(h+="; "),h+=" max-height: "+e.height+" !important;",h+=" height: "+e.height+" !important;",C[0].style.cssText=h);if(e.width&&"1px"!=e.width)h=C[0].style.cssText,ajq.trim(h).lastIndexOf(";")+1!=ajq.trim(h).length&&(h+="; "),h+=" max-width: "+e.width+" !important;",h+=" width: "+e.width+" !important;",
C[0].style.cssText=h;else if(!0!==d.position.replaceContainer){if("-28000px"==C.css("top"))return m;h=C.outerWidth();var p=d.bundle;if(parseInt(C.css("width"))>=parseInt(f.css("width")))if(p&&"page"==p.target.renderType&&!0!==p.target.replaceExistingContent)switch(p.target.inlineInsertionLocation){case "NextSibling":C.insertAfter(f);break;case "PreviousSibling":C.insertBefore(f);break;case "FirstChild":C.prependTo(f);break;default:C.appendTo(f)}else C.appendTo(f);else if(r=C.css("max-width")||"",
u=C.css("min-width")||"",e=-1<(r+u).indexOf("%")?f.width()/100:0,r=(-1<r.indexOf("%")?e:1)*parseInt(r,10)||h,u=(-1<u.indexOf("%")?e:1)*parseInt(u,10)||0,h=r+u?Math.min(Math.max(h,u),r):h,p&&"page"==p.target.renderType&&!0!==p.target.replaceExistingContent)switch(d.bundle.target.inlineInsertionLocation){case "NextSibling":C.css("width",Math.round(h)).insertAfter(f);break;case "PreviousSibling":C.css("width",Math.round(h)).insertBefore(f);break;case "FirstChild":C.css("width",Math.round(h)).prependTo(f);
break;default:C.css("width",Math.round(h)).appendTo(f)}else C.css("width",Math.round(h)).appendTo(f)}V("redrawn");S=0;return m},disable:function(d){"boolean"!==typeof d&&(d=!(C.hasClass("ui-state-disabled")||T.disabled));m.rendered?C.toggleClass("ui-state-disabled",d):T.disabled=!!d;return m},enable:function(){return m.disable(!1)},destroy:function(){var h=e[0],r=f.attr(h,"oldtitle"),u=e.data("qtip");V("destroy");m.destroyed=!0;m.rendered&&(C.stop(1,0).remove(),f.each(m.plugins,function(){this.destroy&&
this.destroy()}));clearTimeout(m.timers.show);clearTimeout(m.timers.hide);E();u&&m!==u||(f.removeData(h,"qtip"),d.suppress&&r&&(f.attr(h,"title",r),e.removeAttr("oldtitle")));e.unbind(".qtip-"+H);delete da[m.id];return e}})}function v(e,d){var h,n,p,v,z,Q=f(this),r=f(q.body),B=this===q?r:Q;n=Q.metadata?Q.metadata(d.metadata):null;v="html5"===d.metadata.type&&n?n[d.metadata.name]:null;var P=Q.data(d.metadata.name||"qtipopts");try{P="string"===typeof P?f.parseJSON(P):P}catch(D){}v=f.extend(!0,{},ca.defaults,
d,"object"===typeof P?Z(P):null,Z(v||n));n=v.position;v.id=e;if("boolean"===typeof v.content.text)if(p=Q.attr(v.content.attr),!1!==v.content.attr&&p)v.content.text=p;else return!1;n.container.length||(n.container=r);!1===n.target&&(n.target=B);!1===v.show.target&&(v.show.target=B);!0===v.show.solo&&(v.show.solo=n.container.closest("body"));!1===v.hide.target&&(v.hide.target=B);!0===v.position.viewport&&(v.position.viewport=n.container);n.container=n.container.eq(0);n.at=new F.Corner(n.at);n.my=new F.Corner(n.my);
if(f.data(this,"qtip"))if(v.overwrite)Q.qtip("destroy");else if(!1===v.overwrite)return!1;v.suppress&&(z=f.attr(this,"title"))&&f(this).removeAttr("title").attr("oldtitle",z).attr("title","");h=new N(Q,v,e,!!p);f.data(this,"qtip",h);Q.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){h.destroy()});return h}function L(e){var d=this,h=e.elements.tooltip,n=e.options.content.ajax,p=ca.defaults.content.ajax,q=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,v=!0,z=!1,r;e.checks.ajax={"^content.ajax":function(e,
f,r){"ajax"===f&&(n=r);"once"===f?d.init():n&&n.url?d.load():h.unbind(".qtip-ajax")}};f.extend(d,{init:function(){if(n&&n.url)h.unbind(".qtip-ajax")[n.once?"one":"bind"]("tooltipshow.qtip-ajax",d.load);return d},load:function(h){function H(){var d;e.destroyed||(v=!1,D&&(z=!0,e.show(h.originalEvent)),(d=p.complete||n.complete)&&f.isFunction(d)&&d.apply(n.context||e,arguments))}function F(d,h,r){var B;e.destroyed||(m&&"string"===typeof d&&(d=f("\x3cdiv/\x3e").append(d.replace(q,"")).find(m)),(B=p.success||
n.success)&&f.isFunction(B)?B.call(n.context||e,d,h,r):e.set("content.text",d))}function I(d,f,h){e.destroyed||0===d.status||e.set("content.text",f+": "+h)}if(z)z=!1;else{var W=n.url.lastIndexOf(" "),E=n.url,m,D=!n.loading&&v;if(D)try{h.preventDefault()}catch(L){}else if(h&&h.isDefaultPrevented())return d;r&&r.abort&&r.abort();-1<W&&(m=E.substr(W),E=E.substr(0,W));r=f.ajax(f.extend({error:p.error||I,context:e},n,{url:E,success:F,complete:H}))}},destroy:function(){r&&r.abort&&r.abort();e.destroyed=
!0}});d.init()}function Ba(e,d,f){var h=Math.ceil(d/2),n=Math.ceil(f/2);d={bottomright:[[0,0],[d,f],[d,0]],bottomleft:[[0,0],[d,0],[0,f]],topright:[[0,f],[d,0],[d,f]],topleft:[[0,0],[0,f],[d,f]],topcenter:[[0,f],[h,0],[d,f]],bottomcenter:[[0,0],[d,0],[h,f]],rightcenter:[[0,0],[d,n],[0,f]],leftcenter:[[d,0],[d,f],[0,n]]};d.lefttop=d.bottomright;d.righttop=d.bottomleft;d.leftbottom=d.topright;d.rightbottom=d.topleft;return d[e.string()]}function ia(e,d){var h,n;function p(d){var e=m.is(":visible");
m.show();d();m.toggle(e)}function q(d,f,h,m){if(E.tip){d=I.corner.clone();m=h.adjusted;var r=e.options.position.adjust.method.split(" "),n=r[0],r=r[1]||r[0],p=!1,B=!1,C=0,v=0,H,c={};!0!==I.corner.fixed&&("shift"===n&&"x"===d.precedance&&m.left&&"center"!==d.y?d.precedance="x"===d.precedance?"y":"x":"shift"!==n&&m.left&&(d.x="center"===d.x?0<m.left?"left":"right":"left"===d.x?"right":"left"),"shift"===r&&"y"===d.precedance&&m.top&&"center"!==d.x?d.precedance="y"===d.precedance?"x":"y":"shift"!==r&&
m.top&&(d.y="center"===d.y?0<m.top?"top":"bottom":"top"===d.y?"bottom":"top"),d.string()===ea.corner.string()||ea.top===m.top&&ea.left===m.left||I.update(d,!1));H=I.position(d,m);B=z(d,d.x);p=z(d,d.y);f=f.options.bundle;if(f.legacy)H[d.x]+=B,H[d.y]+=p;else{var O=H.right?"right":"left";0>H[O]&&(B=f.previewMode?H[O]-B:-(E.tip.width()+parseFloat(E.tip.css("padding-"+O))),E.tip.css(O,B));B=H.bottom?"bottom":"top";0>H[B]&&(f=f.previewMode?H[B]-p:-(E.tip.height()+parseFloat(E.tip.css("padding-"+B))),E.tip.css(B,
f))}H.right!==D&&(H.left=-H.right);H.bottom!==D&&(H.top=-H.bottom);H.user=Math.max(0,W.offset);if(p="shift"===n&&!!m.left)"center"===d.x?c["margin-left"]=C=H["margin-left"]-m.left:(f=H.right!==D?[m.left,-H.left]:[-m.left,H.left],(C=Math.max(f[0],f[1]))>f[0]&&(h.left-=m.left,p=!1),c[H.right!==D?"right":"left"]=C);if(B="shift"===r&&!!m.top)"center"===d.y?c["margin-top"]=v=H["margin-top"]-m.top:(f=H.bottom!==D?[m.top,-H.top]:[-m.top,H.top],(v=Math.max(f[0],f[1]))>f[0]&&(h.top-=m.top,B=!1),c[H.bottom!==
D?"bottom":"top"]=v);E.tip.css(c).toggle(!(C&&v||"center"===d.x&&v||"center"===d.y&&C));h.left-=H.left.charAt?H.user:"shift"!==n||B||!p&&!B?H.left:0;h.top-=H.top.charAt?H.user:"shift"!==r||p||!p&&!B?H.top:0;ea.left=m.left;ea.top=m.top;ea.corner=d.clone()}}function v(){var d=W.corner,f=e.options.position,h=f.at,f=f.my.string?f.my.string():f.my;if(!1===d||!1===f&&!1===h)return!1;!0===d?I.corner=new F.Corner(f):d.string||(I.corner=new F.Corner(d),I.corner.fixed=!0);ea.corner=new F.Corner(I.corner.string());
return"centercenter"!==I.corner.string()}function z(d,e,f){e=e?e:d[d.precedance];var h=E.titlebar&&"top"===d.y?E.titlebar:m,r="border-"+e+"-width",n;p(function(){n=(f?parseInt(f.css(r),10):parseInt(E.content.css(r),10)||parseInt(h.css(r),10)||parseInt(m.css(r),10))||0});return n}function r(d){var e=E.titlebar&&"top"===d.y?E.titlebar:E.content,h=f.browser.mozilla?"-moz-":f.browser.webkit?"-webkit-":"",r="border-radius-"+d.y+d.x,n="border-"+d.y+"-"+d.x+"-radius",B=function(d){return parseInt(e.css(d),
10)||parseInt(m.css(d),10)},q;p(function(){q=B(n)||B(h+n)||B(h+r)||B(r)||0});return q}function B(d){function e(d,f,h){f=d.css(f)||"transparent";return h&&f===d.css(h)?!1:B.test(f)?!1:f}var r=E.tip.css("cssText","");d=d||I.corner;var B=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,t="border-"+d[d.precedance]+"-color",q=E.titlebar,C=q&&("top"===d.y||"center"===d.y&&r.position().top+N.height/2+W.offset<q.outerHeight(!0))?q:E.content;p(function(){h=e(r,"background-color")||e(C,"background-color")||e(E.content,
"background-color")||e(m,"background-color")||r.css("background-color");n=e(r,t,"color")||e(C,t,"color")||e(E.content,t,"color")||e(m,t,"color")||m.css(t);f("*",r).add(r).css("cssText","background-color:transparent !important;border:0 !important;")})}function P(d){var e="y"===d.precedance,f=N[e?"width":"height"],h=N[e?"height":"width"],m=-1<d.string().indexOf("center"),r=f*(m?.5:1),n=Math.pow;d=Math.round;var p=Math.sqrt(n(r,2)+n(h,2)),r=[S/r*p,S/h*p];r[2]=Math.sqrt(n(r[0],2)-n(S,2));r[3]=Math.sqrt(n(r[1],
2)-n(S,2));m=(p+r[2]+r[3]+(m?0:r[0]))/p;f=[d(m*h),d(m*f)];return{height:f[e?0:1],width:f[e?1:0]}}function L(d,e,f){return"\x3cqvml:"+d+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"evergage-qtip-vml" '+(e||"")+' style\x3d"behavior: url(#default#VML); '+(f||"")+'" /\x3e'}var I=this,W=e.options.style.tip,E=e.elements,m=E.tooltip,ea={top:0,left:0},N={width:W.width,height:W.height};n=h=void 0;var S=W.border||0,C=!!(f("\x3ccanvas /\x3e")[0]||{}).getContext,J;I.corner=null;I.mimic=null;I.border=
S;I.offset=W.offset;I.size=N;e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){I.init()||I.destroy();e.reposition()},"^style.tip.(height|width)$":function(){N={width:W.width,height:W.height};I.create();I.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){E.tip&&E.tip.length&&I.update()}};f.extend(I,{init:function(){var d=v()&&(C||f.browser.msie);d&&(I.create(),I.update(),m.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",q),C||m.bind("tooltipredraw tooltipredrawn",
function(d){"tooltipredraw"===d.type?(J=E.tip.html(),E.tip.html("")):E.tip.html(J)}));return d},create:function(){var d=N.width,e=N.height;E.tip&&E.tip.remove();E.tip=f("\x3cdiv /\x3e",{"class":"evergage-tooltip-tip"}).css({width:d,height:e}).prependTo(m);C?f("\x3ccanvas /\x3e").appendTo(E.tip)[0].getContext("2d").save():(d=L("shape",'coordorigin\x3d"0,0"',"position:absolute;"),E.tip.html(d+d),f("*",E.tip).bind("click mousedown",function(d){d.stopPropagation()}))},update:function(d,e){var r=E.tip,
p=r.children(),t=N.width,q=N.height,v=W.mimic,J=Math.round,V,D;d||(d=ea.corner||I.corner);!1===v?v=d:(v=new F.Corner(v),v.precedance=d.precedance,"inherit"===v.x?v.x=d.x:"inherit"===v.y?v.y=d.y:v.x===v.y&&(v[d.precedance]=d[d.precedance]));"x"===d.precedance?(N.width=W.height,N.height=W.width):(N.width=W.width,N.height=W.height);E.tip.css({width:t=N.width,height:q=N.height});B(d);"transparent"!==n?(S=z(d,null),0===W.border&&0<S&&(h=n),I.border=S=!0!==W.border?W.border:S):I.border=S=0;V=Ba(v,t,q);
I.size=D=P(d);r.css(D);r="y"===d.precedance?[J("left"===v.x?S:"right"===v.x?D.width-t-S:(D.width-t)/2),J("top"===v.y?D.height-q:0)]:[J("left"===v.x?D.width-t:0),J("top"===v.y?S:"bottom"===v.y?D.height-q-S:(D.height-q)/2)];C?(p.attr(D),p=p[0].getContext("2d"),p.restore(),p.save(),p.clearRect(0,0,3E3,3E3),p.fillStyle=h,p.strokeStyle=n,p.lineWidth=2*S,p.lineJoin="miter",p.miterLimit=100,p.translate(r[0],r[1]),p.beginPath(),p.moveTo(V[0][0],V[0][1]),p.lineTo(V[1][0],V[1][1]),p.lineTo(V[2][0],V[2][1]),
p.closePath(),S&&("border-box"===m.css("background-clip")&&(p.strokeStyle=h,p.stroke()),p.strokeStyle=n,p.stroke()),p.fill()):(V="m"+V[0][0]+","+V[0][1]+" l"+V[1][0]+","+V[1][1]+" "+V[2][0]+","+V[2][1]+" xe",r[2]=S&&/^(r|b)/i.test(d.string())?8===parseFloat(f.browser.version,10)?2:1:0,p.css({coordsize:t+S+" "+(q+S),antialias:""+(-1<v.string().indexOf("center")),left:r[0],top:r[1],width:t+S,height:q+S}).each(function(d){var c=f(this);c[c.prop?"prop":"attr"]({coordsize:t+S+" "+(q+S),path:V,fillcolor:h,
filled:!!d,stroked:!d}).toggle(!(!S&&!d));d||""!==c.html()||c.html(L("stroke",'weight\x3d"'+2*S+'px" color\x3d"'+n+'" miterlimit\x3d"1000" joinstyle\x3d"miter"'))}));!1!==e&&I.position(d)},position:function(d){var e=E.tip,h={},m=Math.max(0,W.offset),p,n,B;if(!1===W.corner||!e)return!1;d=d||I.corner;p=d.precedance;n=P(d);B=[d.x,d.y];"x"===p&&B.reverse();f.each(B,function(e,f){var B,q,c;"center"===f?(B="y"===p?"left":"top",h[B]="50%",h["margin-"+B]=-Math.round(n["y"===p?"width":"height"]/2)+m):(B=z(d,
f),q=z(d,f,E.content),c=r(d),h[f]=e?q:m+(c>B?c:-B))});h[d[p]]-=n["x"===p?"width":"height"];e.css({top:"",bottom:"",left:"",right:"",margin:""}).css(h);return h},destroy:function(){E.tip&&E.tip.remove();E.tip=!1;m.unbind(".qtip-tip")}});I.init()}function ka(e){function d(){N=f(P,Q).not("[disabled]").map(function(){return"function"===typeof this.focus?this:null})}function n(d){1>N.length&&d.length?d.not("body").blur():N.first().focus()}function v(d){try{var e=f(d.target),h=e.closest(".evergage-qtip");
(1>h.length?0:parseInt(h[0].style.zIndex,10)>parseInt(Q[0].style.zIndex,10))||f(d.target).closest("div.evergage-qtip.evergage-tooltip")[0]===Q[0]||n(e)}catch(r){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(r,"messageFocus")}}var p=this,z=e.options.show.modal,D=e.elements,Q=D.tooltip,r=".qtipmodal"+e.id,B=f(q.body),P=F.modal.focusable.join(","),N={},I;e.checks.modal={"^show.modal.(on|blur)$":function(){p.init();D.overlay.toggle(Q.is(":visible"))},"^content.text$":function(){d()}};
f.extend(p,{init:function(){if(!z.on)return p;I=p.create();Q.attr("is-modal-qtip",!0).css("z-index",F.modal.zindex+f("div.evergage-qtip.evergage-tooltip[is-modal-qtip]").length).unbind(".qtipmodal").unbind(r).bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(d,e,h){e=d.originalEvent;if(d.target===Q[0])if(e&&"tooltiphide"===d.type&&/mouse(leave|enter)/.test(e.type)&&f(e.relatedTarget).closest(I[0]).length)try{d.preventDefault()}catch(r){}else if(!e||e&&!e.solo)p[d.type.replace("tooltip",
"")](d,h)}).bind("tooltipfocus.qtipmodal",function(d){if(!d.isDefaultPrevented()&&d.target===Q[0]){var e=f("div.evergage-qtip.evergage-tooltip").filter("[is-modal-qtip]"),h=F.modal.zindex+e.length,r=parseInt(Q[0].style.zIndex,10);I[0].style.zIndex=h-2;e.each(function(){this.style.zIndex>r&&--this.style.zIndex});e.end().filter(".evergage-tooltip-focus").qtip("blur",d.originalEvent);Q.addClass("evergage-tooltip-focus")[0].style.zIndex=h;try{d.preventDefault()}catch(p){}}}).bind("tooltiphide.qtipmodal",
function(d){d.target===Q[0]&&f("[is-modal-qtip]").filter(":visible").not(Q).last().qtip("focus",d)});z.escape&&f(q).unbind(r).bind("keydown"+r,function(d){try{27===d.keyCode&&Q.hasClass("evergage-tooltip-focus")&&(e.hide(d),e.destroy(d))}catch(f){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(f,"messageEscapeKey")}});z.blur&&D.overlay.unbind(r).bind("click"+r,function(d){try{Q.hasClass("evergage-tooltip-focus")&&(e.hide(d),e.destroy(d))}catch(f){"object"===
typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(f,"messageBlur")}});d();return p},create:function(){function d(){try{I.css({height:f(h).height(),width:f(h).width()})}catch(e){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"pageResize")}}var e=f("#evergage-qtip-overlay");if(e.length)return D.overlay=e.insertAfter(f("div.evergage-qtip.evergage-tooltip").last());I=D.overlay=f("\x3cdiv /\x3e",{id:"evergage-qtip-overlay",
html:"\x3cdiv\x3e\x3c/div\x3e",mousedown:function(){return!1}}).hide().insertAfter(f("div.evergage-qtip.evergage-tooltip").last());f(h).unbind(".qtipmodal").bind("resize.qtipmodal",d);d();return I},toggle:function(d,e,h){if(d&&d.isDefaultPrevented())return p;d=z.effect;var q=e?"show":"hide",P=I.is(":visible"),D=f("[is-modal-qtip]").filter(":visible").not(Q);I||(I=p.create());if(I.is(":animated")&&P===e||!e&&D.length)return p;e?(I.css({left:0,top:0}),I.toggleClass("blurs",z.blur),!1!==z.stealfocus&&
(B.bind("focusin"+r,v),n(f("body :focus")))):B.unbind("focusin"+r);I.stop(!0,!1);if(f.isFunction(d))d.call(I,e);else if(!1===d)I[q]();else I.fadeTo(parseInt(h,10)||90,e?1:0,function(){e||f(this).hide()});e||I.queue(function(d){I.css({left:"",top:""});d()});return p},show:function(d,e){return p.toggle(d,!0,e)},hide:function(d,e){return p.toggle(d,!1,e)},destroy:function(){var d=I;d&&((d=1>f("[is-modal-qtip]").not(Q).length)?(D.overlay.remove(),f(q).unbind(".qtipmodal")):D.overlay.unbind(".qtipmodal"+
e.id),B.undelegate("*","focusin"+r));return Q.removeAttr("is-modal-qtip").unbind(".qtipmodal")}});p.init()}var ca,F,z,da={},n;ca=f.fn.qtip=function(e,d,h){var n=(""+e).toLowerCase(),p=null,q=f.makeArray(arguments).slice(1),v=q[q.length-1],z=this[0]?f.data(this[0],"qtip"):null;if(!arguments.length&&z||"api"===n)return z;if("string"===typeof e)return this.each(function(){var e=f.data(this,"qtip");if(!e)return!0;v&&v.timeStamp&&(e.cache.event=v);if("option"!==n&&"options"!==n||!d)e[n]&&e[n].apply(e[n],
q);else if(f.isPlainObject(d)||h!==D)e.set(d,h);else return p=e.get(d),!1}),null!==p?p:this;if("object"===typeof e||!arguments.length)return z=Z(f.extend(!0,{},e)),ca.bind.call(this,z,v)};ca.bind=function(e,d){return this.each(function(h){function n(d){try{var e=function(){r.render("object"===typeof d||p.show.ready);q.show.add(q.hide).unbind(Q)};if(r.cache.disabled)return!1;r.cache.event=f.extend({},d);r.cache.target=d?f(d.target):[D];0<p.show.delay?(clearTimeout(r.timers.show),r.timers.show=setTimeout(e,
p.show.delay),N.show!==N.hide&&q.hide.bind(N.hide,function(){try{clearTimeout(r.timers.show)}catch(d){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(d,"messageHideClearTimeout")}})):e()}catch(h){try{ajq.log.shouldLog("WARN")&&console.log("Evergage: ERROR: Failed to render message ["+p.bundle.id+"] from campaign ["+p.bundle.campaignName+"], experience ["+p.bundle.experienceName+"] - does message HTML content contain script tags?",h)}catch(v){}r.hide();
r.destroy();"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(h,"messageDisplay")}}var p,q,N,Q,r;h=f.isArray(e.id)?e.id[h]:e.id;h=!h||!1===h||1>h.length||da[h]?ca.nextid++:h;Q=".qtip-"+h+"-create";r=v.call(this,h,e);if(!1===r)return!0;p=r.options;f.each(F,function(){"initialize"===this.initialize&&this(r)});q={show:p.show.target,hide:p.hide.target};N={show:f.trim(""+p.show.event).replace(/ /g,Q+" ")+Q,hide:f.trim(""+p.hide.event).replace(/ /g,Q+" ")+Q};
/mouse(over|enter)/i.test(N.show)&&!/mouse(out|leave)/i.test(N.hide)&&(N.hide+=" mouseleave"+Q);q.show.bind("mousemove"+Q,function(d){try{z={pageX:d.pageX,pageY:d.pageY,type:"mousemove"},r.cache.onTarget=!0}catch(e){"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(e,"targetMouseMove")}});q.show.bind(N.show,n);(p.show.ready||p.prerender)&&n(d)})};F=ca.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();
this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();e=e.charAt(0);this.precedance="t"===e||"b"===e?"y":"x";this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y};this.abbrev=function(){var d=this.x.substr(0,1),e=this.y.substr(0,1);return d===e?d:"y"===this.precedance?e+d:d+e};this.invertx=function(d){this.x="left"===this.x?"right":"right"===this.x?"left":d||this.x};this.inverty=
function(d){this.y="top"===this.y?"bottom":"bottom"===this.y?"top":d||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,d){var h=e.offset(),n=e.closest("body")[0],p=d,q,v,z;if(p){do"static"!==p.css("position")&&(v=p.position(),p.is("body")&&(v.top+=parseInt(p.css("top"),10)||0),h.left-=v.left+(parseInt(p.css("borderLeftWidth"),10)||0)+(parseInt(p.css("marginLeft"),
10)||0),h.top-=v.top+(parseInt(p.css("borderTopWidth"),10)||0)+(parseInt(p.css("marginTop"),10)||0),q||"hidden"===(z=p.css("overflow"))||"visible"===z||(q=p));while((p=f(p[0].offsetParent)).length);q&&q[0]!==n&&(n=q,h.left+=1*n.scrollLeft(),h.top+=1*n.scrollTop())}return h},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,fn:{attr:function(e,d){if(this.length){var h=
this[0],n=f.data(h,"qtip");if("title"===e&&n&&"object"===typeof n&&n.options.suppress){if(2>arguments.length)return f.attr(h,"oldtitle");n&&"title"===n.options.content.attr&&n.cache.attr&&n.set("content.text",d);return this.attr("oldtitle",d)}}return f.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(e){f([]);var d=f.fn.clone_replacedByqTip.apply(this,arguments);e||d.filter("[oldtitle]").attr("title",function(){return f.attr(this,"oldtitle")}).removeAttr("oldtitle");return d}}};f.each(F.fn,
function(e,d){if(!d||f.fn[e+"_replacedByqTip"])return!0;var h=f.fn[e+"_replacedByqTip"]=f.fn[e];f.fn[e]=function(){return d.apply(this,arguments)||h.apply(this,arguments)}});f.ui||(f.cleanData_replacedByqTip=f.cleanData,f.cleanData=function(e){for(var d=0,h;(h=e[d])!==D;d++)try{f(h).triggerHandler("removeqtip")}catch(n){}f.cleanData_replacedByqTip(e)});ca.version="@VERSION";ca.nextid=0;ca.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");ca.zindex=15E3;ca.defaults=
{prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,attr:"title",title:{text:!1,button:!1}},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,resize:!0,method:"flip flip"},effect:function(e,d,h){f(this).css(d)}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,
def:!0},events:{render:null,move:null,show:null,hide:null,toggle:null,visible:null,hidden:null,focus:null,blur:null,destroy:null}};F.ajax=function(e){var d=e.plugins.ajax;return"object"===typeof d?d:e.plugins.ajax=new L(e)};F.ajax.initialize="render";F.ajax.sanitize=function(e){var d=e.content;d&&"ajax"in d&&(d=d.ajax,"object"!==typeof d&&(d=e.content.ajax={url:d}),"boolean"!==typeof d.once&&d.once&&(d.once=!!d.once))};f.extend(!0,ca.defaults,{content:{ajax:{loading:!0,once:!0}}});F.tip=function(e){var d=
e.plugins.tip;return"object"===typeof d?d:e.plugins.tip=new ia(e)};F.tip.initialize="render";F.tip.sanitize=function(e){var d=e.style;d&&"tip"in d&&(d=e.style.tip,"object"!==typeof d&&(e.style.tip={corner:d}),/string|boolean/i.test(typeof d.corner)||(d.corner=!0),"number"!==typeof d.width&&delete d.width,"number"!==typeof d.height&&delete d.height,"number"!==typeof d.border&&!0!==d.border&&delete d.border,"number"!==typeof d.offset&&delete d.offset)};f.extend(!0,ca.defaults,{style:{tip:{corner:!0,
mimic:!1,width:6,height:6,border:!0,offset:0}}});F.modal=function(e){var d=e.plugins.modal;return"object"===typeof d?d:e.plugins.modal=new ka(e)};F.modal.initialize="render";F.modal.sanitize=function(e){e.show&&("object"!==typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"===typeof e.show.modal.on&&(e.show.modal.on=!0))};F.modal.zindex=1000402;F.modal.focusable="a[href] area[href] input select textarea button iframe object embed [tabindex] [contenteditable]".split(" ");f.extend(!0,ca.defaults,
{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,escape:!0}}});F.viewport=function(e,d,f,n,p,v,z){function D(e,f,h,r,n,p,B,q,u){var v=d[n],c=P[e],C=N[e],E="shift"===h,z=-L.offset[n]+m.offset[n]+m["scroll"+n],H=c===n?u:c===p?-u:-u/2,O=S&&S.size?S.size[B]||0:0,I=S&&S.corner&&S.corner.precedance===e&&!E?O:0,F=z-v+I;u=v+u-m[B]-z+I;q=H-(P.precedance===e||c===P[f]?C===n?q:C===p?-q:-q/2:0)-("center"===C?q/2:0);E?(I=S&&S.corner&&S.corner.precedance===f?O:0,q=(c===n?1:-1)*H-I,d[n]+=0<F?F:0<u?-u:0,d[n]=
Math.max(-L.offset[n]+m.offset[n]+(I&&"center"===S.corner[e]?S.offset:0),v-q,Math.min(Math.max(-L.offset[n]+m.offset[n]+m[B],v+q),d[n]))):(r*="flipinvert"===h?2:0,0<F&&(c!==n||0<u)?(d[n]-=q+r,J["invert"+e](n)):0<u&&(c!==p||0<F)&&(d[n]-=("center"===c?-q:q)+r,J["invert"+e](p)),d[n]<z&&-d[n]>u&&(d[n]=v,J=P.clone()));return d[n]-v}var r=f.target,B=e.elements.tooltip,P=f.my,N=f.at,I=f.adjust,F=I.method.split(" "),E=F[0],F=F[1]||F[0],m=f.viewport,L=f.container,ca=e.cache,S=e.plugins.tip,C={left:0,top:0},
J,u;if(!m.jquery||r[0]===h||r[0]===q.body||"none"===I.method)return C;r="fixed"===B.css("position");m={elem:m,height:m[(m[0]===h?"h":"outerH")+"eight"](),width:m[(m[0]===h?"w":"outerW")+"idth"](),scrollleft:r?0:m.scrollLeft(),scrolltop:r?0:m.scrollTop(),offset:m.offset()||{left:0,top:0}};f.viewport[0]!==h&&(m.height+=f.viewport.offset().top,m.width+=f.viewport.offset().left);L={elem:L,scrollLeft:L.scrollLeft(),scrollTop:L.scrollTop(),offset:L.offset()||{left:0,top:0}};if("shift"!==E||"shift"!==F)J=
P.clone();C={left:"none"!==E?D("x","y",E,I.x,"left","right","width",n,v):0,top:"none"!==F?D("y","x",F,I.y,"top","bottom","height",p,z):0};J&&ca.lastClass!==(u="evergage-tooltip-pos-"+J.abbrev())&&B.removeClass(e.cache.lastClass).addClass(e.cache.lastClass=u);return C}})})(window,document);(function(h){function q(f,e,d){d=d||0;for(var h=f.length;d<h;d++)if(f[d]===e)return d;return-1}function D(f,e,d){"string"===typeof f&&(f=ajq(f));if(!(e.position.target instanceof h)||e.position.target.length&&e.position.target.is(":visible")){var q=
{"content.text":e.content.text};d&&d.bundle&&!d.bundle.legacy&&(q={"content.fullContents":e.content.fullContents});e.content.title&&(q["content.title.text"]=e.content.title.text);e.style&&(q["style.classes"]=e.style.classes+" "+d.style.extraClasses);f.qtip("options",q)}else f.qtip("destroy")}function f(f,e){if(1!=e.options.marginForElementRegistered){var d,q=e.options.position.container.is(h("#apptegicMessageContainerForToolbarEnabledPages"));d=q?e.options.position.container:h("body");e.options.marginForElementRegistered=
!0;d.stop(!1,!0);var v={},p="top"==e.options.position.stack?"margin-top":"margin-bottom";if(q)Z("setBodyMarginAndSaveOriginal",p,h(this).outerHeight());else{var z=parseInt(d.css(p)),D=d.get(0);"margin-top"==p&&null==D.originalMarginTop&&(D.originalMarginTop=z);"margin-bottom"==p&&null==D.originalMarginBottom&&(D.originalMarginBottom=z);v[p]=z+h(this).outerHeight()+"px"}var F=this,r=h(F).outerHeight();d.animate(v,function(){h(".evergage-qtip").qtip("reposition");if(r!=h(F).outerHeight())if(q)Z("setBodyMargin",
p,h(F).outerHeight());else{var f=parseInt(d.css(p));evergageLog.shouldLog("TRACE")&&console.log("After animation, the message height is different than the originally calculated height.  Adjusting by: "+(h(F).outerHeight()-r)+"px.");d.css(p,f+(h(F).outerHeight()-r))}q||Evergage.findAndMovePageTopOrBottomElements(e.options.position.stack,h(F).outerHeight())})}}function Z(f,e,d){var q=h("#sendDataToEvergageVisualEditorDiv");0<q.size()&&(f={actionType:"infobarMarginRequest",eventDetails:{requestType:f,
cssAttr:e,marginToSet:d}},e=document.createEvent("CustomEvent"),e.initCustomEvent("dataToEvergageVisualEditor",!0,!0,f),q.get(0).dispatchEvent(e))}function N(f,e){if(0!=e.options.marginForElementRegistered){var d,q=e.options.position.container.is(h("#apptegicMessageContainerForToolbarEnabledPages"));d=q?e.options.position.container:h("body");e.options.marginForElementRegistered=!1;evergageLog.shouldLog("TRACE")&&console.log("Removing infobar "+e.options.position.stack+".");e.options.position.container.stop(!1,
!0);var v={},p="top"==e.options.position.stack?"margin-top":"margin-bottom";if(q)Z("unsetBodyMarginAndRestoreOriginal",p,h(this).outerHeight());else{var z=parseInt(d.css(p)),D=d.get(0),F=0;"margin-top"==p&&null!=D.originalMarginTop&&(F=D.originalMarginTop);"margin-bottom"==p&&null!=D.originalMarginBottom&&(F=D.originalMarginBottom);"margin-top"==p&&z-h(this).outerHeight()<F?v[p]=F+"px":v[p]=z-h(this).outerHeight()+"px"}var r=-h(this).outerHeight();d.animate(v,function(){h(".evergage-qtip").qtip("reposition");
q||Evergage.findAndMovePageTopOrBottomElements(e.options.position.stack,r)})}}function v(f){var e=h(".evergage-qtip.evergage-jgrowl.evergage-"+f+":visible");e.outerWidth();e.outerHeight();var d=e.eq(0).qtip("option","position.adjust.y"),q=0;e.each(function(e){var p=h(this).data("qtip"),v="down"==p.options.position.next;e?(v?p.set("position.my","top left"):p.set("position.my","bottom left"),p.set("position.target",[h(this).offset().left,q])):(p.set("position.target",h(window)),p.set("position.my",
p.options.originalPosition.my),p.set("position.at",p.options.originalPosition.at),p.set("position.adjust.x",p.options.originalPosition.adjust.x));evergageLog.shouldLog("TRACE")&&console.log("Evergage: Repositioned message "+p.id+" in stack '"+f+"' to x\x3d"+h(this).css("left")+",y\x3d"+h(this).css("top"));e?q=v?q+(h(this).outerHeight()+Math.abs(d)):q-(h(this).outerHeight()+Math.abs(d)):(q=p.cache.finalPos.top,v&&(q+=h(this).outerHeight()));h(this)})}function L(f){try{var e=h(this).data("qtip");if(null==
e)return!1;var d=e.options;if(d.show&&!0===d.show.persistent)return!0;if(d.show&&d.show.lifespan){var q=parseInt(d.show.lifespan);clearTimeout(e.timer);f&&"mouseover"===f.type||(e.timer=setTimeout(e.hide,q))}return!0}catch(v){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up our timer for the message.",v),"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(v,"messageTimerSetup")}}if("undefined"!==typeof h){var Ba=0;h.updateMessage=function(f,
e,d){return D(f,e,d)};h.qtipGrowl=function(n){if(n.id)if(n.position.stack||n.position.container||n.position.target){n.style.extraClasses="";n.content.title&&n.content.title.button&&!n.content.title.text&&(n.style.extraClasses=" emptyTitle",n.content.title.text=" ");n.style.nonblocking&&(n.style.extraClasses+=" evergage-nonBlocking");var e="#evergage-tooltip-"+n.id;if(h(e).length){var d=h(e).qtip("api").options,v;v=(v=n.position.stack!=d.position.stack)||n.position.target&&n.position.target!=d.position.target;
evergageLog.shouldLog("TRACE")&&console.log("Evergage: updating message ["+n.id+"], rerender ["+v+"]");if(v)h(e).qtip("hide"),h(e).qtip("destroy"),h(e).attr("id","old"+Ba++);else{D(h(e),n,d);return}}if(n.position.target||n.position.container){var z;try{z=n.position.target?h(n.position.target):h(n.position.container),n.position&&!0===n.position.replaceContainer&&(z=h(n.bundle.target.target))}catch(F){z=null,"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(F,
"determineMessageTarget")}d=n.bundle&&n.bundle.target&&!0===n.bundle.target.replaceExistingContent&&"page"===n.bundle.target.renderType;if(!0!==n.position.ignoreTargetVisibilityCheck&&(!z||0===z.length||z.is(":hidden")&&!d)){z&&z.length&&z.is(":hidden")&&evergageLog.shouldLog("INFO")&&console.log("Message target ["+z.selector+"] exists on page but is not visible - not showing message ["+n.id+"]...");h(e).length&&h(e).qtip("destroy");return}}if(n.position.stack){n=h.extend(!0,{},h.qtipGrowl.baseDefaults,
h.qtipGrowl.growlDefaults,h.qtipGrowl.stacks[n.position.stack],n);z=".evergage-qtip.evergage-jgrowl.evergage-"+n.position.stack;n&&n.bundle&&!0===n.bundle.previewMode&&(z=".evergage-preview-message"+z);var p;h(z).length&&h(z+":visible").length&&(p=h(z+":visible:last"));n.style.extraClasses+=" evergage-jgrowl evergage-"+n.position.stack;n.position.my||(n.position.my="top right");n.position.at||(n.position.at=n.position.my);-1!=q(n.position.at.split(" "),"left")&&(n.position.adjust.x=h.qtipGrowl.windowSpace);
-1!=q(n.position.at.split(" "),"right")&&(n.position.adjust.x=-h.qtipGrowl.windowSpace);-1!=q(n.position.at.split(" "),"top")&&(n.position.adjust.y=h.qtipGrowl.windowSpace);-1!=q(n.position.at.split(" "),"bottom")&&(n.position.adjust.y=-h.qtipGrowl.windowSpace);n.originalPosition=n.position;p&&0<p.length&&(z="center","left"==n.position.at.split(" ")[0]?z="left":"right"==n.position.at.split(" ")[0]&&(z="right"),n.position="down"==n.position.next?h.extend({},n.position,{at:"bottom "+z,my:"top "+z,adjust:{y:10,
x:0},target:p}):h.extend({},n.position,{at:"top "+z,my:"bottom "+z,adjust:{y:-10,x:0},target:p}));if("top"==n.position.stack||"bottom"==n.position.stack)n.position.adjust.x=0,n.position.adjust.y=0,n.style.extraClasses+=" evergage-tooltip-bar",n.style.pushBar=!0,n.barVisible=f,n.barHidden=N}else if(n.position.target)p=n,p.style.extraClasses="evergage-tooltip-callout",n=h.extend(!0,{},h.qtipGrowl.baseDefaults,p);else if(n.position.container)p=h.extend(!0,{},h.qtipGrowl.baseDefaults,h.qtipGrowl.inPageDefaults,
n),p.style.extraClasses+=" evergage-tooltip-page",n=p.position&&!0===p.position.replaceContainer,(z=p.bundle)&&!0===z.target.replaceExistingContent&&!0!==z.isPreviewModeContainerReplacement&&!0!==z.isPreviewModeInlineRespectMessageSize&&!0!==z.target.inlineRespectMessageSize&&!n&&(p.style.extraClasses+=" evergage-tooltip-page-replace"),n=p;else return;n.style.classes+=" "+n.style.extraClasses;p=n.target&&n.target.jquery?n.position.target:h(document.body);p.qtip(n);0===h(e).length&&n.prerender&&evergageLog.shouldLog("INFO")&&
console.log("Evergage: Message ["+n.id+"] was not rendered.");p.removeData("qtip")}else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have a stack, container or target.");else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have an id.")};h.qtipUpdateGrowls=function(f){v(f)};var ia,ka=/^on/,ca=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,F=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,z=/^(scroll|resize|(un)?load|abort|error)$/,
da=function(f,e){var d;f=f.toLowerCase();document.createEvent&&this.dispatchEvent?(f=f.replace(ka,""),f.match(ca)?(h(this).offset(),d=document.createEvent("MouseEvents"),d.initMouseEvent(f,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)):f.match(F)?(d=document.createEvent("UIEvents"),d.initUIEvent(f,e.bubbles,e.cancelable,e.view,e.detail)):f.match(z)&&(d=document.createEvent("HTMLEvents"),d.initEvent(f,
e.bubbles,e.cancelable)),d&&this.dispatchEvent(d)):(f.match(ka)||(f="on"+f),d=document.createEventObject(e),this.fireEvent(f,d))};h(document).delegate(".evergage-qtip.evergage-jgrowl.evergage-nonBlocking","mouseover mousemove mousedown mouseup click dblclick",function(f,e){try{f.stopPropagation();f.preventDefault();e=e||f.type;var d=h(this);d.css("display","none");var q=document.elementFromPoint(f.clientX,f.clientY);d.css("display","block");var v=h(q),p=v.css("cursor");d.css("cursor","auto"!=p?p:
"default");ia&&ia.get(0)==q||(ia&&(da.call(ia.get(0),"mouseleave",f.originalEvent),da.call(ia.get(0),"mouseout",f.originalEvent)),da.call(q,"mouseenter",f.originalEvent),da.call(q,"mouseover",f.originalEvent));da.call(q,e,f.originalEvent);ia=v}catch(z){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up non-blocking listener for the message.",z),"object"===typeof Evergage&&"function"===typeof Evergage.sendException&&Evergage.sendException(z,"messageNonBlockingSetup")}});h(document).delegate(".evergage-qtip.evergage-jgrowl",
"mouseover mouseout",L);h.qtipGrowl.windowSpace=15;h.qtipGrowl.stacks={topleft:{position:{my:"left top",next:"down"}},middleleft:{position:{my:"left center",next:"down"}},bottomleft:{position:{my:"left bottom",next:"up"}},topright:{position:{my:"right top",next:"down"}},middleright:{position:{my:"right center",next:"down"}},bottomright:{position:{my:"right bottom",next:"up"}},topcenter:{position:{my:"top center",next:"down"}},middlecenter:{position:{my:"center",next:"down"}},bottomcenter:{position:{my:"bottom center",
next:"up"}},top:{position:{my:"top center",next:"down"},style:{width:"100%"}},bottom:{position:{my:"bottom center",next:"up"},style:{width:"100%"}}};h.qtipGrowl.growlDefaults={content:{title:{text:"hi",button:!0}},position:{target:h(window),adjust:{method:"shift"},effect:function(f,e){h(this).css(e);f.cache.finalPos=e}},show:{event:!1,ready:!0,delay:0,persistent:!1},hide:{event:!1,effect:function(f){h(this).stop(0,1).fadeOut(400).queue(function(){f.hide();v(f.options.position.stack)})}},style:{tip:!1}};
h.qtipGrowl.inPageDefaults={position:{target:["auto","auto"]},style:{tip:!1,width:"auto"}};h.qtipGrowl.baseDefaults={prerender:!0,show:{delay:0,event:!1,ready:!0},events:{},position:{viewport:h(window)},hide:{event:!1}}}})(ajq);(function(h){h(ajq)})(function(h){function q(f){return f}function D(f){try{return decodeURIComponent(f.replace(Z," "))}catch(h){evergageLog.shouldLog("DEBUG")&&console.log("Evergage: Error decoding cookie segment: "+f)}}function f(f){0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,
'"').replace(/\\\\/g,"\\"));try{return N.json?evergageJSON.parse(f):f}catch(h){}}if("undefined"!==typeof h){var Z=/\+/g,N=function(v,L,Z){if(void 0!==L){Z=h.extend({},N.defaults,Z);if("number"===typeof Z.expires){var ia=Z.expires,ka=Z.expires=new Date;ka.setDate(ka.getDate()+ia)}L=N.json?evergageJSON.stringify(L):String(L);return document.cookie=[N.raw?v:encodeURIComponent(v),"\x3d",N.raw?L:encodeURIComponent(L),Z.expires?"; expires\x3d"+Z.expires.toUTCString():"",Z.path?"; path\x3d"+Z.path:"",Z.domain?
"; domain\x3d"+Z.domain:"",Z.secure?"; secure":""].join("")}L=N.raw?q:D;Z=document.cookie.split("; ");for(var ia=v?void 0:{},ka=0,ca=Z.length;ka<ca;ka++){var F=Z[ka].split("\x3d"),z=L(F.shift()),F=L(F.join("\x3d"));if(v&&v===z){ia=f(F);break}v||(ia[z]=f(F))}return ia};N.defaults={};h.cookie=N;h.removeCookie=function(f,q){return void 0!==h.cookie(f)?(h.cookie(f,"",h.extend({},q,{expires:-1})),!0):!1}}});(function(h){function q(){var d=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest",
"tmpval"),d=!0,window.localStorage.removeItem("_tmptest")}catch(h){}if(d)try{window.localStorage&&(da=window.localStorage,e="localStorage",O=da.evergage_update)}catch(h){}else if("globalStorage"in window)try{window.globalStorage&&(da=window.globalStorage[window.location.hostname],e="globalStorage",O=da.evergage_update)}catch(h){}v();ka();"localStorage"==e||"globalStorage"==e?"addEventListener"in window?window.addEventListener("storage",f,!1):document.attachEvent("onstorage",f):"userDataBehavior"==
e&&setInterval(f,1E3);ca();"addEventListener"in window&&window.addEventListener("pageshow",function(d){d.persisted&&f()},!1)}function D(){var d="{}";if("userDataBehavior"==e){null.load("evergage");try{d=null.getAttribute("evergage")}catch(f){}try{O=null.getAttribute("evergage_update")}catch(f){}da.evergage=d}v();ka();ca()}function f(){var d;clearTimeout(H);H=setTimeout(function(){if("localStorage"==e||"globalStorage"==e)d=da.evergage_update;else if("userDataBehavior"==e){null.load("evergage");try{d=
null.getAttribute("evergage_update")}catch(f){}}if(d&&d!=O){O=d;var h=F.parse(F.stringify(z.__jstorage_meta.CRC32)),p;D();p=F.parse(F.stringify(z.__jstorage_meta.CRC32));var n,q=[],v=[];for(n in h)h.hasOwnProperty(n)&&(p[n]?h[n]!=p[n]&&"2."==String(h[n]).substr(0,2)&&q.push(n):v.push(n));for(n in p)p.hasOwnProperty(n)&&(h[n]||q.push(n));Z(q,"updated");Z(v,"deleted")}},25)}function Z(e,f){e=[].concat(e||[]);if("flushed"==f){e=[];for(var h in d)d.hasOwnProperty(h)&&e.push(h);f="deleted"}h=0;for(var p=
e.length;h<p;h++)if(d[e[h]])for(var n=0,q=d[e[h]].length;n<q;n++)d[e[h]][n](e[h],f)}function N(){var d=(+new Date).toString();"localStorage"==e||"globalStorage"==e?Ba()||(da.evergage_update=d):"userDataBehavior"==e&&(null.setAttribute("evergage_update",d),null.save("evergage"));f()}function v(){if(da.evergage)try{z=F.parse(String(da.evergage))}catch(d){da.evergage="{}"}else da.evergage="{}";n=da.evergage?String(da.evergage).length:0;z.__jstorage_meta||(z.__jstorage_meta={});z.__jstorage_meta.CRC32||
(z.__jstorage_meta.CRC32={})}function L(){if(z.__jstorage_meta.PubSub){for(var d=+new Date-2E3,e=0,f=z.__jstorage_meta.PubSub.length;e<f;e++)if(z.__jstorage_meta.PubSub[e][0]<=d){z.__jstorage_meta.PubSub.splice(e,z.__jstorage_meta.PubSub.length-e);break}z.__jstorage_meta.PubSub.length||delete z.__jstorage_meta.PubSub}try{Ba()?(delete da.evergage,delete da.evergage_update):(da.evergage=F.stringify(z),n=da.evergage?String(da.evergage).length:0)}catch(h){}}function Ba(){if(null==z)return!0;for(var d in z)if(z.hasOwnProperty(d)&&
"__jstorage_meta"!=d)return!1;return!0}function ia(d){if(!d||"string"!=typeof d&&"number"!=typeof d)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==d)throw new TypeError("Reserved key name");return!0}function ka(){var d,e,f,h,p=Infinity,n=!1,q=[];clearTimeout(ua);if(z.__jstorage_meta&&"object"==typeof z.__jstorage_meta.TTL){d=+new Date;f=z.__jstorage_meta.TTL;h=z.__jstorage_meta.CRC32;for(e in f)f.hasOwnProperty(e)&&(f[e]<=d?(delete f[e],delete h[e],delete z[e],n=!0,
q.push(e)):f[e]<p&&(p=f[e]));Infinity!=p&&(ua=setTimeout(ka,p-d));n&&(L(),N(),Z(q,"deleted"))}}function ca(){var d;if(z.__jstorage_meta.PubSub){var e,f=V;for(d=z.__jstorage_meta.PubSub.length-1;0<=d;d--)if(e=z.__jstorage_meta.PubSub[d],e[0]>V){var f=e[0],h=e[1];e=e[2];if(p[h])for(var n=0,q=p[h].length;n<q;n++)p[h][n](h,F.parse(F.stringify(e)))}V=f}}if("undefined"!==typeof h){var F=window.evergageJSON;if(!F.parse||!F.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");
var z={__jstorage_meta:{CRC32:{}}},da={evergage:"{}"},n=0,e=!1,d={},H=!1,O=0,p={},V=+new Date,ua,Q={isXML:function(d){return(d=(d?d.ownerDocument||d:0).documentElement)?"HTML"!==d.nodeName:!1},encode:function(d){if(!this.isXML(d))return!1;try{return(new XMLSerializer).serializeToString(d)}catch(e){try{return d.xml}catch(f){}}return!1},decode:function(d){var e="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(d){var e=new ActiveXObject("Microsoft.XMLDOM");e.async=
"false";e.loadXML(d);return e};if(!e)return!1;d=e.call("DOMParser"in window&&new DOMParser||window,d,"text/xml");return this.isXML(d)?d:!1}};h.evgjStorage=h.jStorage={version:"0.4.1",set:function(d,e,f){ia(d);f=f||{};if("undefined"==typeof e)return this.deleteKey(d),e;if(Q.isXML(e))e={_is_xml:!0,xml:Q.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=F.parse(F.stringify(e)))}z[d]=e;for(var h=z.__jstorage_meta.CRC32,p=F.stringify(e),n=p.length,q=2538058380^n,m=0,v;4<=n;)v=p.charCodeAt(m)&
255|(p.charCodeAt(++m)&255)<<8|(p.charCodeAt(++m)&255)<<16|(p.charCodeAt(++m)&255)<<24,v=1540483477*(v&65535)+((1540483477*(v>>>16)&65535)<<16),v^=v>>>24,v=1540483477*(v&65535)+((1540483477*(v>>>16)&65535)<<16),q=1540483477*(q&65535)+((1540483477*(q>>>16)&65535)<<16)^v,n-=4,++m;switch(n){case 3:q^=(p.charCodeAt(m+2)&255)<<16;case 2:q^=(p.charCodeAt(m+1)&255)<<8;case 1:q^=p.charCodeAt(m)&255,q=1540483477*(q&65535)+((1540483477*(q>>>16)&65535)<<16)}q^=q>>>13;q=1540483477*(q&65535)+((1540483477*(q>>>
16)&65535)<<16);h[d]="2."+((q^q>>>15)>>>0);this.setTTL(d,f.TTL||0);Z(d,"updated");return e},get:function(d,e){ia(d);return d in z?z[d]&&"object"==typeof z[d]&&z[d]._is_xml?Q.decode(z[d].xml):z[d]:"undefined"==typeof e?null:e},deleteKey:function(d){ia(d);return d in z?(delete z[d],"object"==typeof z.__jstorage_meta.TTL&&d in z.__jstorage_meta.TTL&&delete z.__jstorage_meta.TTL[d],delete z.__jstorage_meta.CRC32[d],L(),N(),Z(d,"deleted"),!0):!1},setTTL:function(d,e){var f=+new Date;ia(d);e=Number(e)||
0;return d in z?(z.__jstorage_meta.TTL||(z.__jstorage_meta.TTL={}),0<e?z.__jstorage_meta.TTL[d]=f+e:delete z.__jstorage_meta.TTL[d],L(),ka(),N(),!0):!1},getTTL:function(d){var e=+new Date;ia(d);return d in z&&z.__jstorage_meta.TTL&&z.__jstorage_meta.TTL[d]?(d=z.__jstorage_meta.TTL[d]-e)||0:0},flush:function(){z={__jstorage_meta:{CRC32:{}}};L();N();Z(null,"flushed");return!0},storageObj:function(){function d(){}d.prototype=z;return new d},index:function(){var d=[],e;for(e in z)z.hasOwnProperty(e)&&
"__jstorage_meta"!=e&&d.push(e);return d},storageSize:function(){return n},currentBackend:function(){return e},storageAvailable:function(){return!!e},listenKeyChange:function(e,f){ia(e);d[e]||(d[e]=[]);d[e].push(f)},stopListening:function(e,f){ia(e);if(d[e])if(f)for(var h=d[e].length-1;0<=h;h--)d[e][h]==f&&d[e].splice(h,1);else delete d[e]},subscribe:function(d,e){d=(d||"").toString();if(!d)throw new TypeError("Channel not defined");p[d]||(p[d]=[]);p[d].push(e)},publish:function(d,e){d=(d||"").toString();
if(!d)throw new TypeError("Channel not defined");z.__jstorage_meta||(z.__jstorage_meta={});z.__jstorage_meta.PubSub||(z.__jstorage_meta.PubSub=[]);z.__jstorage_meta.PubSub.unshift([+new Date,d,e]);L();N()},reInit:function(){D()}};q()}})(ajq);if("undefined"!==typeof ajq){window.evergageDisableAjqPsuedoDefinitions||(ajq.expr[":"].containsExact=ajq.expr.createPseudo(function(h){return function(q){return ajq.trim(ajq(q).text())===h}}),ajq.expr[":"].textMatch=ajq.expr.createPseudo(function(h){return function(q){return ajq.trim(q.textContent)===
h}}),ajq.expr[":"].hasOnlyTextChild=ajq.expr.createPseudo(function(h){return function(h){return 1===h.childNodes.length&&3===h.childNodes[0].nodeType}}));ajq.isTrimNative=!1;ajq.checkTrimNative=function(){ajq.isTrimNative=/^\s*function[^{]+\{\s*\[native code\]\s*\}\s*$/.test(String.prototype.trim)};ajq.trim=function(h){return null==h?"":void 0!==ajq&&!0===ajq.isTrimNative?h.trim():h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};ajq.log=evergageLog;var _aaq=window._aaq||[],_aaqi=window._aaqi||
[];window._aaq=_aaq;window._aaqi=_aaqi}var Evergage=function(){function h(){if(y.useSiteConfig&&!Na(G)&&!Te){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config already available.");Mf();if(y.hideContentSections&&ajq.isArray(y.hideContentSectionsList)&&P(y.hideContentSectionsMillis)&&0<y.hideContentSectionsMillis){var l=y.hideContentSectionsList;l.push(y.hideContentSectionsMillis);Evergage.hideSections.apply(null,l)}y.hidePagesForRedirect&&ajq.isArray(y.hidePageBeforeRedirectList)&&P(y.hidePagesForRedirectMillis)&&
0<y.hidePagesForRedirectMillis&&(l=y.hidePageBeforeRedirectList,l.push(y.hidePagesForRedirectMillis),Evergage.hidePages.apply(null,l));Te=!0}}function q(l,a){try{if(!0===Zf){var b=new CustomEvent("sendToEvergageSideBarTools",{detail:{eventType:l,eventData:JSON.parse(JSON.stringify(a))}});document.dispatchEvent(b)}}catch(c){K(c,l+"_ForDevTools"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Error sending ["+l+"] to sidebar tools.")}}function D(l,a){if("function"==typeof window.CustomEvent&&"function"==
typeof document.dispatchEvent&&!0===ajq.browser.chrome)try{var b=new CustomEvent("pushEventParamsForProfiler",{detail:{randomParam:l,params:a}});document.dispatchEvent(b)}catch(c){K(c,"pushEventParamsForProfiler")}}function f(l){try{if(ajq.log.shouldLog("DEBUG")&&console.log('Evergage: userAgent\x3d"'+(window.evergageTestUserAgent||window.navigator.userAgent)+'"'),nh.test(window.evergageTestUserAgent||window.navigator.userAgent))n("Evergage: Beacon detected robot user agent - initialization aborted.");
else if(ac())n("Evergage: Beacon detected page is prerendered - initialization aborted.");else if("object"!==typeof evergageJSON||"function"!==typeof evergageJSON.stringify||"function"!==typeof evergageJSON.parse)n("Evergage: Beacon cannot run within browsers lacking native JSON support. Initialization aborted.");else if(0<ajq("html[evergageVisualEditorLoading]").length)n("Evergage: The Visual Editor will be loaded for this page, so not running the existing Evergage beacon.");else{y.runningInMobileApp&&
ajq.log.shouldLog("DEBUG")&&console.log("Evergage: phonegap integration detected. Flicker defense, URL action mapping, field capturing and click tracking will be disabled.");!0===l&&(pc=!0,R.hasBeenFired=!1,Ue=Ib=Qd=R.canBeFiredYet=!1,vb=qc=Ya=null,dd=0,ed=na=Ja=-1,Te=!1);Ve=[];We=[];Xe();ag();h();if(H()){ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(Zf=!0,q("beaconInitialization",{account:la,dataset:za,beaconVersion:13,trackerUrl:sa,cdnHost:rc}));
ajq.log.shouldLog("INFO")&&console.log("Evergage: Initializing Beacon v13 (accountKey\x3d"+la+", datasetId\x3d"+za+", url\x3d"+sa+")...");Tc();da();Rd.isInitialized()||null===y.googleAnalyticsIntegrationConfig||Rd.init(y.googleAnalyticsIntegrationConfig);va();bg(l);for(var a in R.waitingOn)R.waitingOn.hasOwnProperty(a)&&(R.waitingOn[a]=!1);R.actionName=null;!0===y.siteConfigExecBeforePageReady&&Ae();ajq(document).ready(Z)}cg=!0}}catch(b){K(b,"init("+l+")")}}function Z(){try{dg=!0,!0!==y.siteConfigExecBeforePageReady&&
Ae(),gh(),N()}catch(l){K(l,"evergagePageReadyWrapper")}}function N(){try{!0!==eb&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Ensuring that we reshow the personalized sections at page ready."),!0===Ib&&0<wb.length&&(C(Jb,function(l,a){var b=a.bundle;clearTimeout(a.timeout);delete Jb[l];Ua(b)}),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Reshowing personalized sections due to page ready timer."),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=
-1,xb=!1,Ub()),sc=!0)}catch(l){K(l,"reshowPersonalizedSectionsAfterReady")}}function v(){na=0;var l=(new Date).getTime();if(-1===Ja||l-Ja>=y.minimumActivityTimeToRegister)Ja=l;yb=setTimeout(function(){L(!0)},y.timeOnPageTimer);ajq(window).unbind("blur.evergage",F);ajq(window).bind("blur.evergage",F);ajq(window).unbind("focus.evergage",z);ajq(window).bind("focus.evergage",z);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",ca);ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",
ca)}function L(l,a){var b=(new Date).getTime();-1!==Ja&&(b-=Ja,y.timeOnPageTimer<b?Ba():(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: sendActivityPingRequest",na),na+=b,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: sendActivityPingRequest",na),-1!==Za&&clearTimeout(Za),Za=setTimeout(Ba,y.timeOnPageTimer-b)));0<na&&(na=Math.min(na,y.timeOnPageTimer),(!0!==a||2E3<=na)&&ud(na),na=0);0>na&&(na=0);l&&(-1!==yb&&clearTimeout(yb),yb=setTimeout(function(){L(!0)},
y.timeOnPageTimer))}function Ba(){try{-1!==Za&&(clearTimeout(Za),Za=-1);var l=(new Date).getTime(),a=0;-1!==Ja&&(a=l-Ja);-1!==ed&&(l-=ed,l<a||0===a)&&(a=l);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: setUserInactive",na);na+=a;ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: setUserInactive",na);Ja=-1}catch(b){K(b,"setUserInactive")}}function ia(){try{ajq(window).unbind("scroll.evergage resize.evergage",ka),Sd=-1,Td=(new Date).getTime(),C(Vb,function(l,
a){var b=!1;if(r(a)&&"number"===typeof a.length&&0<=a.length){for(var c=0;c<a.length;c++){var d=a[c],e=d.bundle;if(bc(d.selector)||e.userGroup===Ka.Default&&bc(Hd(e.id))){Rb(e);ajq.log.shouldLog("INFO")&&console.log("Evergage: sending impression for message "+pa(e)+" because it is now in the viewport.");b=!0;break}}b&&delete Vb[l]}}),Na(Vb)?Td=0:ajq(window).bind("scroll.evergage resize.evergage",ka)}catch(l){K(l,"maybeTrackImpressionsForOutOfViewCampaigns")}}function ka(){try{var l=(new Date).getTime();
50>l-Td?(ajq(window).unbind("scroll.evergage resize.evergage",ka),Td=l,Sd=setTimeout(ia,50)):ia()}catch(a){K(a,"listenForImpressionsForOutOfViewCampaigns")}}function ca(l){try{-1!==Za&&(clearTimeout(Za),Za=-1);var a=(new Date).getTime();if(-1===Ja||a-Ja>=y.minimumActivityTimeToRegister)-1!==Ja&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage before: activityRegistered",na),na+=a-Math.max(Ja,ed),ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage after: activityRegistered",
na)),Ja=a}catch(b){K(b,"activityRegistered")}}function F(l){try{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: window blurred"),Ba()}catch(a){K(a,"windowBlurFunction")}}function z(l){try{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: window focused"),ca()}catch(a){K(a,"windowBlurFunction")}}function da(){if(y.testModeEnabledForPageLoad)La=y.testModeEnabledForPageLoad;else if(0<ajq("body.evergageVisualEditorTestMode").length)La=!0;else{var l=ya(X.sessionSettings.ids.TestMessages),a=window.decodeURIComponent(window.location.search.substring(1)),
b=window.location.hash.substring(1),c=/^.*evergageTestMessages=([\w,]*).*$/;(La=0<=a.indexOf("evergageTestMessages\x3dfalse")||0<=b.indexOf("evergageTestMessages\x3dfalse")?null:a.match(c)?a.replace(c,"$1"):b.match(c)?b.replace(c,"$1"):null!=l?l:!1)?ma(X.sessionSettings.ids.TestMessages,La):ajq.evgjStorage.deleteKey(ra(X.sessionSettings.ids.TestMessages));La&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Test messages are enabled: "+La)}}function n(l){fd();ajq.log.shouldLog("WARN")&&console.log(l);
_aaq=[]}function e(){void 0!==window.Evergage&&(fd(),Ud(),Eb(),eg(),clearTimeout(Vd),Vd=-1,window.Evergage=window.ajq=window._aaq=window._aaqi=window.Apptegic=window.ApptegicTwoWay=window.evergageJSON=window.evergageLog=window.evergageBeforeSiteConfigExecution=window.evergageSiteConfig=window.evergageSiteWideStyles=void 0,window.evergageBeforeInit=void 0,eb=!0)}function d(){var l=!1;ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(Uc(),l="true"===Evergage.getCustomField("_debug"));
return l}function H(){if(!la)return ajq.log.shouldLog("WARN")&&console.log("Evergage account key has not been set - initialization delayed."),!1;if(!za)return ajq.log.shouldLog("WARN")&&console.log("Evergage dataset ID has not been set - initialization delayed."),!1;var l="https:"==window.location.protocol||d()?"https":"http";sa||(sa="localtest"===la?"https://localtest.evergage.com:8443":l+"://"+la+".evergage.com");rc||(rc=-1!==sa.indexOf("eng1")||-1!==sa.indexOf("eng2")||-1!==sa.indexOf("eng3")||
-1!==sa.indexOf("localtest")?sa:l+"://cdn.evergage.com");return!0}function O(){cg&&f()}function p(l){return ua(l)&&null!==l}function V(l){return!p(l)||""===l}function ua(l){return"undefined"!==typeof l}function Q(l){return"function"===typeof l}function r(l){return"object"===typeof l}function B(l){return"string"===typeof l||l instanceof String}function P(l){return!isNaN(l-0)&&null!==l}function Na(l){return r(l)&&ajq.isEmptyObject(l)}function I(l){return(ajq(l).prop("nodeName")||ajq(l).prop("tagName")).toLowerCase()}
function W(l,a){return l&&a&&I(l)===a.toLowerCase()}function E(l){l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(l);for(var a={},b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c=0;c<b.length;c++)a[b[c]]=l[c]||"";a.queryKey={};a.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(l,
b,c){b&&(a.queryKey[b]=c)});return a}function m(l){var a=function(l,a){return l<<a|l>>>32-a},b=function(l){for(var a="",b=7;0<=b;b--)a+=(l>>>4*b&15).toString(16);return a},c=Array(80),d=1732584193,e=4023233417,f=2562383102,g=271733878,h=3285377520,k,m,p,n,q,r;l=unescape(window.encodeURIComponent(l));k=l.length;for(var u=[],t=0;t<k-3;t+=4)m=l.charCodeAt(t)<<24|l.charCodeAt(t+1)<<16|l.charCodeAt(t+2)<<8|l.charCodeAt(t+3),u.push(m);switch(k%4){case 0:p=2147483648;break;case 1:p=l.charCodeAt(k-1)<<24|
8388608;break;case 2:p=l.charCodeAt(k-2)<<24|l.charCodeAt(k-1)<<16|32768;break;case 3:p=l.charCodeAt(k-3)<<24|l.charCodeAt(k-2)<<16|l.charCodeAt(k-1)<<8|128}for(u.push(p);14!=u.length%16;)u.push(0);u.push(k>>>29);u.push(k<<3&4294967295);for(l=0;l<u.length;l+=16){for(t=0;16>t;t++)c[t]=u[l+t];for(t=16;79>=t;t++)c[t]=a(c[t-3]^c[t-8]^c[t-14]^c[t-16],1);k=d;m=e;p=f;n=g;q=h;for(t=0;19>=t;t++)r=a(k,5)+(m&p|~m&n)+q+c[t]+1518500249&4294967295,q=n,n=p,p=a(m,30),m=k,k=r;for(t=20;39>=t;t++)r=a(k,5)+(m^p^n)+q+
c[t]+1859775393&4294967295,q=n,n=p,p=a(m,30),m=k,k=r;for(t=40;59>=t;t++)r=a(k,5)+(m&p|m&n|p&n)+q+c[t]+2400959708&4294967295,q=n,n=p,p=a(m,30),m=k,k=r;for(t=60;79>=t;t++)r=a(k,5)+(m^p^n)+q+c[t]+3395469782&4294967295,q=n,n=p,p=a(m,30),m=k,k=r;d=d+k&4294967295;e=e+m&4294967295;f=f+p&4294967295;g=g+n&4294967295;h=h+q&4294967295}r=b(d)+b(e)+b(f)+b(g)+b(h);return r.toLowerCase()}function ea(l,a,b,c){if(l.addEventListener)return l.addEventListener(a,b,c),!0;if(l.attachEvent)return l.attachEvent("on"+a,b);
l["on"+a]=b}function bb(){if(Wd&&!0===Ye){Date.prototype.getTimeEvergageAlias=Date.prototype.getTime;var l;do l=new Date;while(l.getTimeEvergageAlias()<Wd)}S()}function S(){if(0<na){var l=Qb(na);if(null!=l){var a=X.storedRequests.ids.StoredPingRequest,l={params:l,currentPageUrl:qa()};ma(a,l)}}}function C(l,a){for(var b in l)l.hasOwnProperty(b)&&"function"!==typeof l[b]&&a(b,l[b])}function J(l,a){var b=E(l).query,c=new RegExp("(?:^|\x26)"+a+"\x3d([^\x26]*)");return(b=b?c.exec(b):0)?window.decodeURIComponent(b[1]):
""}function u(l,a,b){x(function(){fa(l,a,b)})}function T(l){return x(function(){return xa(l)})}function x(l){ajq.cookie.json=!0;try{return l()}finally{ajq.cookie.json=!1}}function xa(l){if(t()){var a=ajq.cookie(l);ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+l+"] cookie:",a);return a}a=ya(l);ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+l+"] cookie from local storage:",a);return a}function t(l){if(!0===Wb&&!0!==l)return!0;if(!1===Wb&&!0!==l)return!1;l=Y(3E4);null===
l||null===l.domain||-1===l.domain.indexOf(".")?(Wb=!1,"chrome-extension:"!==window.location.protocol&&ajq.log.shouldLog("WARN")&&console.log('Evergage: Unable to store cookies due to lack of "." in the domain name ['+l.domain+"].  Falling back to the browser's LocalStorage.")):Wb=!0;return Wb}function fa(l,a,b){var c=Y(b);t()&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting ["+l+"] cookie:",a,c),ajq.cookie(l,a,c));c=ajq.cookie(l);c=!0===ajq.cookie.json?evergageJSON.stringify(c)===evergageJSON.stringify(a):
c===a;c||(Wb=!1,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Storing what would normally be a cookie into the browser's LocalStorage."),ma(l,a,b))}function aa(l){if(t()){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing ["+l+"] cookie...");var a=Y();ajq.removeCookie(l,a)}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing the LocalStorage value ["+l+"].  Normally this would be a cookie but we were unable to store cookies on this site."),ajq.evgjStorage.deleteKey(ra(l))}
function Y(l){var a={};l&&(a.expires=new Date((new Date).getTime()+l));a.path="/";if(y.cookieDomain)a.domain=y.cookieDomain;else for(a.domain=cb(gd);!Id(a.domain);)a.domain=a.domain.substring(a.domain.indexOf(".")+1,a.domain.length);!0===fg&&(a.secure=fg);return a}function cb(l){0===l.indexOf("www.")&&(l=l.substring(4,l.length));return l}function Xa(l){var a=l.length;"."===l.charAt(--a)&&(l=l.slice(0,a));"*."===l.slice(0,2)&&(l=l.slice(1));return l}function va(){if(y.doNotTrack)return aa(Ha("id")),
aa(wa("a")),aa(Ha("ses")),aa(wa("sessionSettings")),aa(Ha("sessionSettings")),aa(wa("logging")),aa(Ha("logging")),aa(wa("performanceTest")),aa(Ha("performanceTest")),aa(Ha("userId")),aa(wa("n")),C(X,function(l,a){C(a.ids,function(l,a){ajq.evgjStorage.deleteKey(ra(a))})}),!1;var l=!ya(X.session.ids.SessionTicket);ob(Oa());ma(X.session.ids.SessionTicket,"*");Nb();l||(tc=ya(X.session.ids.UserInfo),null==tc&&(tc={}),c(X.session));return l}function c(l){C(l.ids,function(a,b){ajq.evgjStorage.setTTL(ra(b),
l.timeoutMillis)})}function db(l){return y.discardHashTag?l.replace(/#.*/,""):l}function Ra(l){return Nc(l,3072)}function Ea(l){for(var a=0;a<y.hostsAlias.length;a++)if(y.hostsAlias[a]){var b=Xa(y.hostsAlias[a].toLowerCase());if(l===b)return!0;if("."===b.slice(0,1)){if(l===b.slice(1))return!0;var c=l.length-b.length;if(0<c&&l.slice(c)===b)return!0}}return!1}function Ob(l){if(y.preventSensitiveDataCapture)for(var a=0;a<l.length;a++){var b=l[a],c=b.name;"userId"!=c&&"company"!=c&&".anonId"!=c&&zd(b.value)&&
(ajq.log.shouldLog("WARN")&&console.log("Evergage: Event field ["+b.name+"] appears to contain sensitive data - excluding from event and removing from memory."),l.splice(a,1),a--,Ze(b.name))}null!=y.trafficSourceIndex&&M(l,".s",y.trafficSourceIndex);hc(l,".bv",13)}function we(l){y.doNotTrack||ac()||Xd.push(l)}function Pb(l,a,b,c,d){if(!y.doNotTrack&&!ac()){var e=(new Date).getTime();Yd(l,!0)&&(Ob(l),c?Bd(l,X.storedRequests.ids.FormSubmitRequests,"Form submit action"):b&&d?(Bd(l,X.storedRequests.ids.StoredCampaignStat,
"Campaign stat"),xe(function(){gg()},"Campaign stat")):(Zd&&!b?vd(l,a):Gb(l,b?"/msreceiver":"/jsreceiver"),Wd=e+y.trackerDelay))}}function ac(){return"prerender"===document.visibilityState&&!0!==ajq.browser.safari&&"66f824351809c77d41b28978ce8fb0dcb98fd706"!==m(la)}function zd(l){if(!l)return!1;l=B(l)?l:l.toString();l=oh.validateCreditCard(l);return!!(l.card_type&&l.luhn_valid&&l.length_valid)}function Gb(l,a){var b="undefined"!==typeof window.EvergageUnitTestingMode&&!0===window.EvergageUnitTestingMode&&
"function"===typeof window.evergageEventSentOneWay;("/er"==a||b)&&M(l,"_r",Pc());var c=ajq.param(l,!0),c=sa+a+"?"+c;b?window.evergageEventSentOneWay(c):"/er"!=a?(c=ajq.param([{name:"_r",value:Pc()}]),b=sa+a+"?"+c,b={url:b,data:l,type:Ad(b,l),dataType:"json",error:function(l,b,c){l=cc(a,l,c);K(Error(l),"sendEventOneWay");"Forbidden"==c&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins"),e())}},ajq.ajax(b)):(b=new Image(1,1),b.onload=function(){},b.src=
c)}function Ad(l,a){if(null!=y.requestMethod)return y.requestMethod;var b=1==ajq.browser.msie?2048:8192,c=0;if(ajq.isArray(a))try{for(var d=0;d<a.length;d++)c+=a[d].name.toString().length+1,c+=a[d].value.toString().length+1}catch(e){c=b+1,ajq.log.shouldLog("WARN")&&console.log("Evergage: Error estimating GET query length")}return l.length+c+document.cookie.length<b-300?"GET":"POST"}function Bd(l,a,b){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: "+b+" stored in case we do not get a response on this page.");
l={params:l,currentPageUrl:qa()};ma(a,l);ma(X.sessionSettings.ids.LastTrackerUrl,sa)}function xe(l,a){var b=$d(5);$e[b]=setTimeout(function(){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending stored request "+a+", still on the same page");l();delete $e[b]},2E3)}function Lc(l){M(l,"_ak",la);M(l,"_ds",za);for(var a=Mc(),b=0;b<a.length;b++)M(l,a[b].name,a[b].value);return l}function Qb(l){ed=(new Date).getTime();var a=Lc([]);if(!Yd(a,!0))return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not logging a ping request since the event would be invalid."),
null;if(null!=Aa&&"object"===typeof Aa&&(Aa.type==ae.Product||Aa.type==ae.Blog||Aa.type==ae.Article)){var b;if(y.trackContextualRelatedItems){b=uc(Aa,["_id","type","tags","categories"]);if(ajq.isArray(b.categories)){for(var c=[],d=0;d<b.categories.length;d++)c[d]=uc(b.categories[d],["_id","type"]);b.categories=c}if(ajq.isArray(b.tags)){c=[];for(d=0;d<b.tags.length;d++)c[d]=uc(b.tags[d],["_id","type","tagType"]);b.tags=c}}else b=uc(Aa,["_id","type"]);M(a,".item",evergageJSON.stringify(b))}null!=vb&&
M(a,"action",vb);M(a,".top",l);vc&&(l=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd"),0<l&&(M(a,".dt",l),vc=!1));wc&&(l=Evergage.getTimeSincePageInitForVariable("loadEventEnd"),0<l&&(M(a,".lt",l),wc=!1));0<hd&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed trwreceiver timing from previous event..."),M(a,".tt",hd),hd=0);0<be&&(M(a,".ttdns",be),be=0);return a}function Mc(){var l=[],a=[];Kd(a);for(var b=["userId","_persistedUserId",".anonId","_anon",".aaId"],
c=0;c<a.length;c++)-1!==ajq.inArray(a[c].name,b)&&M(l,a[c].name,a[c].value);return l}function ud(l){l=Qb(l);null!=l&&(Gb(l,"/pr"),ajq.evgjStorage.deleteKey(ra(X.storedRequests.ids.StoredPingRequest)))}function vd(l,a,b,c){hg(l);var f=Pc();D(f,l);var g=ajq.param([{name:"_r",value:f}]),g=sa+"/twreceiver?"+g;if(a&&(!0===ajq.browser.mozilla||!0===ajq.browser.safari)){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Click action stored in case we do not get a response on this page.");var h={params:l,
currentPageUrl:qa(),requestId:m(l).slice(0,4)},k=X.storedRequests.ids.DelayedClick,n=ya(k);ua(n)&&p(n)?void 0===n.length&&(n=[n],n[0].id=m(l).slice(0,4),n.push(h)):n=[];n.push(h);ma(k,n)}g={url:g,data:l,type:Ad(g,l),dataType:"json",jsonp:!1,crossDomain:!0,success:function(a){try{Ld(a,b||qa(),l,f),p(b)&&b!==qa()||!0===xb||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,xb=!1,Ub())}catch(c){K(c,"handleTwoWayBeaconSuccess"),p(b)&&b!==
qa()||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,xb=!1,Ub())}},error:function(l,a,c){p(b)&&b!==qa()||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,xb=!1,Ub());l=cc("/twreceiver",l,c);K(Error(l),"sendEventTwoWay");"Forbidden"==c&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins - removing beacon and listeners"),
e())},complete:function(){if(a||c){var l=X.storedRequests.ids.DelayedClick,b=ya(l);if(ua(b)&&p(b))if(void 0===b.length)b.currentPageUrl==qa()&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Response received - removing stored click action..."),ajq.evgjStorage.deleteKey(ra(l)));else{for(var d=!1,e=0;e<b.length;e++)b[e].currentPageUrl==qa()&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Response received - removing stored click action with id ["+b[e]+"]."),b.splice(e,1),e--,d=!0);d&&(0===
b.length?ajq.evgjStorage.deleteKey(ra(l)):ma(X.storedRequests.ids.DelayedClick,b))}}}};d()&&(g.xhrFields={withCredentials:!0});ajq.ajax(g)}function qa(){return"string"===typeof y.pageUrl&&""!==y.pageUrl?y.pageUrl:window.location.href}function Fa(){return y.pageTitle||ajq.trim(document.title).replace(/\s{2,}/g," ")}function Nc(l,a){return"string"!==typeof l||l.length<=a?l:l.substring(0,a)}function nb(l){return Nc(l,1024)}function Oc(){var l=Dd(),a=J(l,"setApptegicLoggingLevel");if(a&&null!=ajq.log.setLoggingLevel(a))return ma(X.sessionSettings.ids.LoggingLevel,
a),a;if((a=ajq.cookie(wa("logging")))&&null!=ajq.log.setLoggingLevel(a))return aa(wa("logging")),ma(X.sessionSettings.ids.LoggingLevel,a),a;if((a=J(l,"setEvergageLoggingLevel"))&&null!=ajq.log.setLoggingLevel(a))ma(X.sessionSettings.ids.LoggingLevel,a);else if(a=ya(X.sessionSettings.ids.LoggingLevel),!a||null==ajq.log.setLoggingLevel(a))return null;return a}function Dd(){var a;if(window.location==window.top.location)a=window.location.href;else{try{a=window.top.location.href}catch(b){a=null}a||(a=
document.referrer)}ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Top URL: "+a);return a}function Ed(){var a=J(qa(),"setApptegicPerformanceTestLevel");a&&null!=ajq.log.setPerformanceTestLevel(a)?ma(X.sessionSettings.ids.PerfLoggingLevel,a):(a=ajq.cookie(wa("performanceTest")))&&null!=ajq.log.setPerformanceTestLevel(a)&&(aa(wa("performanceTest")),ma(X.sessionSettings.ids.PerfLoggingLevel,a));if((a=J(qa(),"setEvergagePerformanceTestLevel"))&&null!=ajq.log.setPerformanceTestLevel(a))ma(X.sessionSettings.ids.PerfLoggingLevel,
a);else if(a=ya(X.sessionSettings.ids.PerfLoggingLevel),!a||null==ajq.log.setPerformanceTestLevel(a))return null;return a}function ra(a){return"evergage|"+la+"|"+za+"|"+a}function ya(a,b){return ajq.evgjStorage.storageAvailable()?ajq.evgjStorage.get(ra(a),b):null}function ma(a,b,c){if(ajq.evgjStorage.storageAvailable()){var d=ra(a),e=Fd(a);P(c)&&0<c&&(e=c);0<e?ajq.evgjStorage.set(d,b,{TTL:e}):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find storage timeout for ["+a+"]")}}function Fd(a){var b=
0;C(X,function(c,d){C(d.ids,function(c,e){e==a.slice(0,e.length)&&(b=d.timeoutMillis)})});return b}function K(a,b,c){try{var d=Qc(a,b,c);if(!(3<=ig)){d=Lc(d);M(d,"url",Ra(qa()));M(d,"title",nb(Fa()));hc(d,".bv",13);!0===R.hasBeenFired&&M(d,".epv","");null!=vb?M(d,"action",vb):!0!==R.hasBeenFired&&dd++;var e;if(e=!ajq.isEmptyObject(d))try{e=null!=y.sendErrorEvents?y.sendErrorEvents:"object"===typeof window.evergageSiteConfig&&"object"===typeof window.evergageSiteConfig.beaconConfig&&"boolean"===typeof window.evergageSiteConfig.beaconConfig.sendErrorEvents?
window.evergageSiteConfig.beaconConfig.sendErrorEvents:!1}catch(f){ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception trying to get the error events enablement flag when sending an error event."),e=!1}e&&"string"===typeof sa&&(Gb(d,"/er"),ig++)}}catch(f){}}function cc(a,b,c){c&&(a+=" ["+c+"]");b.responseText&&(a+=" "+b.responseText.slice(0,1E3));return a}function Pc(){return String(Math.random()).slice(2,8)}function Ga(a){if(null==a||974>=a.length)return a;var b=730.5,c=243.5;
974!=b+c&&(b+=974-(b+c));10<c?c-=5:10<b&&(b-=5);return a.substring(0,b)+" ... "+a.substring(a.length-c)}function Qc(a,b,c){var d=[];try{M(d,".em",Ga(a.message));M(d,".es",b);if(!0===ajq.browser.chrome||!0===ajq.browser.msie){if("string"===typeof a.stack){var e=a.stack.split("\n")[1],f=e.substring(e.indexOf("at ")+3),g=f.match(/(.*) \((.*):(\d+):(\d+)\)/);ajq.isArray(g)&&(M(d,".ef",Ga(g[1])),M(d,".eu",Ga(g[2])),M(d,".el",Ga(g[3])),M(d,".ec",Ga(g[4])))}!0===ajq.browser.chrome?M(d,".vt","chrome"):!0===
ajq.browser.msie&&M(d,".vt","ie")}else!0===ajq.browser.safari?(M(d,".ef",Ga(a.stack.substring(0,a.stack.indexOf("@")))),M(d,".eu",Ga(a.sourceURL)),M(d,".el",Ga(a.line)),M(d,".ec",Ga(a.column)),M(d,".vt","safari")):!0===ajq.browser.mozilla&&(M(d,".ef",Ga(a.stack.substring(0,a.stack.indexOf("@")))),M(d,".eu",Ga(a.fileName)),M(d,".el",Ga(a.lineNumber)),M(d,".ec",Ga(a.columnNumber)),M(d,".vt","firefox"));var h=parseInt(ajq.browser.version);isNaN(h)||M(d,".vn",h);!0!==c&&ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception at "+
f);return d}catch(k){return"function"===typeof window.ajq&&"function"===typeof window.ajq.log&&window.ajq.log.shouldLog("DEBUG")&&console.log("Evergage: There was an exception trying to log an exception",k,a),d}}function wa(a){""===ce&&Tc();return"_evg"+a+"_"+ce}function Ha(a){""===ce&&Tc();return"_at_"+a+"."+la+"."+za+"."+de}function Tc(){if(""===de){for(var a=gd;!Id(a);)a=a.substring(a.indexOf(".")+1,a.length);de=m((y.cookieDomain||[a])+(y.cookiePath||"/")).slice(0,4)}ce=m(la+"."+za+"."+de).slice(0,
4)}function Id(a){if(a.indexOf(".")==a.lastIndexOf("."))return!0;var b=a.substring(0,a.lastIndexOf("."));a=a.substring(a.lastIndexOf(".")+1);return!isNaN(parseInt(a))||b.indexOf(".")==b.lastIndexOf(".")&&-1!=ajq.inArray(a.toLowerCase(),ph)?!0:!1}function Nb(){!1===ta&&Uc();if(!1===U){if(null==U||!1===U)U={};var a=T(wa("n"));null!=a&&"object"===typeof a&&(null!=a.puid&&"string"===typeof a.puid&&""!==a.puid&&(U._persistedUserId=a.puid),null!=a.paid&&"string"===typeof a.paid&&""!==a.paid&&(U._persistedAccountId=
a.paid));a=ya(X.identity.ids.RelatedIdentityFields,!1);if(null!=a&&"object"===typeof a)for(var b="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" "),c=0;c<b.length;c++){var d=a[b[c]];null!=d&&"string"===typeof d&&""!==d&&(U[b[c]]=d)}a=!1;b=null==U._persistedUserId;c=null==U._persistedAccountId;for(d=0;d<id.length;d++){var e=ta[id[d]];null!=e&&(a=!0,"string"===typeof e&&""!==e&&b&&(U[id[d]]=e),delete ta[id[d]])}for(d=0;d<jd.length;d++)e=ta[jd[d]],null!=e&&(a=!0,
"string"===typeof e&&""!==e&&c&&(U[jd[d]]=e),delete ta[jd[d]]);a&&Cb();fb()}}function Uc(){var a=X.session.ids.CustomFields,b=T(Ha("userId")),c=ya(a,!1);"object"===typeof b&&("object"!==typeof c&&(c={}),ajq.extend(c,b),ma(a,c),aa(Ha("userId")));ta=(a=c)?a:{}}function Jd(){ta={};Cb();xc={};Xb={}}function Cb(){!1!==ta&&(ta?ajq.each(ta,function(a,b){ta.hasOwnProperty(a)&&(ua(b)&&p(b)||delete ta[a])}):ta={},ajq.isEmptyObject(ta)?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing visit scope fields from localStorage since all values are gone."),
ajq.evgjStorage.deleteKey(ra(X.session.ids.CustomFields))):(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Saving visit scope fields to localStorage."),ma(X.session.ids.CustomFields,ta)))}function Vc(){return y.doNotStoreCookiesRequireProvidedAnonId||window.evergageSiteConfig&&window.evergageSiteConfig&&window.evergageSiteConfig.beaconConfig&&window.evergageSiteConfig.beaconConfig.doNotStoreCookiesRequireProvidedAnonId}function ob(a){if(Vc())ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor ID, but not into a cookie: "+
a.uuid),ee=a.uuid;else{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor cookie: "+a.toString());var b=wa("a");a=a.uuid+"."+a.affinityId;ajq.log.shouldLog("TRACE")&&console.log("Evergage: Visitor cookie value is ["+a+"].");fa(b,a,X.anonymousId.timeoutMillis)}}function Oa(){if(Vc())return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loading visitor ID, but not from cookie: "+ee),{uuid:ee,affinityId:""};var a,b=xa(Ha("id"));null!=b?(a=Wc(b),null!=a&&ob(a),aa(Ha("id"))):b=xa(wa("a"));
(a=Wc(b))||(a={uuid:He(),affinityId:""});a.toString=function(){return'Visitor{uuid\x3d"'+this.uuid+'", affinityId\x3d"'+this.affinityId+'"}'};return a}function Wc(a){var b={};if(a)try{var c=a?a.split("."):[];b.uuid=c[0];b.affinityId=8<=c.length?c[7]:2===c.length?c[1]:""}catch(d){K(d,"loadVisitorCookie"),b=null}else ajq.log.shouldLog("INFO")&&console.log("Evergage: No visitor cookie found."),b=null;return b}function He(){var a=(navigator.userAgent||"")+(navigator.platform||"")+evergageJSON.stringify(qh)+
(new Date).getTime()+Math.random();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Generating visitor ID from SHA1 hash of string ["+a+"]...");return m(a).slice(0,16)}function Hb(a,b){var c=[];M(c,"_ak",la);M(c,"_ds",za);Kd(c);wd(c,a);pb(c,b);return c}function Kd(a){var b=y.referrerUrl||rh;B(b)&&""!=b&&M(a,"urlref",Ra(db(b)));pb(a,y.customFields);b=!1;pb(a,Xb);pb(a,xc);for(var c=0;c<a.length;c++)"userId"==a[c].name&&(b=!0);pb(a,ta);pb(a,U);p(U.userId)?(M(a,"_reqPersistedEntityIds",""),b=!0):U._persistedUserId&&
(b=!0);!0===y.trackAnonymous&&(c=Oa(),M(a,".anonId",c.uuid),c.affinityId&&M(a,".aaId",c.affinityId),b||M(a,"_anon",!0));p(fe)&&M(a,".pageLocale",fe)}function Ia(a,b,c,d){if(sh.canTrackAction(a)){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending action event (action\x3d"+a+", isClick\x3d"+!!c+", isFormSubmit\x3d"+!!d+")...");var e=[];a&&M(e,"action",a);c||d||(M(e,"url",Ra(qa())),M(e,"title",nb(Fa())));var f;a:if(f=Dd(),(f=J(f,"setEvergageClientIp"))&&Evergage.setClientIp(f))ma(X.sessionSettings.ids.ClientIp,
f);else if(f=ya(X.sessionSettings.ids.ClientIp),!f||!Evergage.setClientIp(f)){f=null;break a}f&&M(e,"clientIp",f);va();Gd();b=Hb(e,b);La&&M(b,".testMessages",La);0<dd&&M(b,".ple",dd);for(e=0;e<Yb.length;e++)try{Yb[e](a,b,c,d)}catch(g){K(g,"actionListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Action callback with error: "+Yb[e])}Rd.handleActionEvent(a,b,c,d);q("actionEvent",{actionName:a,params:b,isClickAction:c,isFormSubmitAction:d});Xb={};Pb(b,c,null,d)}}function M(a,b,c){b&&
(ua(c)&&p(c)||(c=""),a.push({name:b,value:c}))}function wd(a,b){b&&ajq.each(b,function(b,c){c.hasOwnProperty("name")&&c.hasOwnProperty("value")&&M(a,c.name,c.value)})}function hc(a,b,c){if(!V(b)&&ua(c)&&p(c)){var d=!1;ajq.each(a,function(a,l){if(l.name===b)return l.value=c,d=!0,!1});d||a.push({name:b,value:c})}}function pb(a,b){b&&ajq.each(b,function(c,d){b.hasOwnProperty(c)&&"_userIdHashSalt"!==c&&"_userIdHash"!==c&&"_accountIdHash"!==c&&"_accountIdHashSalt"!==c&&M(a,c,d)})}function Xc(a){if(a){var b=
{};ajq.each(a,function(a,l){l.hasOwnProperty("name")&&l.hasOwnProperty("value")&&(b[l.name]=l.value)});return b}}function Ca(a,b,c){var d=[];M(d,b,db(a));Gd();a=Hb(d,c);Xb={};Pb(a);K(Error("logLinkCalled"),"logLinkCalled");ajq.log.shouldLog("WARN")&&console.log("Evergage: This API is deprecated and will be removed in a future release.")}function Yc(a){if(a.delayImpressionUntilInViewport&&"page"==a.target.renderType||"callout"==a.target.renderType)if(!V(a.target.originalTargetSelector)&&bc(a.target.originalTargetSelector)||
bc(a.target.target)||a.userGroup===Ka.Default&&bc(Hd(a.id)))Rb(a);else{var b=Na(Vb);null==Vb[a.experienceId]&&(Vb[a.experienceId]=[]);for(var c=Vb[a.experienceId],d=!1,e=0;e<c.length;e++)if(c[e].bundle.id===a.id){d=!0;break}d||(c.push({selector:V(a.target.originalTargetSelector)?a.target.target:a.target.originalTargetSelector,bundle:a}),b&&(ajq(window).unbind("scroll.evergage resize.evergage",ka),ajq(window).bind("scroll.evergage resize.evergage",ka)))}else Rb(a)}function Rb(a){if(!a.previewMode&&
!a.impressionTracked){var b=[];if(!gb[a.experienceId]){var c=Ma(a,hb.Impression);b.push(c);gb[a.experienceId]=!0}c=Sb(a,hb.Impression);b.push(c);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for "+pa(a)+"...",b);qb(a,b);a.impressionTracked=!0}}function oa(a,b,c){if(!a.previewMode){var d=Ma(a,hb.Clickthrough,b);c=Sb(a,hb.Clickthrough,c);d=[d,c];ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for "+pa(a)+"...",d);c=qb;b?(b=E(b).host,b=cb(window.location.hostname)===
cb(b)):b=!1;c(a,d,null,b)}}function kb(a){if(!a.previewMode){var b=Zc(ge.Experience,a.experienceId,hb.Clickthrough);a.userGroup==Ka.Control&&(b[Va.UserGroup]=Ka.Control);b=[b];ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for experience "+af(a)+"...",b);qb(a,b)}}function Ma(a,b,c){b=Zc(ge.Experience,a.experienceId,b);a.userGroup==Ka.Control&&(b[Va.UserGroup]=Ka.Control);c&&(b[Va.ClickthroughUrl]=c);return b}function Sb(a,b,c){b=Zc(ge.Message,a.id,b);b[Va.ExperienceId]=a.experienceId;
a.userGroup==Ka.Control&&(b[Va.UserGroup]=Ka.Control);a.promotedItemKeys&&(b[Va.PromotedItemKeys]=a.promotedItemKeys);if(c&&0<ajq(c).length){var d=ajq(c).closest("[data-evg-item-id]");if(0<d.length){var e=d.attr("data-evg-item-id"),f=d.attr("data-evg-item-type");a=d.attr("data-evg-item-tagType");var g;ajq(c).closest("[class~\x3d'evg-searchItemLink']")&&(g=d.attr("data-evg-item-term")||ajq("#evg-searchSuggestions").find(".selected").text());"string"===typeof e&&0<e.length&&"string"===typeof f&&0<f.length&&
(c={_id:e,type:f},"string"===typeof a&&0<a.length&&(c.tagType=a),"string"===typeof g&&0<g.length&&(b.term=g),b[Va.PromotedItemKeys]=[c])}}return b}function Zc(a,b,c){var d={};d[Va.ComponentType]=a;d[Va.ComponentId]=b;d[Va.StatType]=c;return d}function qb(a,b,c,d){ajq.each(b,function(b,c){if(c.type===ge.Experience){for(var d=0;d<Zb.length;d++)try{Zb[d](c.id,c.stat,ajq.extend(!0,{},a))}catch(e){K(e,"experienceListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Experience callback with error: "+
Zb[d])}Rd.handleCampaignEvent(c.id,c.stat,ajq.extend(!0,{},a));q("experienceEvent",{id:c.id,statType:c.stat,message:a})}});if(y.disableCampaignStatTracking)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign stat tracking is disabled. Ignoring attempt to send msreceiver.");else{var e=[{name:".cStat",value:evergageJSON.stringify(b)}];bf?(we(b),cf=c):(b=Hb(e,c),Pb(b,!1,!0,!1,d))}}function $c(a,b){var c="(^| )(apptegic[_-]"+b;if(a)for(var d=0;d<a.length;d++)c+="|"+a[d];return new RegExp(c+")( |$)")}
function xd(a){for(var b,c;(b=a.parentNode)&&"A"!==(c=a.tagName)&&"AREA"!==c;)a=b;if(p(a.href)&&(b=a.hostname||E(a.href).host,c=b.toLowerCase(),b=a.href.replace(b,c),!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i.test(b))){a=a.className;if(Ea(c)){c=$c(y.downloadClasses,"download");var d=$c(y.linkClasses,"link"),e=new RegExp("\\.("+y.downloadExtensions+")([?\x26#]|$)","i");a=d.test(a)?"link":c.test(a)||e.test(b)?"download":0}else a="link";a&&Ca(b,a)}}function Db(a){a=a||window.event;
var b=a.which||a.button,c=a.target||a.srcElement;"click"===a.type?c&&xd(c):"mousedown"===a.type?1!==b&&2!==b||!c?he=ie=null:(he=b,ie=c):"mouseup"===a.type&&(b===he&&c===ie&&xd(c),he=ie=null)}function ic(a){var b="https://"+la+".evergage.com:8443";return("https:"==window.location.protocol?"https":"http")+"://"+la+".evergage.com"!==sa&&b!==sa?(a?"\x26":"?")+"_ak\x3d"+la:""}function Kc(){if("undefined"!==typeof Evergage&&!kd){df=!0;var a=[],b=null,b=rc+"/beacon/"+la+"/"+za+"/css/evergage.min.css",c=
!1,d=ic(c);""!==d&&(b+=d,c=!0);b+=(c?"\x26":"?")+".bv\x3d13";p(yc)&&(b+="\x26.tv\x3d"+yc);a.push(b);ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","evergageThemesDiv").appendTo("body");"undefined"!==typeof Evergage&&Evergage&&"undefined"!==typeof Evergage.cssLazyLoader?(a=Evergage.cssLazyLoader(a,function(){!0!==eb&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Done loading CSS styleshees."),kd=!0,kc())}),ajq.merge(je,a)):(ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find the css lazy loader.  Styles and callout arrows for messages may have issues."),
ajq.each(a,function(a,l){ajq("\x3clink/\x3e",{rel:"stylesheet",type:"text/css",href:l}).appendTo(ajq("head"))}),kd=!0,kc())}}function Ld(a,b,c,d){if(!0!==eb){ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Response Handled");if(a){if(null!=th(c,".pv"))try{if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries){var e=ad(window.performance.getEntries(),d);if(e){var f=Math.round(e.duration);ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: twreceiver Network Load Time"+
f);0<f&&(hd=f);var g=Math.round(e.domainLookupEnd-e.domainLookupStart);0<g&&(be=g)}}Evergage.loadTimeValuesReadyToSend()?ef():Pf()}catch(h){}c=a.campaignResponses||[];ajq.log.shouldLog("TRACE")&&console.log("Evergage: Received event response containing "+c.length+" campaign(s).",a);for(c=0;c<zc.length;c++)try{zc[c](a)}catch(h){K(h,"campaignResponseListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign Response callback with error: "+zc[c])}q("campaignResponseEvent",{response:a});
1==a.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Missing Encrypted User Id Parameter"):2==a.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Invalid Encrypted User Id Parameter"):3==a.errorCode&&ajq.log.shouldLog("WARN")&&console.log("Evergage: Busy Signal Received.  No Messages Returned");c=a.themeVersion;p(yc)?p(c)&&c>yc&&(yc=c):yc=c;if(a.persistedUserId){if(c=a.persistedUserId.entityId)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted user ID: "+c),ff("_persistedUserId",
c);if(c=a.persistedUserId.accountId)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted account ID: "+c),ff("_persistedAccountId",c)}a.anonAffinityId&&(c=Oa(),d=!1,a.anonAffinityId&&c.affinityId!=a.anonAffinityId&&(c.affinityId=a.anonAffinityId,d=!0,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Your anonymous user ID has been locked to node "+a.anonAffinityId+".")),d&&ob(c));if(!0===G.editModeVisualEditor)return;!0!==jg&&(a=a.campaignResponses,0===window.location.href.indexOf("chrome-extension://")&&
"function"===typeof storeMessageResponse?storeMessageResponse(a):Jc(a,b))}ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Response Handled")}}function ad(a,b){if(b)for(var c="_r\x3d"+b,d=a.length-1;0<=d;d--){var e=a[d];if(8192>e.name.length&&0<=e.name.indexOf("/twreceiver")&&0<=e.name.indexOf(c))return e}}function jb(a){a?(tc=a,ma(X.session.ids.UserInfo,tc)):ajq.log.shouldLog("WARN")&&console.log("Evergage: Received empty userInfo in response.")}function Jc(a,b,c){!0===ajq.evgjStorage.get("isEvergageVisualEditorEnabledForTab")?
Eb():b!=qa()?ajq.log.shouldLog("INFO")&&console.log("Evergage: Received a message response for a previous page - ignoring."):(pc&&(Oe(a),pc=!1),p(a)&&0<a.length?Ie(a,c):!0!==sc&&(Ib=!0))}function Ie(a,b){var c=Me(a);if(null!=c)if(Je(c.url)){if(Ne(c),"Control"!=c.userGroup)return}else K(Error("Redirect loop detected in campaign ["+(c.campaignResponse?c.campaignResponse.campaignId:"")+"]."),"handleEachCampaignComponentAppropriately");bf=!0;g(a);if(0===a.length)!0!==sc&&(Ib=!0),yd();else{var c=Ke(a),
d=sb(a);ld=ajq.extend(ld||{},Pe(d));Md(c);df||!0===b?(kd||!0===b)&&kc():(xb=!0,Kc());setTimeout(function(){yd()},100)}}function Je(a){if(!a)return!0;var b=document.createElement("a");b.href=a;return!(b.hostname==document.location.hostname&&b.pathname==document.location.pathname&&b.hash==document.location.hash)}function yd(){bf=!1;if(0<Xd.length){var a=(new Date).getTime(),b=[{name:".cStat",value:evergageJSON.stringify(Xd)}],b=Hb(b,cf);if(!Yd(b,!0))return;Ob(b);Gb(b,"/msreceiver");Wd=a+y.trackerDelay}Xd=
[];cf={}}function Md(a){a=Le(a);0<a.length&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing "+a.length+" matching page changes..."),ajq.each(a,function(a,l){a:if(ke){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of page change ["+l.id+":"+l.cssSelector+"] for campaign ["+l.campaignId+"], experience ["+l.experienceId+"] because personalization did not occur within the allotted time "+y.hideContentSectionsMillis+".");q("pageChangeExecution",{info:"timedOut",pageChange:l});
var b=(new Date).getTime()-Ac;-1===Ac&&(b=-1);K(Error("personalizationTimedOutPageChange "+l.id+":"+l.experienceId+":"+l.campaignId+", "+b),"personalizationTimedOutPageChange")}else{try{if("Control"!=l.userGroup){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing page change for campaign ["+l.campaignId+"], experience ["+l.experienceId+'] (selector\x3d"'+l.cssSelector+'")...');var b=l.changeScript,c=document.createElement("script");c.text=b;document.body.appendChild(c);ajq(c).remove();q("pageChangeExecution",
{info:"success",pageChange:l})}rb(l)}catch(d){K(d,"executePageChange");ajq.log.shouldLog("WARN")&&console.log("Evergage: Error in page change script for campaign ["+l.campaignId+"], experience ["+l.experienceId+'] (selector\x3d"'+l.cssSelector+'"): '+d);q("pageChangeExecution",{info:"scriptEvalError",pageChange:l});break a}l.previewMode||gb[l.experienceId]||(b=Ma(l,hb.Impression),l.userGroup==Ka.Control&&(b[Va.UserGroup]=Ka.Control),b=[b],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for "+
("pageChange{id\x3d"+l.id+', experience\x3d"'+(l.experienceName||"")+'", campaign\x3d"'+(l.campaignName||"")+'"}')+"...",b),qb(l,b),gb[l.experienceId]=!0)}}))}function Ke(a){var b=[];ajq.each(a,function(a,l){ajq.each(l.pageChanges,function(a,c){c.campaignId=l.campaignId;c.campaignName=l.campaignName;c.experienceId=l.experienceId;c.experienceName=l.experienceName;c.userGroup=l.userGroup;c.rulesByType=jc(c.rules);b.push(c)})});return b}function Le(a){return ajq.grep(a,function(a){if(a.changeScript){var l=
ajq(a.cssSelector),b=a.rulesByType.PageCssSelector;if(b&&!ve(a,b))return!1;0===l.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping non-matching page change for campaign ["+a.campaignId+"], experience ["+a.experienceId+'] (selector\x3d"'+a.cssSelector+'")...');return 0<l.length}})}function rb(a){ajq(a.cssSelector).find("a").andSelf().filter("a").each(function(b,c){ajq(c).off("click.evergagePageChangeClickthrough");ajq(c).on("click.evergagePageChangeClickthrough",function(b){try{oa(a,
c.href,b.target)}catch(d){K(d,"trackClickthrough")}});kg.push(c)})}function sb(a){var b=[],c=0===window.location.href.indexOf("chrome-extension://");ajq.each(a,function(a,l){ajq.each(l.messages,function(a,d){d.campaignId=l.campaignId;d.campaignName=l.campaignName;d.experienceId=l.experienceId;d.experienceName=l.experienceName;d.userGroup=l.userGroup;d.rulesByType=jc(d.rules);delete d.rules;d.isVisualEditorToolbarMessage=c;b.push(d)})});return b}function Me(a){for(var b=0;b<a.length;b++)if("Redirect"==
a[b].displayMode)return{url:a[b].redirectUrl,saveParameters:a[b].saveParameters,hidePageBeforeRedirect:a[b].hidePageBeforeRedirect,userGroup:a[b].userGroup,campaignResponse:a[b]};return null}function Ne(a){if("Control"!=a.userGroup){if(La&&"true"!==La&&!0!==La&&(La=La.replace(a.campaignResponse.experienceId,""),ma(X.sessionSettings.ids.TestMessages,La)),a.url){ajq.log.shouldLog("INFO")&&console.log("Evergage: Redirecting page...");if(a.saveParameters){var b=window.location,c=a.url,d;var e=window.location.search,
f=a.campaignResponse.experienceId;d=window.decodeURIComponent(e.substring(1));var g=/^.*evergageTestMessages=([\w,]*).*$/;d.match(g)?(e=d.replace(g,"$1"),f=e.replace(f,""),d="?"+d.replace(e,f)):d=e;b.href=c+d}else window.location.href=a.url;lg=!0}}else gf&&a.hidePageBeforeRedirect&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page was hidden for a redirect campaign and a control impression occurred. Reshowing page."),Ud());a=a.campaignResponse;a.previewMode||gb[a.experienceId]||(b=Ma(a,hb.Impression),
a.userGroup==Ka.Control&&(b[Va.UserGroup]=Ka.Control),b=[b],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for redirect experience "+af(a)+"...",b),qb(a,b),gb[a.experienceId]=!0)}function jc(a){var b={};ajq.each(a,function(a,l){var c=l["@class"];l.type=c.substring(c.lastIndexOf(".")+1).replace(/CampaignRule$/,"");b[l.type]=l});return b}function Oe(a){null==a&&(a=[]);ajq(".evergage-qtip").each(function(b,c){if(!ajq(c).hasClass("WidgetsCss-thumbnailMessage")){var d=ajq(this).qtip("api");
if(p(d)){for(var e=!1,f=0;f<a.length;f++)for(var g=a[f],h=0;h<g.messages.length;h++)if("amb"+g.messages[h].id===d.options.id){e=!0;break}e||(e=d.options.bundle||{},e.previewMode||(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Closing message ["+e.id+"] that no longer matches for the new hash page..."),Ta(d.options.id)))}}});ajq.each(Da,function(a,l){0===ajq("#evergage-tooltip-amb"+l).size()&&delete Da[a]});ajq.each(Wa,function(a,l){void 0===l?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Message "+
a+" was probably dismissed - will not attempt to clear interval."):clearInterval(l)});lc();Wa={}}function kc(){try{if(ajq.each(ld,function(a,b){if(0!=b.length){var c=Qe(a,b);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Displaying or enqueuing "+c.length+" message(s) for target ["+a+"]...");ajq.each(c,function(a,l){try{if(ke&&l.hideTargetContentBeforeRender){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of message ["+l.id+":"+l.target.target+"] because personalization did not occur within the allotted time "+
y.hideContentSectionsMillis+".");var b=(new Date).getTime()-Ac;-1===Ac&&(b=-1);K(Error("personalizationTimedOutMessage, "+l.id+":"+l.experienceId+":"+l.campaignId+", "+b),"personalizationTimedOutMessage")}else{var c=l.rulesByType.PageDelay;if(c&&!isNaN(c.pageDelayMillis)&&1E3<c.pageDelayMillis){var d=setTimeout(function(){Ua(l)},c.pageDelayMillis);Bc.push(d)}else!0!==Ib&&!0!==sc&&(l.shouldDelayReshowPersonalizedSectionsForMessage=!0),Ua(l)}}catch(e){K(e,"displaySingleMessageOnceCSSIsLoaded"),ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Unable to display message "+pa(l)+": "+e)}})}}),ld={},!0!==sc&&(Ib=!0),0===wb.length||!0===sc)clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,xb=!1,Ub(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location.")}catch(a){K(a,"displayMessagesOnceCSSIsLoaded"),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=
-1,xb=!1,Ub(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location.")}}function Pe(a){var b={};ajq.each(a,function(a,l){var c,d=l.target.locationId;b.hasOwnProperty(d)?c=b[d]:(c=[],b[d]=c);c.push(l)});return b}function Qe(a,b){var c;if("Rotate"==b[0].target.multiMessageDisplayMode){var d=X.messageRotation.ids.MessageQueue+a,e="apptegic:mq:"+a,f;if(ib.hasOwnProperty(a))f=ib[a];else{f=ya(d,!1);if(!f){var g=T(e);g&&(ma(d,g),f=g)}f?ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Loaded message queue for target ["+a+"] from local storage - value: "+evergageJSON.stringify(f)):f=[];aa(e);ib[a]=f}c=[];ajq.each(f,function(a,l){var d=null,e=-1;ajq.each(b,function(a,b){if(b.id==l.id)return d=b,e=a,!1});null!==d&&(c.push(d),b.splice(e,1))});ajq.each(b,function(a,l){c.push(l)})}else c=b;return c}function Tb(){try{y.treatHashChangeAsPageLoad&&location.href!=mg&&(pc=!0,mg=location.href,S(),xc={},vb=Aa=null,dd=0,Ya=fe=qc=null,hf(),gb={},Yb=[],Zb=[],f(!0))}catch(a){K(a,
"handleHashChange")}}function lc(){ajq.each(Bc,function(a,b){window.clearTimeout(b)});Bc=[];ajq.each(Wa,function(a,b){window.clearInterval(b)});Wa={};ajq.each(zb,function(a,b){window.clearInterval(b)});zb={};ajq.each(Ab,function(a,b){window.clearInterval(b.timer)});Ab={};ajq.each(Cc,function(a,b){window.clearTimeout(b)});Cc={};ld={}}function Eb(){ajq(".evergage-insertionTarget").remove();ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("hide");ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("destroy");
lc();for(var a in $a)$a.hasOwnProperty(a)&&(clearTimeout($a[a]),delete $a[a])}function bd(a,b){var c=ajq(a).closest(".evergage-tooltip.evergage-qtip");0===c.length||void 0===c.qtip().options?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not hiding message as the message cannot be found.",a):(c=c.qtip().options.bundle,b?Ta(c.id):mc(c))}function mc(a){if(!a.previewMode){var b=Ma(a,hb.Dismissal),c=Sb(a,hb.Dismissal),b=[b,c];ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking dismissal for "+
pa(a)+"...",b);qb(a,b);-1===ajq.inArray(a.id,md)&&md.push(a.id)}Wa.hasOwnProperty(a.id)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Dismissing message "+pa(a)+" - will stop looking for the target on the page for re-display."),clearInterval(Wa[a.id]),delete Wa[a.id]);Ta("amb"+a.id);"callout"===a.target.renderType&&"Hover"===a.calloutOnEventType&&null!=a.calloutOnHoverHighlightColor&&(b="evergage-target-highlight-"+a.id,0<ajq("#"+b).length&&ajq("#"+b).remove(),(a.target.insertionContent?Rc(a.target.locationId):
ba(a.target.target)).removeClass(b))}function Ta(a,b){ajq.log.shouldLog("TRACE")&&console.log('Evergage: hideBundle("'+a+'", '+!!b+") called.");if(!0!==b&&0!==Sa(a).length&&void 0!==Sa(a).qtip().options){var c=Sa(a).qtip().options.bundle;B(c.target.locationId)&&""!==c.target.locationId&&ajq(".evergage-messageTarget-"+c.target.locationId).remove()}Sa(a).qtip("hide");Sa(a).qtip("destroy")}function Ua(l,c,d){l.showCallback=c;l.delayImpression=!1;if(-1<ajq.inArray(l.id,md))ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: "+pa(l)+" was previously dismissed on this page - skipping display...");else{if(c="string"===typeof l.cssContent&&""!==l.cssContent){c=!1;var e=ajq.browser.version;ajq.browser.msie&&10>=parseInt(e)&&25<=document.styleSheets.length&&(c=!0)}if(c)ajq.log.shouldLog("WARN")&&console.log("Evergage: Approaching IE's maximum number of style sheets. Will not show current message.");else{if(l.htmlContent&&0<=l.htmlContent.indexOf("evergage-item-block\x3d")){if(!l.itemBlockRendered&&!Nd(l,
l.isExternalPromotedContent))return;l.isExternalPromotedContent&&0==l.promotedItems.length&&(l.delayImpression=!0)}c="amb"+l.id;var f,g;if(l.legacy)e=null,g=l.taskList?ze(l)?l.legacy.completionSubject||l.legacy.subject:l.legacy.subject:l.legacy.subject,f=l.taskList?Hf(l):l.legacy.template;else{e="";l.previewMode||!l.cssContent&&!l.delayImpression||(e+='\n\x3cstyle class\x3d"evergage-tooltip-style"\x3e\n',l.cssContent&&(e+=ajq.trim(l.cssContent)+"\n"),l.delayImpression&&(f=Hd(l.id),e+=f+" { visibility: hidden !important; pointer-events: none !important; opacity: 0 !important; }\n"),
e+="\x3c/style\x3e\n");if(l.taskList){f=ajq("\x3cdiv\x3e\x3c/div\x3e");f.html(l.htmlContent||"");var h=l.taskList,k=h.ordered?"ol":"ul",m=k+"[evergage-tasklist]";g=f.find(m);if(0===g.length)ajq.log.shouldLog("ERROR")&&console.log("Evergage: "+m+" element not found for task-list message ["+l.id+"]."),f=null;else{var m=Hf(l),n=ajq("\x3cdiv\x3e\x3c/div\x3e"),h=h.completionHtmlContent||"";ze(l)&&""!==h?f=h:(k=n.html(m).find(k).children(),g.empty().append(k),f=f.html())}}else f=l.htmlContent||"";e+=f;
g=" ";f="-"}e={text:f,title:{text:g,button:l.legacy&&!l.legacy.nonDismissible},fullContents:e};f={};"popup"==l.target.renderType&&!0===l.modal&&!0!==l.previewMode&&(f.modal={on:!0});g=Sf();0===g.size()&&l.previewMode&&0<ajq("#previewContainer").size()&&(g=ajq("#previewContainer"));k=g;h="popup"===l.target.renderType;m="callout"===l.target.renderType;g={};"infobar"===l.target.renderType||h?(g.container=0<k.length?k:ajq("body"),g.viewport=!1,g.target=0<k.length?k:ajq(window)):m?(g.container=0<k.length?
k:!1,g.viewport=0<k.length?k:ajq(window)):(g.container=0<k.length?k:!1,g.viewport=0<k.length?k:!1);k=[];l.legacy&&((h=l.legacy.messageThemeId)?k.push("t"+h):(h=l.legacy.appearanceStyle)&&k.push(h));l.previewMode&&k.push("evergage-preview-message");"page"!=l.target.renderType&&0<Sf().length&&k.push("evergageMessageInVisualEditorTestMode");h=l.legacy&&l.legacy.width&&"infobar"!=l.target.renderType?l.legacy.width:!1;m=l.legacy&&l.legacy.height?l.legacy.height:!1;k={classes:k.join(" "),def:!1,nonblocking:!0===
l.nonBlocking,width:h,height:m,poweredBy:!l.isVisualEditorToolbarMessage&&jf};c={id:c,content:e,show:f,position:g,style:k,events:{render:a,show:b,hide:A,destroy:ha},bundle:l};if(!l.taskList||l.legacy||c.content.fullContents){if("page"==l.target.renderType||"callout"==l.target.renderType){e=ba(l.target.target);if(!(0<e.length)||e.is(":hidden")){!0!==Ib&&!0===l.shouldDelayReshowPersonalizedSectionsForMessage&&wb.push(l.id);l.displayRetryExplanation="messageTargetNotVisible";gc(l);return}if(l.rulesByType.TargetInViewport&&
((e=bc(l.target.target))&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+pa(l)+", since its target is in viewport."),!e)){l.displayRetryExplanation="messageTargetNotInViewport";gc(l);return}}if((e=l.rulesByType.PageCssSelector)&&!ve(l,e))e.inclusionCssSelectors&&0<e.inclusionCssSelectors.length&&(l.displayRetryExplanation="messagePageCssSelectorRuleNotMatched",gc(l));else{if("Rotate"==l.target.multiMessageDisplayMode){Da[l.target.locationId]&&Da[l.target.locationId]!=l.id?(ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Enqueuing "+pa(l)+" for later display..."),Xf(l),e=!0):e=!1;if(e)return;Da[l.target.locationId]||(Da[l.target.locationId]=l.id)}if("callout"==l.target.renderType){if(!l.isExternalPromotedContent&&0<ajq("#evergage-tooltip-amb"+l.id).size())return;if(l.target.insertionContent){if(l.displayCalloutMessageWithInsertionContentNow=!1,(e=0<Rc(l.target.locationId).length)||(e=0<ye(l).length),e?l.calloutOnEventType?(e=Rc(l.target.locationId),Qf(e,l,c)):l.displayCalloutMessageWithInsertionContentNow=
!0:(l.displayRetryExplanation="calloutInsertionTargetDoesNotExist",gc(l)),!l.displayCalloutMessageWithInsertionContentNow)return}else if(l.calloutOnEventType){d=ba(l.target.target);Qf(d,l,c);return}}if(e=l.rulesByType.MinimumPageScroll)if(dg){if(!Rf(l,e)){l.displayRetryExplanation="minimumPageScrollNotReached";gc(l);return}}else{kf[l.id]=l;return}e=l.rulesByType.Inactivity;!e||d&&d.shouldDisplayInactivityMessage?Ge(l,c):(d=e.inactivityMillis,Ab[l.id]||((new Date).getTime(),Uf(l,d),Tf(),ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",
Fe)))}}else ajq.log.shouldLog("ERROR")&&console.log("Evergage: Failed to build HTML for task-list message ["+l.id+"] - aborting display...")}}}function nc(a,b){var c=/^custom\./,d=[];ajq.each(a,function(a,l){for(var e in b)if(b.hasOwnProperty(e)&&l.hasOwnProperty(e)){var f=b[e];c.test(f)?(f=f.replace(c,""),l.custom[f]=l[e]):l[f]=l[e]}d.push(l)});return d}function Nd(a,b){if(!a.itemTemplate||!a.promotedItems||!b&&0==a.promotedItems.length)return ajq.log.shouldLog("WARN")&&console.log("Evergage: "+
pa(a)+" contains [evergage-item-block] element, but message response does not contain itemTemplate and/or promotedItems - aborting display..."),!1;var c=ajq(a.htmlContent),d=c.find("[evergage-item-block]").addBack("[evergage-item-block]").first();if(0==d.length)return ajq.log.shouldLog("ERROR")&&console.log("Evergage: Expected [evergage-item-block] element not found in "+pa(a)+" - aborting display..."),!1;var e=a.minimumPromotedItemCount||1,f=a.maximumPromotedItemCount,g=oc(d.attr("evergage-item-block")),
f=tb(d,a.itemTemplate,a.promotedItems,f,g);if(!b&&f.length<e)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Rendered only "+f.length+" Items for Item Block with minimum item count of "+e+" for "+pa(a)+" - aborting display..."),!1;a.promotedItemKeys=f;g.unformatted&&!a.previewMode&&(c=ajq("\x3cdiv\x3e\x3c/div\x3e").append(c),c.find("[evergage-item-block]").replaceWith(d.children()),c=c.children());a.htmlContent=Pd(c);0<f.length&&(a.itemBlockRendered=!0);return!0}function tb(a,b,c,d,e){if(null==
e)return!1;var f=e.cols,g=b.width*f+e.cellSpacing*(f-1),h=e.rows,k=b.height*h+e.cellSpacing*(h-1);c=c.slice(0,d||h*f);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Rendering Item block with size "+g+"x"+k+" containing "+c.length+" Items...",e);e.unformatted||a.empty().css({boxSizing:"content-box",width:g,height:k,wordSpacing:"-1em",display:"table"});var m=[];ajq.each(c,function(d,f){try{var g;var h=c.length,k=Fb(b,f);if(e.unformatted)g=ajq(k);else{var $f="UL"==a.prop("tagName")?ajq("\x3cli\x3e\x3c/li\x3e"):
ajq("\x3cdiv\x3e\x3c/div\x3e"),n=e.cellSpacing/2,p=e.cols,q=d%p,r=Math.floor(d/p);$f.css({display:"inline-block",verticalAlign:"top",wordSpacing:0,boxSizing:"border-box",marginTop:0==r?0:n,marginBottom:r==Math.ceil(h/p)-1?0:n,marginLeft:0==q?0:n,marginRight:q==p-1?0:n,width:b.width,height:b.height,padding:0,overflow:"hidden"}).html(k);g=$f}a.append("\n").append(g).append("\n");var t={type:f.type,_id:f._id};f.tagType&&(t.tagType=f.tagType);g.attr("data-evg-item-id",t._id);g.attr("data-evg-item-type",
t.type);null!=t.tagType&&g.attr("data-evg-item-tagType",t.tagType);m.push(t)}catch(u){if("UNFULFILLED_SYNTAX"==u.type)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Cannot render Item ["+f.id+"] due to: "+u.message);else throw u;}});ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rendered "+m.length+" out of "+c.length+" Items...");return m}function oc(a){var b=null;try{b=cd(a)}catch(c){ajq.log.shouldLog("WARN")&&console.log("Failed to parse item block settings '"+a+"'. Reason: "+c)}return b}
function cd(a){if(!B(a))throw"param must be a String.";if(1>a.length||"{"!=a.charAt(0))throw"string must start with '{'.";if(2>a.length||"}"!=a.charAt(a.length-1))throw"string must end with '}'.";var b={};a=ajq.trim(a.substring(1,a.length-1)).split(/\s*,\s*/);for(var c=0;c<a.length;c++){var d=a[c],e=d.split(/\s*:\s*/);if(2!=e.length)throw"property token ["+d+"] must contain a single ':'.";d=ab(e[0]);if(1>d.length)throw"property is missing key.";e=e[1];if(1>e.length)throw"value of property '"+d+"' has no value.";
var f;if("true"==e)f=!0;else if("false"==e)f=!1;else if("'"==e.charAt(0)||'"'==e.charAt(0))f=ab(e);else try{f=parseInt(e,10)}catch(g){throw"value of property '"+d+"' is not a Number or a String.";}b[d]=f}return b}function Fb(a,b){b.id=b._id;var c=a.htmlContent,c=ub(c,/\$\{?item\.getTagValue\(([^)]+)\)}?/g,function(a,l){return Re(b,l)}),c=ub(c,/#field\(([^)]*)\)/g,function(a,l){return Se(b,l)}),c=ub(c,/\$\{?item\.([\w.]+)}?/g,function(a,l){return Od(b,l)});return c=ub(c,/\$\{?currency\.format\(([\d.]+)\)}?/g,
function(a,l){var c=G.beaconConfig?G.beaconConfig.defaultCurrency:null;return mb(l,b.currency||c||"USD")})}function ub(a,b,c){return a.replace(b,function(a,l){var b=c(a,l);y.enableTemplateEsc&&(b="string"!==typeof b?b:b.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;"));return b})}function Re(a,b){var c=b.split(/\s*,\s*/),d=ab(ajq.trim(c[0])),c=ab(ajq.trim(c[1])),e=[];a.tags&&ajq.each(a.tags,function(a,b){b.tagType===d&&e.push(b)});
return e[0]?(c=e[c||0])?c?c._id:"":"":""}function Se(a,b){var c=b.split(/\s*,\s*/);if(2!=c.length)throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse #field directive parameters: "+b};var d=ajq.trim(c[0]);if(!/^\$\{?item\.([\w.]+)}?$/.test(d))throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse first param of #field directive: "+d};c=ajq.trim(c[1]);try{var e=ab(c)}catch(f){throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse second param of #field directive: "+d};}return d.replace(/^\$\{?item\.([\w.]+)}?$/,
function(b,c){var d=Od(a,c,e);return null!=d?d:""})}function Od(a,b,c){if(0==b.indexOf("custom.")&&7<b.length){var d=b.substring(7);a=r(a.custom)&&a.custom.hasOwnProperty(d)?a.custom[d]:null}else a=a.hasOwnProperty(b)?a[b]:null;if(null==a){if(null==c)throw{type:"UNFULFILLED_SYNTAX",message:"Item attribute '"+b+"' is missing or null."};a=c}return a}function ab(a){for(var b=0;b<ng.length;b++){var c=ng[b];if(1<=a.length&&a.charAt(0)==c){if(2>a.length||a.charAt(a.length-1)!=c)throw"End quote missing for string ["+
a+"].";return a.substring(1,a.length-1)}}return a}function mb(a,b){var c="number"===typeof a?a:parseFloat(a,10);if(isNaN(c))return"";b||(b="USD");var d=og||"en-US";if(lf.toLocaleStringSupportsOptions)return c.toLocaleString(d,{style:"currency",currency:b});var e=(lf.toLocaleStringSupportsLocales?c.toLocaleString(d):c.toLocaleString()).replace(/\D\d*$/,""),f=uh[b]||{},g=f.symbol||b,f=null!=f.decimals?f.decimals:0;1<=f&&(c=c.toFixed(f),d=(lf.toLocaleStringSupportsLocales?(1.1).toLocaleString(d):(1.1).toLocaleString()).charAt(1),
e+=d+c.substring(c.indexOf(".")+1));return g+e}function Pd(a){var b="";a.each(function(a,l){b+=l.outerHTML||l.nodeValue});return b}function a(a,b){if(ajq(a.currentTarget).qtip().id===b.id){var c=b.options.bundle;le[c.id]=b;c.previewMode?fh(c.id):Cd(b.elements.tooltip,c)}}function b(a,b){if(ajq(a.currentTarget).qtip().id===b.id){var c=b.options.bundle,d=b.elements.tooltip;null==b.options.barVisible||c.previewMode||b.options.barVisible.call(d,a,b);c.messageShownTime=(new Date).getTime();Bb[c.id]=c;
if(c.javascriptContent&&!c.previewMode&&!c.javascriptContentExecuted)try{k(c.javascriptContent,"campaign-wide",pa(c),"campaignId-"+c.campaignId+"/experienceId-"+c.experienceId+"/messageId-"+c.id+".js","insertJavascriptContentForMessage")}finally{c.javascriptContentExecuted=!0}0<c.durationMillis&&w(c)}}function g(a){for(var b=0;b<a.length;b++){var c=a[b],d;if(c.campaignJavascriptContent&&(d=k(c.campaignJavascriptContent,"campaign-wide",'campaign "'+c.campaignName+'"',"campaignId-"+c.campaignId+".js",
"insertCampaignJavascriptContentToPage",c),!1===d)){a.splice(b,1);b--;continue}if(c.javascriptContent){a:{if("Control"!==c.userGroup)if(d=k(c.javascriptContent,"experience-wide","experience '"+c.experienceName+"'","campaignId-"+c.campaignId+"/experienceId-"+c.experienceId+".js","insertExperienceJavascriptContentToPage",c),!1===d){d=!1;break a}else if(d===Evergage.ExperienceJS.DelayImpression){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Delaying impression for experience "+c.experienceId+' due to the experience-wide javascript returning "'+
Evergage.ExperienceJS.DelayImpression+'".');d=!0;break a}if(!c.previewMode&&(d=[],!gb[c.experienceId])){var e=Ma(c,hb.Impression);d.push(e);gb[c.experienceId]=!0;ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for experience with experience-wide javascript"+af(c)+"...",d);qb(c,d);gb[c.experienceId]=!0}d=!0}!1===d&&(a.splice(b,1),b--)}}}function k(a,b,c,d,e,f){try{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Inserting JavaScript content from "+c+" to page...",a);var g=
ajq.trim(a).replace(/\n/g,"\n    "),h=c.replace(/"/g,'\\"'),k=new Function("campaignResponse","try {\n    "+g+'\n} catch (exception) {\n    if (typeof window.ajq \x3d\x3d\x3d "function" \x26\x26 typeof window.ajq.log \x3d\x3d\x3d "object" \x26\x26 typeof ajq.log.shouldLog \x3d\x3d\x3d "function" \x26\x26 ajq.log.shouldLog(\'WARN\')) {\n        console.log("Evergage: ERROR: Exception executing javascript content for '+h+'.", exception);\n    }\n}\n\n//# sourceURL\x3d/evergage/'+d);ajq.log.shouldTestPerf("RIGOROUS")&&
console.time("Evergage: Execute "+b+" javascript");var m=k(f);ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Execute "+b+" javascript");return m}catch(n){return K(n,e),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Exception inserting the javascript content for "+c+".",n),!0}}function w(a){$a[a.id]=setTimeout(function(){var b=Sa(a.id);b.qtip("hide");b.qtip("destroy")},a.durationMillis)}function A(a,b){var c=b.options.bundle;b.options.barHidden&&b.options.barHidden.call(b.elements.tooltip,
a,b);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding "+pa(c)+"...");q("qTipHideEvent",{message:c});me.hasOwnProperty(c.id)&&(clearTimeout(me[c.id]),delete me[c.id]);$a.hasOwnProperty(c.id)&&(clearTimeout($a[c.id]),delete $a[c.id]);b.elements.tooltip.removeClass("evergage-tooltip-page");b.elements.tooltip.removeClass("evergage-tooltip-page-replace");var d=!0;"Rotate"==c.target.multiMessageDisplayMode&&(Da[c.target.locationId]=!1,d=!Wf(c.target.locationId));if(d&&"page"==c.target.renderType)if(b.options.position&&
!0===b.options.position.replaceContainer){var d=c.target.locationId,e=c.target.target,f=Dc[d];if(f&&f.length){var g=ba("#evergage-tooltip-"+b.id);g.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed inline target ["+e+"]..."),g.replaceWith(f),delete Dc[d])}}else Ff(c.target.locationId,c.target.target);0<c.durationMillis&&c.messageShownTime&&(d=(new Date).getTime()-c.messageShownTime,1E3>c.durationMillis-d?Sa(c.id).qtip("destroy"):c.durationMillis-=d)}function ha(a,b){var c=b.options.bundle;
if("Click"===c.calloutOnEventType){var d=fc(c);ajq(document).off("click."+d)}$a.hasOwnProperty(c.id)&&(clearTimeout($a[c.id]),delete $a[c.id]);d=!0;"Rotate"==c.target.multiMessageDisplayMode&&(Da[c.target.locationId]=!1,d=!Wf(c.target.locationId));d&&"page"==c.target.renderType&&Ff(c.target.locationId,c.target);ib.hasOwnProperty(c.target.locationId)&&ajq.each(ib[c.target.locationId],function(a,b){if(b.id===c.id)return ib[c.target.locationId].splice(a,1),!1});delete $b[c.id];ajq.isEmptyObject($b)&&
(clearInterval(Kb),Kb=-1);var d=Bb[c.id],e;r(d)&&(e=d.destroyCallback);delete Bb[c.id];delete le[c.id];"Rotate"==c.target.multiMessageDisplayMode&&1E3<c.target.multiMessageRotateDelayMillis&&(zb.hasOwnProperty(c.target.locationId)&&clearInterval(zb[c.target.locationId]),zb[c.target.locationId]=setInterval(function(){try{Vf(c.target.locationId)}catch(a){K(a,"rotateMessageForTarget")}},c.target.multiMessageRotateDelayMillis));d=Sa(c.id);1==d.length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: div for message ["+
c.id+"] is still in DOM - removing it..."),d.remove());ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Message ["+c.id+"] destroyed.");d=Bb[c.id];Q(e)&&e()}function Cf(a,b){var c="0%";if(null!=ajq(a).css("background-position-x"))c=ajq(a).css("background-position-x");else{var d=ajq(a).css("background-position");-1!=d.indexOf("calc(")?(d=d.split("calc("),d=d[d.length-2],-1!=d.indexOf("0%")&&-1!=d.indexOf("px")&&(c=d.substring(0,d.indexOf("px")+2))):(d=d.split(" "),2==d.length&&(c=d[0]))}ajq(a).css("background-position",
c+" "+b)}function lb(a){if(null!=ajq(a).css("background-position-y"))return ajq(a).css("background-position-y");if(null==ajq(a).css("background-position"))return null;a=ajq(a).css("background-position");if(-1!=a.indexOf("calc(")){if(a=a.split("calc("),a=a[a.length-1],-1!=a.indexOf("0%")&&-1!=a.indexOf("px"))return a.substring(0,a.indexOf("px")+2)}else if(a=a.split(" "),2==a.length)return a[1]}function ue(a,b){var c=a.indexOf(b);return-1!=c&&c+b.length==a.length}function Qa(a){if(null==a)return a;
if("0%"==a)return 0;ue(a,"px")&&(a=a.substring(0,a.indexOf("px")));return parseInt(a)}function ve(a,b){var c=!0;ajq.each(b.inclusionCssSelectors,function(b,d){if(0===ba(d).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Delaying showing message or page change ["+a+"] since the CSS Selector ["+d+"] is not present yet"),c=!1});ajq.each(b.exclusionCssSelectors,function(b,d){if(0<ba(d).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not showing message or page change ["+
a+"] since the CSS Selector ["+d+"] is present."),c=!1});return c}function bc(a){a=ba(a);var b;if(b=0<a.length)a=a[0].getBoundingClientRect(),b=0<=a.top&&a.top<=ajq(window).height()||0<=a.bottom&&a.bottom<=ajq(window).height()||0>a.top&&a.bottom>ajq(window).height()&&(0<=a.left&&a.left<=ajq(window).width()||0<=a.right&&a.right<=ajq(window).width())||0>a.left&&a.right>ajq(window).width();return b}function Cd(a,b){Wg(a,b);ch(a,b);b.delayImpression||Yc(b);var c=b.id,d=Sa(c);dh(d);eh(d,c);"callout"==
b.target.renderType&&"Hover"==b.calloutOnEventType&&(c=fc(b),a.unbind("mouseenter."+c,Df),a.bind("mouseenter."+c,{bundle:b},Df),a.unbind("mouseleave."+c,Ef),a.bind("mouseleave."+c,{bundle:b},Ef))}function Wg(a,b){a.find("a").not("[evergage-closeicon]").filter(function(){return"\u00d7"!=ajq.trim(ajq(this).text())}).each(function(a,c){ajq(c).on("click",function(a){try{oa(b,c.href,a.target)}catch(l){K(l,"trackClickthrough")}});Q(y.messageLinkDecorator)&&y.messageLinkDecorator(c)})}function Df(a){try{var b=
a.data.bundle.id;"number"===typeof Cc[b]&&(clearTimeout(Cc[b]),delete Cc[b])}catch(c){K(c,"mouseEnterCalloutInsertionContent")}}function Ef(a){try{Ta("amb"+a.data.bundle.id,!0)}catch(b){K(b,"mouseLeaveCalloutInsertionContent")}}function ch(a,b){a.find("div.evergage-tooltip-close").click(function(a,c){try{"click"==a.originalEvent.type&&mc(b)}catch(l){K(l,"trackDismissalIconsLegacy")}})}function Hd(a){0===a.indexOf("amb")&&(a=a.substring(3));return"#evergage-tooltip-amb"+a}function Sa(a){return ajq(Hd(a))}
function dh(a){a.find("form[evergage-action]").each(function(){try{var a=ajq(this),b=a.attr("evergage-action");if(b){var c=!dc(a,"evergage-nocloseonsubmit"),l=!dc(a,"evergage-nocloseonsubmit")&&!dc(a,"evergage-nodismissonsubmit");a.attr("name",b);a.on("submit",function(a){Evergage.trackEvergageMessageForm(a,!c,!l)})}}catch(d){K(d,"processEvergageFormAttributes")}})}function eh(a,b){a.find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var b=
ajq(this);b.attr("href")||b.attr("href","javascript:;");var c=b.attr("evergage-action")||b.attr("apptegictrackaction"),d=dc(b,"evergage-dismissonclick")||dc(b,"apptegicclosemessage"),e=d||dc(b,"evergage-hideonclick");if(c||d||e)b.on("click",function(){try{var b=a.qtip().options.bundle;d?mc(b):e&&Ta(b.id);c&&(d?("number"===typeof nd[b.id]&&clearTimeout(nd[b.id]),nd[b.id]=setTimeout(function(){Ia(c);delete nd[b.id]},100)):Ia(c))}catch(f){K(f,"processEvergageAnchorAttributes")}})})}function fh(a){Sa(a).find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var a=
ajq(this);a.attr("href")||a.attr("href","javascript:;")})}function dc(a,b){var c=a.attr(b);return ua(c)&&"false"!==c}function Rc(a){return ajq(".evergage-messageTarget-"+a)}function gh(){try{eb||null===window.ajq||(ajq.each(kf,function(a,b){Rf(b,b.rulesByType.MinimumPageScroll)?Ua(b):gc(b)}),kf={})}catch(a){K(a,"loadPageScrollPercentBasedMessages")}}function hh(){ajq.each($b,function(a,b){$b.hasOwnProperty(a)&&0===ba(b.target.target+":visible").length&&!b.previewMode&&(ajq.log.shouldLog("TRACE")&&
console.log("Evergage: Hiding callout message "+pa(b)+", as its target no longer exists."),delete $b[a],Ta(b.id))});ajq.isEmptyObject($b)&&(clearInterval(Kb),Kb=-1)}function Rf(a,b){var c=(ajq(window).scrollTop()+ec())/ajq(document).height()*100>=b.minimumPageScrollLength;c&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+pa(a)+", since user has scrolled at least "+b.minimumPageScrollLength+"% down the page.");return c}function ec(){var a=document.doctype?ajq(window).height():0;a||(a=
window.innerHeight||document.body.clientHeight||0);return a}function Sc(){var a=document.doctype?ajq(window).width():0;a||(a=window.innerWidth||document.body.clientWidth||0);return a}function Qf(a,b,c){var d=fc(b);switch(b.calloutOnEventType){case "Hover":if(b.calloutOnHoverHighlightColor){if(!a.selector){ajq.log.shouldLog("WARN")&&console.log("Evergage: Target selector for "+b.id+' has no "selector" property - cannot enable hover on highlight.');break}var e="evergage-target-highlight-"+b.id;if(0===
ajq("#"+e).length){var f=b.calloutOnHoverHighlightColor;ajq("\x3cstyle\x3e\x3c/style\x3e").attr({id:e,type:"text/css"}).text("."+e+":hover {\n  -moz-transition: all .2s ease-in-out;\n  -webkit-transition: all .2s ease-in-out;\n  transition: all .2s ease-in-out;\n  -moz-box-shadow: inset 0 0 4px 2px "+f+";\n  -webkit-box-shadow: inset 0 0 4px 2px "+f+";\n  box-shadow: inset 0 0 4px 2px "+f+";\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  -o-border-radius: 4px;\n  -ms-border-radius: 4px;\n  border-radius: 4px;\n}\n").appendTo("head");
ba(a).addClass(e)}}a.unbind("mouseenter."+d,Ce);a.bind("mouseenter."+d,{bundle:b,messageOptions:c},Ce);a.unbind("mouseleave."+d,De);a.bind("mouseleave."+d,{bundle:b},De);pg.push(a.selector);break;case "Click":Nf(a,b,c);break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown callout on event type for "+b.id+": "+b.calloutOnEventType)}}function Ce(a){try{var b=a.data;-1<ajq.inArray(b.messageOptions.bundle.id,md)||(b.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=
!0,Ge(b.bundle,b.messageOptions))}catch(c){K(c,"mouseEnterForHoverCallout")}}function De(a){try{var b=a.data.bundle.id;"string"!==typeof b?ajq.log.shouldLog("WARN")&&console.log("Evergage: Unable to find the messageId when hovering out of insertion content for a callout."):Cc[b]=setTimeout(function(){try{Ta("amb"+b,!0)}catch(a){K(a,"hideBundleDuringMouseLeaveForHoverCallout")}},250)}catch(c){K(c,"mouseLeaveForHoverCallout")}}function Ee(a){try{var b=a.data;b.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=
!0;ih(a,b.targetSelector,b.bundle,b.messageOptions)}catch(c){K(c,"calloutTargetClicked")}}function Nf(a,b,c){var d=fc(b);a.unbind("click."+d,Ee);a.bind("click."+d,{isShowCalloutMessageClick:!0,targetSelector:a,bundle:b,messageOptions:c},Ee);qg.push(a.selector)}function ih(a,b,c,d){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Showing callout message...");var e=fc(c);b.off("click."+e);Ge(c,d);ajq(document).on("click."+e,null,a.data,function(a){try{if(a.data&&a.data.isShowCalloutMessageClick)"#document"==
a.delegateTarget.nodeName&&(a.data.isShowCalloutMessageClick=!1);else{var l=ajq("#evergage-tooltip-amb"+c.id);if(0===ajq(a.target).closest(l).length){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding callout message...");var e=fc(c);ajq(document).off("click."+e);Ta("amb"+c.id,!0);-1<ajq.inArray(c.id,md)||Nf(b,c,d)}}}catch(f){K(f,"showCalloutMessageOnClick")}})}function fc(a){return"evergage-message-"+a.id}function Sf(){var a=ajq("#apptegicMessageContainerForToolbarEnabledPages");0===a.size()&&
(a=ajq("#evergageMessageContainerForTestMode"));return a}function gc(a){if(!a.displayRetryScheduled){a.displayRetryScheduled=!0;ajq.log.shouldLog("TRACE")&&console.log("Evergage: Target for message ["+a.id+"] ("+a.target+") does not exist or is not visible - will continue to retry every half second...");for(var b=0;b<Ec.length;b++)try{Ec[b](a,a.target.target)}catch(c){K(c,"displayMessageRetryCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Display Message callback with error: "+Ec[b])}q("displayMessageRetryEvent",
{bundle:a,bundleTarget:a.target.target})}"object"===typeof Jb[a.id]&&"number"===typeof Jb[a.id].timeout&&clearTimeout(Jb[a.id].timeout);b=window.setTimeout(function(){try{Ua(a)}catch(b){K(b,"displayMessageAfterRetry"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception trying to display the message ["+a.id+"].",b)}},500);Jb[a.id]={bundle:a,timeout:b};Bc.push(b)}function Tf(){ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Fe)}function Fe(a){try{if((new Date).getTime(),
"click"!==a.type||0!==a.pageX||0!==a.pageY)ne=a.pageX,Fc=a.pageY,jh()}catch(b){K(b,"handleActivityEvent")}}function jh(){ajq.each(Ab,function(a,b){Uf(b.bundle,b.inactivityMillis)})}function Uf(a,b){(new Date).getTime();var c=Ab[a.id];c&&P(c.timer)&&clearTimeout(c.timer);var d={};d.bundle=a;d.inactivityMillis=b;d.timer=setTimeout(function(){try{kh(d.bundle.rulesByType.Inactivity)&&Ua(d.bundle,function(){try{clearTimeout(Ab[d.bundle.id].timer),delete Ab[d.bundle.id],0===Ab.length&&Tf()}catch(a){K(a,
"postDisplayCleanupForInactivityMessage")}},{shouldDisplayInactivityMessage:!0})}catch(a){K(a,"renderInactivityMessage")}},b);Ab[a.id]=d}function kh(a){var b=!1;if(p(a.mouseLocationValue)&&0!==a.mouseLocationValue)if("top"===a.mouseLocationDirection&&-1!==Fc){var c=Fc-ajq(window).scrollTop();"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?0!==ec()&&c/ec()<=a.mouseLocationValue/100&&(b=!0):b=!0}else"bottom"===a.mouseLocationDirection&&0!==ec()&&-1!==Fc?(c=ec()-
Fc-ajq(window).scrollTop(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?c/ec()<=a.mouseLocationValue/100&&(b=!0):b=!0):"left"===a.mouseLocationDirection&&-1!==ne?(c=ne-ajq(window).scrollLeft(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&(b=!0):"%"===a.mouseLocationUnit?0!==Sc()&&c/Sc()<=a.mouseLocationValue/100&&(b=!0):b=!0):"right"===a.mouseLocationDirection&&0!==Sc()&&-1!==Fc?(c=Sc()-ne-ajq(window).scrollLeft(),"px"===a.mouseLocationUnit?c<=a.mouseLocationValue&&
(b=!0):"%"===a.mouseLocationUnit?c/Sc()<=a.mouseLocationValue/100&&(b=!0):b=!0):b=!1;else b=!0;return b}function Vf(a){if(null!=Da[a]){var b=Da[a],c=Gf(a,!1);null!==c&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rotating from "+pa(Da[a])+" to "+pa(c)+"..."),null!=le[Da[a]]&&le[Da[a]].hide(),Bb.hasOwnProperty(b)&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Enqueuing "+pa(Da[a])+" for later redisplay..."),Xf(Bb[b],!0)))}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not rotating message target "+
a+", as all messages for this target have already closed.")}function Wf(a){var b=Gf(a,!0);null!==b?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Displaying next message in queue ("+pa(b)+")..."),a=window.setTimeout(function(){Ua(b)},1E3),Bc.push(a)):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: No messages remaining in queue.");return null!==b}function Gf(a,b){var c=null;if(ib.hasOwnProperty(a)){for(var d=ib[a],e=d.length;0<d.length;){var f=d.shift();if(!0===y.enableMessageRotation&&f.hasOwnProperty("htmlContent")){b||
d.unshift(f);c=f;break}}d.length!=e&&If(a,d)}return c}function If(a,b){var c=X.messageRotation.ids.MessageQueue+a,d=ra(c);if(0===b.length)ajq.evgjStorage.deleteKey(d);else{var e=[];ajq.each(b,function(a,b){var c={};c.id=b.id;e.push(c)});ma(c,e)}}function Xf(a,b){var c;c=ib.hasOwnProperty(a.target.locationId)?ib[a.target.locationId]:[];var d=-1;ajq.each(c,function(c,e){if(e.id==a.id&&!b)return d=c,!1});-1!=d?c[d]=a:c.push(a);If(a.target.locationId,c)}function Yf(a,b,c,d){if(!a||0===a.length){"Rotate"==
b.multiMessageDisplayMode&&delete Da[c.target.locationId];if(void 0===Wa[c.id]){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Unable to find page target for message ["+c.id+"] - will keep trying every few seconds in case it shows up after more of the page loads.");var e=window.location.href;Wa[c.id]=window.setInterval(function(){if(e!=window.location.href||void 0===Wa[c.id])return!0;0<ba(d.bundle.target).length&&1>ajq("#evergage-tooltip-amb"+c.id.toString()).length&&(Ua(b),clearInterval(Wa[c.id]),
delete Wa[c.id])},1E3)}return!0}return!1}function Ge(a,b){if("Control"==a.userGroup)Yc(a);else{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+pa(a)+"...");var c=a.target;switch(c.renderType){case "popup":ajq.fn.qtip.zindex=1000302;b.position.stack=c.popupLocation?c.popupLocation.toLowerCase():"topright";break;case "infobar":ajq.fn.qtip.zindex=1000202;b.position.stack=c.infobarLocation?c.infobarLocation.toLowerCase():"top";break;case "page":ajq.fn.qtip.zindex=1000002;var d=ba(c.target);
if(Yf(d,a,a,b))return;b.position.container=d;break;case "callout":!0===a.calloutInMessageEditor&&(d=1==ajq("#previewContainer").length?"#previewContainer":"body",b.position.container=ajq(d),b.position.viewport=ajq(d));ajq.fn.qtip.zindex=1000102;d=ba(c.target);if(c.insertionContent){var e=Rc(c.locationId);e.length||ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find or create insertion target for "+a.id+".  It might be available later.");a.displayCalloutMessageWithInsertionContentNow&&
(d=e)}if(Yf(d,a,a,b))return;b.position.target=d;!0!==c.keepCalloutOpenWhenTargetHidden&&($b[a.id]=a);-1===Kb&&(Kb=setInterval(hh,1E3));d=["top","right","bottom","left"];e=c.calloutDirection?c.calloutDirection.toLowerCase():"bottom";b.position.at=e+" center";b.position.my=d[(ajq.inArray(e,d)+2)%4]+" center";break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown message render type: "+c.renderType)}if((d=Sa(a.id))&&1==d.length&&"object"==typeof d.data("qtip")){b.content.title&&b.content.title.button&&
!b.content.title.text&&(b.content.title.text=" ");lh(d,a,b)&&ajq.updateMessage("#evergage-tooltip-"+b.id,b,d.qtip().options);"page"==c.renderType&&(d.addClass("evergage-tooltip-page"),d.css({top:0}),!0===mh(b)&&d.addClass("evergage-tooltip-page-replace"));var f=ajq("#evergage-tooltip-amb"+a.id+":visible");f&&1==f.length&&"object"==typeof f.data("qtip")&&!a.isExternalPromotedContent||Cd(d,a);d.qtip("show");d.css({opacity:1})}else"page"==c.renderType&&(d=!0,W(ba(c.target),"img")&&(d=!1,c.inlineReplaceContainer=
!0),d||!0===c.inlineRespectMessageSize||(b.style.width=ajq(c.target).outerWidth()+"px",b.style.height=ajq(c.target).outerHeight()+"px"),c.replaceExistingContent?(!0===c.inlineReplaceContainer&&(f=$g(c.locationId),b.position.replaceContainer=!0),!0!==c.inlineReplaceContainer?(b.position.ignoreTargetVisibilityCheck=Xg(c.target),Yg(c.locationId,c.target)):(b.bundle.existingStyles=ba(c.target).get(0).style.cssText,Zg(c.locationId,c.target,f))):!0!==d&&ba(c.target).after(f),c.replaceExistingContent&&c.inlineReplaceContainer||
!0!==d)&&(c.originalTargetSelector=c.target,c.target="#"+c.locationId,b.position.container=ajq(c.target)),"Rotate"==a.target.multiMessageDisplayMode&&(Da[c.locationId]=a.id),!0!==Ib&&!0===a.shouldDelayReshowPersonalizedSectionsForMessage&&wb.push(a.id),ajq.qtipGrowl(b);!1!==b.show.ready&&(f=me[a.id]=window.setTimeout(function(){ajq("#evergage-tooltip-"+b.id).is(":visible")||(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing message["+a.id+"], as it was not shown on page load..."),ajq("#evergage-tooltip-"+
b.id).qtip("show"),ajq("#evergage-tooltip-"+b.id).css("opacity",1))},500),Bc.push(f));"Rotate"==c.multiMessageDisplayMode&&1E3<c.multiMessageRotateDelayMillis&&!zb.hasOwnProperty(c.locationId)&&(zb[c.locationId]&&clearInterval(zb[c.locationId]),zb[c.locationId]=setInterval(function(){Vf(c.locationId)},c.multiMessageRotateDelayMillis));a.messageShownTime=(new Date).getTime();Bb[a.id]=a}}function mh(a){var b=a.position&&!0===a.position.replaceContainer||a.bundle&&a.bundle.replaceExistingContent&&!0===
a.bundle.inlineReplaceContainer;return a.bundle&&!0===a.bundle.replaceExistingContent&&!0!==a.bundle.isPreviewModeContainerReplacement&&!0!==a.bundle.isPreviewModeInlineRespectMessageSize&&!0!==a.bundle.inlineRespectMessageSize&&!b?!0:!1}function lh(a,b,c){if(a.qtip()&&a.qtip().options&&a.qtip().options.content){if(b.legacy){b=evergageJSON.stringify(a.qtip().options.content.title)!=evergageJSON.stringify(c.content.title);var d=evergageJSON.stringify(a.qtip().options.content.text)!=evergageJSON.stringify(c.content.text);
return b||d&&!(a.qtip().options.content.text instanceof ajq)&&!(c.content.text instanceof ajq)}b=a.qtip().options.content.fullcontents||a.qtip().options.content.fullContents;return evergageJSON.stringify(b)!=evergageJSON.stringify(c.content.fullContents)&&!(a.qtip().options.content.fullContents instanceof ajq)}}function ye(a){a=a.target;a.insertionLocation||(a.insertionLocation="LastChild");var b=Rc(a.locationId);if(0<b.length)return b;b=ba(a.target);if(0===b.length)return[];var c;switch(a.insertionLocation){case "FirstChild":case "LastChild":c=
b;break;case "PreviousSibling":case "NextSibling":c=b.parent();break;default:return[]}var d="evergage-messageTarget-"+a.locationId,e=c.find("."+d);if(!e.length)switch(e=ajq.parseHTML(a.insertionContent),e=1==e.length&&1==e[0].nodeType?ajq(a.insertionContent):ajq("\x3cdiv\x3e\x3c/div\x3e").css("display","inline-block").append(a.insertionContent),e.addClass("evergage-insertionTarget "+d),a.insertionLocation){case "FirstChild":c.prepend(e);break;case "LastChild":c.append(e);break;case "PreviousSibling":b.before(e);
break;case "NextSibling":b.after(e);break;default:return[]}return ajq("."+d)}function Xg(a){a=ba(a);for(var b=I(a),c=!1,d="a h1 h2 h3 h4 h5 h6 span".split(" "),e=0;e<d.length;e++)if(d[e]===b.toLowerCase()){c=!0;break}return c?a&&a.length&&!a.is(":hidden"):!1}function Yg(a,b){var c=ba(b).contents();c.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+b+"]..."),Dc[a]=c.detach())}function Zg(a,b,c){var d=ba(b);if(d.length){var e=d.width(),f=d.height();"number"===
typeof e&&0<e&&ba(c).css("width",e);"number"===typeof f&&0<f&&ba(c).css("height",f);ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+b+"]...");Dc[a]=d.replaceWith(c)}}function $g(a){a=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id",a).css("width",1);a.addClass("evergage-temp-placeholder");return a}function Ff(a,b){var c=Dc[a];if(c&&c.length){var d=ba(b);d.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed content in inline target ["+b+"]..."),d.first().append(c),
delete Dc[a])}}function Hf(a){var b=a.taskList,c,d=a.legacy?a.legacy.completionTemplate:b.completionHtmlContent;if(ze(a)&&""!==(d||""))c=d;else{d=b.ordered?"ol":"ul";c="\x3c"+d+"\x3e";var e=a.completedTaskActions||[];ajq.each(b.tasks||[],function(b,d){c+="\x3cli";var f=0<=e.indexOf(d.action);c+=' class\x3d"'+(a.legacy?f?"evergage-tasklistitem-done":"evergage-tasklistitem-notdone":f?"evergage-task-done":"evergage-task-notdone")+'"';d.description&&(c+=' title\x3d"'+d.description+'"');c+="\x3e";d.link&&
(c+='\x3ca href\x3d"'+d.link+'"\x3e');c+=d.label;d.link&&(c+="\x3c/a\x3e");c+="\x3c/li\x3e"});c+="\x3c/"+d+"\x3e"}return c}function ze(a){return(a.completedTaskActions||[]).length==(a.taskList.tasks||[]).length}function Jf(a){if(y.runningInMobileApp)return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: URL/page title action mapping is disabled when beacon is running within phonegap."),null;a=oe(a.pages);return p(a)&&!V(a.action)?a.action:null}function Ae(){try{if(!0!==eb)if(ac())n("Evergage: Beacon detected page is prerendered - initialization aborted.");
else if(y.useSiteConfig)if(mf)ajq.log.shouldLog("INFO")&&console.log("Evergage: Site config request already pending - not queueing up a second request.");else if(1!=Ue)if(Na(G)){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Downloading site config...");var a=!1;""!==ic(a)&&(a=!0);var b={url:sa+"/api/dataset/"+za+"/siteConfig"+ic(!1),dataType:"json",jsonp:!1,crossDomain:!0,beforeSend:function(){return mf=!0},success:ah,complete:function(){mf=!1;return!0},error:function(a,b,c){a=cc("siteConfig",
a,c);K(Error(a),"executeSiteConfiguration");ajq.log.shouldLog("WARN")&&console.log("Evergage: Error downloading site config: "+b);pc&&(Eb(),pc=!1)}};ajq.ajax(b)}else Be(null)}catch(c){K(c,"executeSiteConfiguration")}}function ah(a){Be(a)}function Kf(a){G=a;Mf()}function Lf(){G.account&&!p(la)&&la!==G.account&&(la=G.account);G.dataset&&!p(za)&&za!==G.dataset&&(za=G.dataset)}function Mf(){jf=G.beaconConfig&&!0===G.beaconConfig.showPoweredBy;Zd=!0===G.twoWayEnabled;G.trackAnonymousUsers&&!p(y.trackAnonymous)&&
(y.trackAnonymous=G.trackAnonymousUsers);G.trackAccounts&&!p(y.trackAccounts)&&(y.trackAccounts=G.trackAccounts);G.trackUnknownPages&&!p(y.trackUnknownPages)&&(y.trackUnknownPages=G.trackUnknownPages);G.treatHashChangeAsPageLoad&&!p(y.treatHashChangeAsPageLoad)&&(y.treatHashChangeAsPageLoad=G.treatHashChangeAsPageLoad);G.siteConfigExecBeforePageReady&&!p(y.siteConfigExecBeforePageReady)&&(y.siteConfigExecBeforePageReady=G.siteConfigExecBeforePageReady);G.hideContentSectionsList&&!p(y.hideContentSectionsList)&&
(y.hideContentSectionsList=G.hideContentSectionsList);G.beaconConfig&&G.beaconConfig.hideContentSections&&!p(y.hideContentSections)&&(y.hideContentSections=G.beaconConfig.hideContentSections);G.beaconConfig&&G.beaconConfig.sendErrorEvents&&!p(y.sendErrorEvents)&&(y.sendErrorEvents=G.beaconConfig.sendErrorEvents);G.beaconConfig&&G.beaconConfig.hideContentSectionsMillis&&!p(y.hideContentSectionsMillis)&&(y.hideContentSectionsMillis=G.beaconConfig.hideContentSectionsMillis);G.beaconConfig&&G.beaconConfig.enableRememberMeUserIds&&
!p(y.enableRememberMeUserIds)&&(y.enableRememberMeUserIds=G.beaconConfig.enableRememberMeUserIds);G.beaconConfig&&G.beaconConfig.rememberMeUserIdsMillis&&(y.rememberMeUserIdsMillis=G.beaconConfig.rememberMeUserIdsMillis);G.beaconConfig&&!p(y.preventSensitiveDataCapture)&&(y.preventSensitiveDataCapture=G.beaconConfig.preventSensitiveDataCapture);G.beaconConfig&&!p(y.enableMessageRotation)&&(y.enableMessageRotation=G.beaconConfig.enableMessageRotation);G.beaconConfig&&!p(y.trackContextualRelatedItems)&&
(y.trackContextualRelatedItems=G.beaconConfig.trackContextualRelatedItems);G.beaconConfig&&!p(y.doNotTrackPingRequestsForActions)&&(y.doNotTrackPingRequestsForActions=G.beaconConfig.doNotTrackPingRequestsForActions);G.hidePageBeforeRedirectList&&!p(y.hidePageBeforeRedirectList)&&(y.hidePageBeforeRedirectList=G.hidePageBeforeRedirectList);G.beaconConfig&&G.beaconConfig.hidePagesForRedirect&&!p(y.hidePagesForRedirect)&&(y.hidePagesForRedirect=G.beaconConfig.hidePagesForRedirect);G.beaconConfig&&G.beaconConfig.hidePagesForRedirectMillis&&
!p(y.hidePagesForRedirectMillis)&&(y.hidePagesForRedirectMillis=G.beaconConfig.hidePagesForRedirectMillis);G.beaconConfig&&G.beaconConfig.disableQtipWindowScroll&&!p(y.disableQtipWindowScroll)&&(y.disableQtipWindowScroll=G.beaconConfig.disableQtipWindowScroll);G.googleAnalyticsIntegrationConfig&&G.googleAnalyticsIntegrationConfig.enabled&&!p(y.googleAnalyticsIntegrationConfig)&&(y.googleAnalyticsIntegrationConfig=G.googleAnalyticsIntegrationConfig);G.beaconConfig&&!p(y.doNotStoreCookiesRequireProvidedAnonId)&&
(y.doNotStoreCookiesRequireProvidedAnonId=G.beaconConfig.doNotStoreCookiesRequireProvidedAnonId);G.beaconConfig&&G.beaconConfig.actionRateLimiterConfig&&(y.actionRateLimiterConfig=G.beaconConfig.actionRateLimiterConfig);G.beaconConfig&&!p(y.enableTemplateEsc)&&(y.enableTemplateEsc=G.beaconConfig.enableTemplateEsc);Lf();ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Event responses are "+(Zd?"enabled":"disabled")+".");ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config: ",G)}function Of(a){ajq.log.shouldLog("INFO")&&
console.log("Evergage: Executing site config (updated\x3d"+!!a+")...");ajq.checkTrimNative();a&&Kf(a);ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Page Detected");a=oe(G.pages);ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Page Detected");ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Clicks Detected");nf=[];of=[];ajq(document).unbind("click",od);rg(G,a,!1);ajq.log.shouldTestPerf("MODERATE")&&console.timeEnd("Evergage: Clicks Detected");var b=[];null!=
G.globalForms&&(b=ajq.merge(b,G.globalForms));Ve=G.globalFields;a&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page detected ["+a.action+"]"),We=a.fields,null!=a.forms&&(b=ajq.merge(b,a.forms)));Gd();sg(b);var c=G.userIdAtLoginField,d=b;if(c&&c.match){var e=ba(c.match);if(0===e.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to detect the User Id via Login field with selector ["+c+"]");else if(2<=e.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the User Id via Login field with selector ["+
c+"], using first"),e=ajq(e.get(0).form).get(0)){for(var f=!1,g=0;g<d.length;g++)if(ba(d[g].match).get(0)==e){for(var f=!0,h=0;h<d[g].formFields.length;h++)"userId"==d[g].formFields[h].name&&(f=!0);d[g].formFields.push(c)}f||(e={},e.match=c.match,e.name=null,e.isUserIdAtLogin=!0,e.formFields=[],e.formFields.push(c),d.push(e))}}pd=b;tg(b);bh();!pe("company")&&G.beaconConfig&&!0===G.beaconConfig.trackSubdomainAsCompany&&(b=cb(gd),Pa("company",b.substring(0,b.indexOf(".")),Evergage.Scope.Page));return a}
function bh(){y.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not attempting to poll for missing clicks and fields while in phonegap."):("number"===typeof Lb&&clearInterval(Lb),Lb=setInterval(function(){var a=(new Date).getTime(),b=oe(G.pages,!0);rg(G,b,!0);tg(pd);50<(new Date).getTime()-a&&(clearInterval(Lb),Lb=null)},1E3))}function Gd(){y.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Field capturing is disabled when beacon is running within phonegap."):
null!=G&&(ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"),ug(Ve),ug(We),ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"))}function Be(a,b){if(!0!==eb){if(!Evergage.util.getParameterByName("simulate")){var c=Evergage.util.getParameterByName("evg_persisted_user_id");"string"===typeof c&&""!==c&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Setting user to persisted user ID from query parameter"),vg(),ff("_persistedUserId",c));var c=Evergage.util.getParameterByName("evg_anon_id"),
d=Oa().uuid;c!=d&&wg(c)&&Pa(".prevAnonId",d,Evergage.Scope.Request)}Q(window.evergageBeforeSiteConfigExecution)&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing site global JavaScript..."),window.evergageBeforeSiteConfigExecution());!0!==eb&&(B(window.evergageSiteWideStyles)&&""!==window.evergageSiteWideStyles&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Inserting site global CSS styles..."),c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style"),
d.type="text/css",d.setAttribute("class","evergageCampaignStyles"),d.styleSheet?d.styleSheet.cssText=window.evergageSiteWideStyles:d.appendChild(document.createTextNode(window.evergageSiteWideStyles)),c.appendChild(d),kd=df=!0),ajq.log.shouldTestPerf("BASIC")&&console.time("Evergage: Beacon Setup"),da(),c=Of(a),xg(c,b),ajq.log.shouldTestPerf("BASIC")&&console.timeEnd("Evergage: Beacon Setup"),Ue=!0)}}function Pf(){clearInterval(Gc);qd=0;Gc=setInterval(function(){try{qd++,60>=qd&&(vc||wc)?"object"===
typeof window.Evergage&&"function"===typeof window.Evergage.loadTimeValuesReadyToSend&&Evergage.loadTimeValuesReadyToSend()&&(ef(),clearInterval(Gc),qd=0):(clearInterval(Gc),qd=0)}catch(a){K(a,"setupLoadTimeInterval")}},y.loadTimeIntervalDelay)}function xg(a,b,c){R.canBeFiredYet=!0;b||(a&&(b=a.action),!b&&R.actionName&&(b=R.actionName),!b&&Ya&&(b=Ya),b||!0!==y.trackUnknownPages||(b=nb(Fa())));a={};Ya&&Aa&&(a[".itemAction"]=Ya,a[".item"]=evergageJSON.stringify(Aa),qc&&(a[".itemSku"]=evergageJSON.stringify(qc)));
yg(b);try{if(vc){var d=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd");0<d&&(a[".dt"]=d,vc=!1)}if(wc){var e=Evergage.getTimeSincePageInitForVariable("loadEventEnd");0<e&&(a[".lt"]=e,wc=!1)}if("number"===typeof window.evergageBeaconParseTimeStart&&"number"===typeof window.evergageBeaconParseTimeEnd){var f=window.evergageBeaconParseTimeEnd-window.evergageBeaconParseTimeStart;ajq.log.shouldTestPerf("MODERATE")&&console.log("Evergage: Beacon Parse Time"+f);"number"===typeof f&&(a[".pt"]=
f)}if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries)for(var g=window.performance.getEntries(),d=0;d<g.length;d++){var h=g[d];if(/\/evergage(Small)?(\.min)?\.js$/.test(h.name)){ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: Beacon Network Load Time "+h.duration+"ms");var k=Math.round(h.duration);0<k&&(a[".bt"]=k);var m=Math.round(h.domainLookupEnd-h.domainLookupStart);0<m&&(a[".btdns"]=m)}}}catch(n){}!0===c||qe(a,!1)?(ajq.log.shouldTestPerf("RIGOROUS")&&
console.time("Evergage: Send Event"),a[".pv"]="",R.eventSendInProcess=!0,zg(a),Ia(b,a),R.eventSendInProcess=!1,R.hasBeenFired=!0,R.actionName=null,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):R.actionName=b}function ef(){rd();v()}function yg(a){y.doNotTrackPingRequestsForActions||(rd(!0),null!=a&&""!==a&&(vb=a),v())}function Ag(){return!0===R.hasBeenFired?!1:R.waitingOn.promoteCallback=!0}function vh(a){-1!==R.storedTimeout?ajq.log.shouldLog("WARN")&&console.log("Evergage: A delayed page load event timeout has already been setup."):
R.storedTimeout=window.setTimeout(function(){Bg(a)},R.timeoutDuration)}function pf(a){hf();qe(null,!1)&&(R.hasBeenFired?ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."):!0!==a&&Cg())}function hf(){window.clearTimeout(R.storedTimeout);R.storedTimeout=-1;R.timeoutDuration=100;R.timerStart=0;R.maxTimeout=0;R.waitingOn.promoteCallback=!1}function Dg(a,b){var c=!1;try{c=a.apply(this,b?[!0]:[])}catch(d){K(d,"invokeDataCollectionFunction"),c=!0}return c}function Bg(a,
b){var c=(new Date).getTime();!0===Dg(a,!1)?pf(b):(new Date).getTime()-R.timerStart>=R.maxTimeout?(ajq.log.shouldLog("INFO")&&console.log("The delayed page load event never returned true by the time the ["+R.maxTimeout+"ms] max timeout was hit.  Sending the page load action now.."),Dg(a,!0),pf(b)):(c=(new Date).getTime()-c,250<=c?(ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took too long ["+c+"ms], so we will not be attempting to call it again."),pf(b)):(ajq.log.shouldLog("TRACE")&&
console.log("The delayed page load event function took ["+c+"ms]."),window.clearTimeout(R.storedTimeout),R.storedTimeout=-1,c>R.timeoutDuration/3&&(R.timeoutDuration=4*c,ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took ["+c+"ms], so we will be increasing the timeout duration to ["+R.timeoutDuration+"ms].")),vh(a)))}function qe(a,b){var c;if(c=Yd(a,b))a:{for(var d in R.waitingOn)if(R.waitingOn.hasOwnProperty(d)&&!0===R.waitingOn[d]){c=!1;break a}c=!0}return c&&!0===
R.canBeFiredYet}function Yd(a,b){R.waitingOn.credentials=!1;var c=a;if(null==c||!0!==b)c=Hb([],c);"number"===typeof c.length&&(c=Xc(c));if(c.hasOwnProperty("userId")||c.hasOwnProperty("_persistedUserId")||c.hasOwnProperty(".anonId"))!y.trackAccounts||c.hasOwnProperty("company")||c.hasOwnProperty("_persistedAccountId")||c.hasOwnProperty("_anon");else return ajq.log.shouldLog("WARN")&&console.log("Evergage: [WARNING] Ignoring attempt to send event with no user ID. ",Xc(a)),R.waitingOn.credentials=!0,
!1;return!0}function rg(a,b,c){y.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Click tracking is disabled when beacon is running within phonegap."):(Eg(a.globalPageActions,c),b&&Eg(b.pageActions,c))}function Eg(a,b){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=b;if(!V(d.match)){var f=ba(d.match);0===f.length&&!0!==e&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Unable to find page action ["+d.name+"] target ["+d.match+"], may be added later");d={action:d.name,hasBeenHandledByEvergage:!1};
if(0<f.size())for(var g=0;g<f.length;g++)!0!==ajq.data(f.get(g),"evergageClickInstrumented")&&(!0!==e&&ajq(f.get(g)).off("click",od),ajq(f.get(g)).on("click",d,od),ajq.data(f.get(g),"evergageClickInstrumented",!0),nf.push(f.get(g)))}}}function ba(a){try{return ajq(a)}catch(b){return-1!==b.message.indexOf("Syntax error, unrecognized expression:")?(K(b,"jQueryObjectSyntaxError"),ajq.log.shouldLog("WARN")&&console.log('Evergage: There was an error parsing the expression: "'+a+'".')):K(b,"jQueryObjectUnknownError"),
ajq()}}function eg(){var a=window,b=bb;a.removeEventListener?a.removeEventListener("beforeunload",b,!1):a.detachEvent&&a.detachEvent("onbeforeunload",b);ajq(window).unbind("blur.evergage",F);ajq(window).unbind("focus.evergage",z);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",ca);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Fe);ajq(window).unbind("scroll.evergage resize.evergage",ka);Xe();ag();wh()}function ag(){for(var a=
0;a<je.length;a++)clearTimeout(je[a]);je=[];"number"===typeof Lb&&clearInterval(Lb);Lb=null;clearTimeout(yb);yb=-1;clearInterval(Gc);Gc=-1}function wh(){clearTimeout(window.evergageReshowPersonalizedSectionsTimeout);window.evergageReshowPersonalizedSectionsTimeout=-1;clearTimeout(Za);Za=-1;clearTimeout(Sd);Sd=-1;re(nd);C(Jb,function(a,b){clearTimeout(b.timeout);delete Jb[a]});hf();re(qf);re(rf);re($e);clearTimeout(Hc);Hc=-1;for(var a=0;a<se;a++)clearTimeout(se[a]);se=[];for(a=0;a<te;a++)clearInterval(te[a]);
te=[];clearInterval(Kb);Kb=-1;ajq(window).unbind("hashchange",Tb);clearInterval(sd);sd=-1}function re(a){C(a,function(b,c){clearTimeout(c);delete a[b]})}function Xe(){ajq(document).unbind("click",od);ajq.each(nf,function(a,b){ba(b).off("click",od);ajq.removeData(ba(b)[0],"evergageClickInstrumented")});ajq.each(of,function(a,b){ba(b.match).off("submit",sf)});ajq.each(qg,function(a,b){ba(b).unbind("click",Ee)});ajq.each(pg,function(a,b){ba(b).unbind("mouseenter",Ce);ba(b).unbind("mouseleave",De)});
ajq.each(kg,function(a,b){ba(b).off("click.evergagePageChangeClickthrough")})}function od(a){try{"#document"!=a.delegateTarget.nodeName||null!==a.data&&!0!==a.data.hasBeenHandledByEvergage?(ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Click Event Sent"),ajq.log.shouldLog("INFO")&&console.log("Evergage: Detected page action click ["+a.data.action+"]"),Ia(a.data.action,{},!0),a.data.hasBeenHandledByEvergage=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Click Event Sent")):
a.data.hasBeenHandledByEvergage=!1}catch(b){K(b,"handlePageActionClick")}}function sg(a){for(var b=0;b<a.length;b++)for(var c=0;c<a.length;c++)p(ba(a[b].match).get(0))&&ba(a[b].match).get(0)==ba(a[c].match).get(0)&&b!=c&&(null!=a[c].formFields&&0<a[c].formFields.length&&(a[b].formFields=ajq.merge(a[b].formFields,a[c].formFields)),a.splice(c,1),c--,b>c&&b--)}function tf(a){for(var b=0;b<a.formFields.length;b++){var c=Fg(a,a.formFields[b]);c&&("userId"==a.formFields[b].name||"company"==a.formFields[b].name?
(Mb(a.formFields[b].name,c),fb()):Pa(a.formFields[b].name,c,Evergage.Scope.Request))}}function Gg(a,b,c){r(b)||(b={});Ia(a,b,!1,!0);P(c)&&(clearTimeout(Vd),Vd=setTimeout(function(){ajq.evgjStorage.deleteKey(ra(X.storedRequests.ids.FormSubmitRequests))},c))}function sf(a){try{var b=a.data[0],c=a.data[1];tf(c);c.name&&Ia(c.name,{},!1,!0);Q(b.get(0).originalOnsubmitForEvergageFormFieldTracking)&&b.get(0).originalOnsubmitForEvergageFormFieldTracking();var d=$d(5);qf[d]=setTimeout(function(){a.isDefaultPrevented()&&
ajq.evgjStorage.deleteKey(ra(X.storedRequests.ids.FormSubmitRequests));delete qf[d]},1E3)}catch(e){K(e,"handleFormSubmit")}}function xh(a){var b=[];a=ajq(a).find("input[id^\x3d'eg_'][type\x3d'checkbox']:not(:checked)");for(var c=0;c<a.length;c++)"string"===typeof ajq(a[c]).attr("id")&&ajq(a[c]).attr("id").match(/eg_.*_\w{5}/)&&ajq(a[c]).attr("name")&&b.push({name:ajq(a[c]).attr("name"),value:"off"});return b}function tg(a){for(var b=0;b<a.length;b++){var c=a[b],d=ba(c.match);!0===c.isUserIdAtLogin&&
(d=d.parents("form"));if(0===d.length)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect the form with selector ["+c.match+"] used to track form fields.");else if(2<=d.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the form with selector ["+c.match+"], using first."),!0!==ajq.data(d.get(0),"evergageFormInstrumented")){d.get(0).originalOnsubmitForEvergageFormFieldTracking||(d.get(0).originalOnsubmitForEvergageFormFieldTracking=d.get(0).onsubmit);
var e=d;e.off("submit",sf);e.on("submit",[e,c],sf);of.push(c);ajq.data(d.get(0),"evergageFormInstrumented",!0)}}}function ug(a){if(a)for(var b=0;b<a.length;b++){var c=Hg(a[b]);if(c){var d=a[b].sendOncePerPage?Evergage.Scope.Request:Evergage.Scope.Page;"userId"==a[b].name||"company"==a[b].name?Mb(a[b].name,c)&&(a.splice(b,1),fb()):Pa(a[b].name,c,d)&&d===Evergage.Scope.Request&&(a.splice(b,1),b--)}}}function Fg(a,b){var c=ajq.extend(!0,{},b);!0!==a.isUserIdAtLogin&&(c.match=a.match+" "+b.match);return Hg(c)}
function Hg(a){var b=ba(a.match);if(0===b.length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect property ["+a.name+"] with selector ["+a.match+"]"),null;1<b.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for property ["+a.name+"] with selector ["+a.match+"], using first");var c=b[0].tagName.toLowerCase(),d="";if(-1!=ajq.inArray(c,["input","select","textarea"])){if("input"==c&&("radio"==b[0].type||"checkbox"==b[0].type)&&(b=b.filter(":checked"),
0===b.length))return null;d=b.val();d instanceof Array&&(d=d.toString());if("input"==c&&"password"==b[0].type)return null}else d=b.text();d=ajq.trim(d);if(a.expression&&(a=uf(a.expression,d))&&1<a.length)for(d="",b=1;b<a.length;b++)d+=a[b];return ajq.trim(d).substring(0,1024)}function oe(a,b){var c=null;a&&ajq.each(a,function(a,b){var d;if(d=!b.matchType||"url"==b.matchType)d=window.location.protocol+"//"+window.location.host,d=qa().substring(d.length),d=b.urlRegex&&uf(b.urlRegex,d,b.ignoreCaseForRegexMatch)&&
Ig(b,cb(window.location.hostname))?!0:!1;if(d)return c=b,!1;if(d="title"==b.matchType)d=ajq.trim(document.title).replace(/\s{2,}/g," "),d=b.titleRegex&&uf(b.titleRegex,d,b.ignoreCaseForRegexMatch)&&Ig(b,cb(window.location.hostname))?!0:!1;if(d)return c=b,!1});c?ajq.log.shouldLog("INFO")&&!0!==b&&console.log("Evergage: Page mapped to action ["+c.action+"] (matched via "+c.matchType+")."):c=yh(a,R.actionName);return c}function yh(a,b){if(null===b||""===b)return null;var c;a&&ajq.each(a,function(a,d){if(d.action===
b)return c=d,!1});c&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Page mapped to action ["+b+"] manually.");return c}function uf(a,b,c){try{return!0===c?b.match(new RegExp(a,"i")):b.match(new RegExp(a))}catch(d){return K(d,"matchWithRegexp"),!1}}function Ig(a,b){if(!0!==a.domainMatchRequired)return!0;if(!a.domainsMatched)return!1;for(var c=0;c<a.domainsMatched.length;c++)if(a.domainsMatched[c]==b)return!0;return!1}function pa(a){return"message{id\x3d"+a.id+', experience\x3d"'+(a.experienceName||
"")+'", campaign\x3d"'+(a.campaignName||"")+'"}'}function af(a){return'experience\x3d"'+(a.experienceName||"")+'", campaign\x3d"'+(a.campaignName||"")+'"}'}function hg(a){var b={};zh(b,a);if(y.notifyIntegratorOfEvents&&!0===y.notifyIntegratorOfEvents){0===ajq("#dataToSendToEvergageIntegratorDiv").length&&(a=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","dataToSendToEvergageIntegratorDiv").css("display","none"),ajq("body").append(a));a={actionType:"apptegicEvent",eventDetails:b};var c=document.createEvent("CustomEvent");
c.initCustomEvent("dataToEvergageIntegrator",!0,!0,a);document.getElementById("dataToSendToEvergageIntegratorDiv").dispatchEvent(c)}ajq.log.shouldLog("INFO")&&console.log("Evergage: Event sent to server: ",b)}function zh(a,b){b&&ajq.each(b,function(b,c){c.hasOwnProperty("name")&&c.hasOwnProperty("value")&&(a[c.name]=c.value)})}function th(a,b){var c=null;a&&ajq.each(a,function(a,d){d.hasOwnProperty("name")&&d.hasOwnProperty("value")&&d.name===b&&(c=d.value)});return c}function Ah(a){var b=document.head||
document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.setAttribute("class","evergageRedirectedPageHidden");c.styleSheet?c.styleSheet.cssText="body, html { visibility: hidden !important; }":c.appendChild(document.createTextNode("body, html { visibility: hidden !important; }"));a=P(a)?a:1E3;clearTimeout(Hc);Hc=setTimeout(function(){Ud()},a);b.appendChild(c);gf=!0;ajq.log.shouldLog("INFO")&&console.log("Evergage: Hiding page for possible redirect campaigns.")}
function Ud(){try{!0===lg?ajq.log.shouldLog("INFO")&&console.log("Evergage: Now Redisplaying page marked for redirect because we are in the middle of a redirect"):(ajq("head \x3e style.evergageRedirectedPageHidden").remove(),clearTimeout(Hc),Hc=-1,ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying page marked for redirect."))}catch(a){K(a,"reshowHiddenPageForRedirectNow")}}function Bh(a,b,c,d){var e={exists:!1,matched:!1};if(ajq.isArray(c)&&0<c.length){var f=a.toUpperCase();e.exists=!0;
ajq.each(c,function(b,c){e.matched=d?-1<f.indexOf(c.toUpperCase()):-1<a.indexOf(c);if(e.matched)return!1})}b.exclusions=e}function Ch(a,b,c,d){var e={exists:!1,matched:!1};if(ajq.isArray(c)&&0<c.length){e.exists=!0;var f=a.toUpperCase();ajq.each(c,function(b,c){e.matched=d?-1<f.indexOf(c.toUpperCase()):-1<a.indexOf(c);if(e.matched)return!1})}b.inclusions=e}function Dh(a){var b;if(window.location==window.top.location)b=window.location.href;else{try{b=window.top.location.href}catch(c){b=null}b||(b=
document.referrer)}var d={},e=a.ignoreCase;ajq.each(a,function(a,c){switch(a){case "inclusionUrlSubstrings":Ch(b,d,c,e);break;case "exclusionUrlSubstrings":Bh(b,d,c,e);break;case "pathIsExactly":var l={exists:!1,matched:!1},f=Evergage.util.getPathname(b);if(c&&"string"===typeof c){var g=f.toUpperCase();l.exists=!0;l.matched=e?g===c.toUpperCase():f===c}d.pathIsExactly=l}});return d}function Ub(){try{"function"===typeof window.requestAnimationFrame?(ajq.log.shouldLog("INFO")&&console.log("Evergage: Scheduling for next animation frame redisplay of sections of the page marked for personalization."),
window.requestAnimationFrame(fd)):fd(),Ud()}catch(a){K(a,"reshowPersonalizedSections")}}function fd(){try{ajq("head \x3e style.evergagePersonalizationSections").remove(),ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying sections of the page marked for personalization.")}catch(a){K(a,"reshowPersonalizedSectionsNow")}}function bg(a){var b=ya(X.sessionSettings.ids.LastTrackerUrl);B(b)&&0<b.length&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Restore TrackerURL for stored requests: ",
b),sa=b,ajq.evgjStorage.deleteKey(ra(X.sessionSettings.ids.LastTrackerUrl)));!0!==a&&vf(X.storedRequests.ids.DelayedClick,"click");vf(X.storedRequests.ids.FormSubmitRequests,"form submit");gg();a=ya(X.storedRequests.ids.StoredPingRequest);p(a)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed ping request from previous page..."),Ic=a.params)}function gg(){vf(X.storedRequests.ids.StoredCampaignStat,"campaign stat","/msreceiver")}function zg(a){var b;null!=Ic&&"object"===typeof Ic&&
"number"===typeof Ic.length&&(b=Xc(Ic),null!=a[".pnp_top"]||null==b||null==b[".top"]||null==b.action&&!b[".item"]||(b._ak==la&&b._ds==za&&(delete a[".pnp_action"],delete a[".pnp_item"],a[".pnp_top"]=b[".top"],null!=b.action&&(a[".pnp_action"]=b.action),null!=b[".item"]&&(a[".pnp_item"]=b[".item"])),Ic=null,ajq.evgjStorage.deleteKey(ra(X.storedRequests.ids.StoredPingRequest))))}function vf(a,b,c){var d=ya(a);if(p(d)){if(void 0!==d.length)for(var e=0;e<d.length;e++)Jg(d[e],b,c);else Jg(d,b,c);ajq.evgjStorage.deleteKey(ra(a))}}
function Jg(a,b,c){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed "+b+" action from previous page...");B(c)?Gb(a.params,c):vd(a.params,!1,a.currentPageUrl,a.requestId)}function wf(a,b){b=p(b)?b.toLowerCase():Evergage.Scope.Visit;return b!==Evergage.Scope.Visit&&b!==Evergage.Scope.Page&&b!==Evergage.Scope.Request?(ajq.log.shouldLog("WARN")&&console.log("Evergage: ["+b+"] is not a valid scope.  Field ["+a+"] not set."),!1):b}function pe(a,b){b=wf(a,b);var c;-1!==ajq.inArray(a,Kg)?
c=U[a]:b===Evergage.Scope.Page?c=xc[a]:b===Evergage.Scope.Visit?c=ta[a]:b===Evergage.Scope.Request&&(c=Xb[a]);return!ua(c)||c&&""===c[0]?!1:c}function Ze(a,b){b=wf(a,b);p(pe(a,b))&&(-1!==ajq.inArray(a,Kg)?(Nb(),Mb(a,null),delete ta[a],fb()):b===Evergage.Scope.Visit?(Nb(),delete ta[a],Cb()):b===Evergage.Scope.Page?delete xc[a]:b===Evergage.Scope.Request&&delete Xb[a])}function Mb(a,b){Nb();if("userId"===a){var c=Lg("userId","_userIdHashSalt","_userIdHash","_persistedUserId",b);if(!c)return!1}else if("company"===
a&&(c=Lg("company","_accountIdHashSalt","_accountIdHash","_persistedAccountId",b),!c))return!1;!0!==R.eventSendInProcess&&qe(null,!1)&&Cg();return!0}function ff(a,b){"_persistedUserId"===a?(U._persistedUserId=b,delete U.userId,fb()):"_persistedAccountId"===a&&(U._persistedAccountId=b,delete U.company,fb())}function Mg(a,b){p(b)||(b="");B(b)||(b=String(b));var c=ajq.trim(b.slice(0,1024));ajq.log.shouldLog("TRACE")&&console.log('Evergage: Setting custom field "'+a+'" to "'+c+'"...');return y.preventSensitiveDataCapture&&
zd(c)?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Not setting custom field ["+a+"] as it appears to contain sensitive data."),!1):b}function Pa(a,b,c,d){if("userId"===a||"company"===a)return Mb(a,b);if(-1!==ajq.inArray(a,"_persistedUserId _userIdHash _userIdHashSalt _persistedAccountId _accountIdHash _accountIdHashSalt".split(" ")))return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not Setting field name ["+a+"] as it is unsupported.  That field name is reserved."),!1;if("user"===a||
"account"===a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Setting field name ["+a+"] is unsupported.  That field name is reserved."),!1;b=Mg(a,b);if(!1===b)return!1;c=wf(a,c);if(!1===c)return!1;d=!1;c===Evergage.Scope.Visit?(ajq.log.shouldLog("INFO")&&console.log('Evergage: Setting custom fields with scope "visit" is deprecated - use scope "request" or "page" for var "'+a+'" instead.'),Nb(),ta[a]=b,d=!0,Cb()):c===Evergage.Scope.Page?(xc[a]=b,d=!0):c===Evergage.Scope.Request&&(Xb[a]=b,
d=!0);return d}function Cg(){if(1!=R.hasBeenFired){var a=null;G&&(a=oe(G.pages));xg(a,null,!0)}}function Lg(a,b,c,d,e){e=Mg(a,e);if(!e)return!1;if(""===e)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+name+"] to an empty value."),!1;for(var f=0;f<xf.length;f++)if(e===xf[f])return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+name+"] to an invalid value of ["+xf[f]+"]"),!1;if(U[d]&&U[c]&&U[b]&&(f=U[b],f=m(f+e),f===U[c]))return ajq.log.shouldLog("DEBUG")&&
console.log('Evergage: Not storing "'+a+'" variable, since a persisted entity ID is already stored for the same entity.'),!0;delete U[d];U[a]=e;f=m($d());U[b]=f;f=m(f+e);U[c]=f;fb();return!0}function fb(){var a=X.identity.timeoutMillis;h();y.enableRememberMeUserIds&&(a=y.rememberMeUserIdsMillis);var b={},c=!1;null!=U._persistedUserId&&"string"===typeof U._persistedUserId&&""!==U._persistedUserId&&(b.puid=U._persistedUserId,c=!0);null!=U._persistedAccountId&&"string"===typeof U._persistedAccountId&&
""!==U._persistedAccountId&&(b.paid=U._persistedAccountId,c=!0);c?u(wa("n"),b,a):aa(wa("n"));a={};b="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" ");for(c=0;c<b.length;c++){var d=U[b[c]];null!=d&&"string"===typeof d&&""!==d&&(a[b[c]]=d)}ajq.isEmptyObject(a)?ajq.evgjStorage.deleteKey(ra(X.identity.ids.RelatedIdentityFields)):(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Saving identity related fields to localStorage."),ma(X.identity.ids.RelatedIdentityFields,
a))}function $d(a){var b=Math.random().toString(36).substr(2);return"number"===typeof a&&0<a&&a<b.length?b.substring(0,a):b}function Ng(a){a&&ajq.each(a,function(b,c){a.hasOwnProperty(b)&&(p(c)?y[b]=c:y[b]=yf[b])})}function uc(a,b){for(var c={},d=0;d<b.length;d++){var e=b[d];"undefined"!==typeof a[e]&&(c[e]=a[e])}return c}function td(a){a=uc(a,["_id","type","price","currency","categories"]);if(ajq.isArray(a.categories)){for(var b=[],c=0;c<a.categories.length;c++)b[c]=uc(a.categories[c],["_id","type"]);
a.categories=b}return a}function Og(a){a=ajq.extend({},a);a.item&&(a.item=td(a.item));return a}function Eh(a){var b=ajq.extend({},a);if(ajq.isArray(a.lineItems)){b.lineItems=[];for(var c=0;c<a.lineItems.length;c++){var d=Og(a.lineItems[c]);b.lineItems.push(d)}}return b}function rd(a){-1!==yb&&(L(!1,a),clearTimeout(yb),yb=-1)}function ja(a,b,c,d){try{var e=b,f="timeout"===c||"interval"===c,g=c;"function"===typeof b&&(e=void 0,g=b);var h="Click";"string"===typeof d&&0<d.length&&(h=d.substring(0,1).toUpperCase()+
d.substring(1));if(f){d=c;if(!P(a))return ajq.log.shouldLog("WARN")&&console.log("Evergage: The second argument to Evergage.safe"+h+" should be of type number."),null;if(0>typeof a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: The time parameter must be a non negative number."),null}else if("string"!==typeof a&&(null==a||"object"!==typeof a))return ajq.log.shouldLog("WARN")&&console.log("Evergage: The first argument to Evergage.safe"+h+" should be of type string or a dom node."),null;if("function"!==
typeof g)return a=f?"first":"second",ajq.log.shouldLog("WARN")&&console.log("Evergage: The "+a+" argument to Evergage.safe"+h+" should be of type function."),null;b=function(){try{eb||g.apply(this,arguments)}catch(a){K(a,"safeClickFunction_"+h)}};if("timeout"===d){var k=window.setTimeout(b,a);se.push(k);return k}if("interval"===d){var m=window.setInterval(b,a);te.push(m);return m}return"undefined"===typeof e?ba(a).bind(d,b):ba(a).bind(d,e,b)}catch(n){return K(n,"safeBind"),null}}function vg(){U&&
(delete U.userId,delete U._userIdHash,delete U._userIdHashSalt,delete U._persistedUserId,fb());Pg()}function Pg(){U&&(delete U.company,delete U._accountIdHash,delete U._accountIdHashSalt,delete U._persistedAccountId,fb())}function wg(a){if(B(a)&&/^[-_0-9a-zA-Z]{8,48}$/.exec(a)){var b=Oa();b.uuid=a.toLowerCase();ob(b);return!0}ajq.log.shouldLog("WARN")&&console.log("Evergage: anonymousId must be between 8 and 40 lowercase alphanumeric characters or hyphens.");return!1}function zf(a){if(!a)return"";
a=a.pathname;null!=a&&"/"!=a.charAt(0)&&(a="/"+a);return a}function Qg(a){if(!a)return"";var b=document.createElement("a");b.href=a;return zf(b)}function Rg(a,b){var c=a.exec(b);return c&&2===c.length?c[1]:null}function Sg(a){return Rg(/[/]?([^/]*)[/]?$/,Qg(a))}function Tg(a){if("string"!==typeof a||""===ajq.trim(a))return null;var b=document.createElement("a");b.href=a;return b.href}function Ug(a,b){var c,d,e,f,g,h,k,m,n,p,q,r=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&
this[b]===a)return b;return-1};e=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[13,14,15,16,17,18,
19]},{name:"mastercard",pattern:/^(5[1-5]|2[3-6]|22[3-9]|222[1-9]|27[0-1]|2720)/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]},{name:"dankort",pattern:/^5019/,valid_length:[16]},{name:"uatp",pattern:/^1/,valid_length:[15]}];null==b&&(b={});null==b.accept&&(b.accept=function(){var a,b,d;d=[];a=0;for(b=
e.length;a<b;a++)c=e[a],d.push(c.name);return d}());q=b.accept;n=0;for(p=q.length;n<p;n++)if(d=q[n],0>r.call(function(){var a,b,d;d=[];a=0;for(b=e.length;a<b;a++)c=e[a],d.push(c.name);return d}(),d))throw"Credit card type '"+d+"' is not supported";f=function(a){var l,f,g,h;h=[];l=0;for(f=e.length;l<f;l++)c=e[l],(g=c.name,0<=r.call(b.accept,g))&&h.push(c);l=0;for(f=h.length;l<f;l++)if(d=h[l],a.match(d.pattern))return d;return null};h=function(a){var b,c,d,e,l;c=0;l=a.split("").reverse();b=d=0;for(e=
l.length;d<e;b=++d)a=l[b],a=+a,b%2?(a*=2,c=10>a?c+a:c+(a-9)):c+=a;return 0===c%10};g=function(a,b){var c;return c=a.length,0<=r.call(b.valid_length,c)};m=function(a){var b,c;d=f(a);b=c=!1;null!=d&&(c=h(a),b=g(a,d));return{card_type:d,luhn_valid:c,length_valid:b}};k=function(a){return a.replace(/[ -]/g,"")};return function(){var b;b=k(a);return m(b)}(a)}if("undefined"===typeof ajq)return null;var X={anonymousId:{cookieId:"a",timeoutMillis:63072E6,ids:{}},identity:{cookieId:"n",timeoutMillis:18E5,ids:{RelatedIdentityFields:"relatedIdentityFields"}},
session:{timeoutMillis:18E5,ids:{CustomFields:"customFields",UserInfo:"userInfo",SessionTicket:"sessionTicket"}},sessionSettings:{timeoutMillis:18E5,ids:{TestMessages:"testMessages",LoggingLevel:"evergageLoggingLevel",PerfLoggingLevel:"evergagePerfLoggingLevel",ClientIp:"evergageClientIp",LastTrackerUrl:"lastTrackerUrl"}},storedRequests:{timeoutMillis:3E4,ids:{DelayedClick:"delayedClickRequest",FormSubmitRequests:"formSubmitRequests",StoredPingRequest:"storedPingRequest",StoredCampaignStat:"storedCampaignStat"}},
messageRotation:{timeoutMillis:3E4,ids:{MessageQueue:"messageQueue"}}},xf=["null","undefined","false","0","[object Object]"],id=["userId","_persistedUserId","_userIdHashSalt","_userIdHash"],jd=["company","_persistedAccountId","_accountIdHashSalt","_accountIdHash"],Kg=id.concat(jd),ph="ac ad ae af ag ai al am an ao aq ar as at au aw ax az ba bb bd be bf bg bh bi bj bm bn bo bq br bs bt bv bw by bz ca cc cd cf cg ch ci ck cl cm cn co cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh er es et eu fi fj fk fm fo fr ga gb gd ge gf gg gh gi gl gm gn gp gq gr gs gt gu gw gy hk hm hn hr ht hu id ie il im in io iq ir is it je jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md me mg mh mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nc ne nf ng ni nl no np nr nu nz om pa pe pf pg ph pk pl pm pn pr ps pt pw py qa re ro rs ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr ss st su sv sx sy sz tc td tf tg th tj tk tl tm tn to tp tr tt tv tw tz ua ug uk us uy uz va vc ve vg vi vn vu wf ws ye yt za zm zw cw".split(" "),
Vg="",Vg="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",yf={referrerUrl:"",useSiteConfig:!0,trackAnonymous:null,trackAccounts:null,trackUnknownPages:null,trackMessageStats:!0,notifyIntegratorOfEvents:!1,treatHashChangeAsPageLoad:null,siteConfigExecBeforePageReady:null,preventSensitiveDataCapture:null,requestMethod:null,
pageUrl:null,pageTitle:null,downloadExtensions:Vg,hostsAlias:[gd],ignoreClasses:[],downloadClasses:[],linkClasses:[],trackerDelay:500,discardHashTag:!1,customFields:{},cookieDomain:null,cookiePath:null,doNotTrack:!1,timeOnPageTimer:6E4,hideContentSectionsList:null,hideContentSections:null,hideContentSectionsMillis:null,enableRememberMeUserIds:null,rememberMeUserIdsMillis:63072E6,enableMessageRotation:null,trackContextualRelatedItems:null,doNotTrackPingRequestsForActions:null,runningInMobileApp:!1,
trafficSourceIndex:null,testModeEnabledForPageLoad:null,disableCampaignStatTracking:!1,hidePageBeforeRedirectList:null,hidePagesForRedirect:null,hidePagesForRedirectMillis:null,disableQtipWindowScroll:null,doNotStoreCookiesRequireProvidedAnonId:null,googleAnalyticsIntegrationConfig:null,minimumActivityTimeToRegister:300,loadTimeIntervalDelay:1E3,actionRateLimiterConfig:{globalLimit:10,globalTimeRange:2E3,perActionLimit:5,perActionTimeRange:5E3},enableTemplateEsc:null},nh=/Googlebot|Mediapartners-Google|Web Preview|bot|Applebot|spider|crawler|Feedfetcher|Slurp|Twiceler|Nutch|BecomeBot|bingbot|BingPreview|Google Web Preview|WordPress.com mShots|Seznam|facebookexternalhit|YandexMarket|Teoma|ThumbSniper|Phantom|Easy-Thumb/i,
uh={AUD:{symbol:"A$",decimals:2},BRL:{symbol:"R$",decimals:2},CAD:{symbol:"CA$",decimals:2},CLP:{symbol:"$"},CNY:{symbol:"CN??",decimals:2},DKK:{symbol:"Kr",decimals:2},EUR:{symbol:"???",decimals:2},GBP:{symbol:"??",decimals:2},HKD:{symbol:"HK$",decimals:2},INR:{symbol:"???",decimals:2},ILS:{symbol:"???",decimals:2},JPY:{symbol:"??"},KRW:{symbol:"???"},MXN:{symbol:"MX$",decimals:2},NZD:{symbol:"NZ$",decimals:2},OMR:{decimals:3},PHP:{symbol:"Php",decimals:2},TWD:{symbol:"NT$",decimals:2},USD:{symbol:"$",
decimals:2},VND:{symbol:"???",decimals:2}},ge={Experience:"e",Message:"m"},hb={Impression:"i",Clickthrough:"c",Dismissal:"d"},Va={ComponentType:"type",ComponentId:"id",ExperienceId:"eid",StatType:"stat",UserGroup:"ug",PromotedItemKeys:"piks",ClickthroughUrl:"href"},Ka={Default:"Default",Control:"Control"},ae={Category:"c",Product:"p",Article:"a",Blog:"b",Tag:"t"},y=function(){var a={};ajq.each(yf,function(b,c){yf.hasOwnProperty(b)&&(a[b]=c)});return a}(),cg=!1,Ue=!1,Te=!1,la=null,za=null,sa=null,
rc=null,Wd,dg=!1,Af=function(a,b,c){if("translate.google.com"===a)""===c&&(c=b),b=J(b,"u"),a=E(b).host;else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=document.links[0].href,a=E(b).host;return[a,b,c]}(window.location.hostname,window.location.href,document.referrer),gd=Xa(Af[0]),Fh=Af[1],rh=Af[2],Zd=!0,jf=!1,fg="https"===window.location.protocol,U=!1,ta=!1,xc={},Xb={},ee=null,tc={},qh={},he,ie,de="",ce="",La=!1,kd=!1,df=!1,ld={},kf={},Da={},ib={},Bb={},me=
{},$a={},zb={},Dc={},le={},$b={},qg=[],pg=[],Wa={},Cc={},ne=-1,Fc=-1,Bc=[],yc=0,Ab={},gf=!1,ke=!1,Ac=-1,wb=[],Vb={},Td=0,sc=!1,Xd=[],bf=!1,cf={},lg=!1,md=[],Gh=1==(window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.NumberFormat),Bf;a:{try{(0).toLocaleString("i")}catch(l){Bf="RangeError"===l.name;break a}Bf=!1}var lf={toLocaleStringSupportsOptions:Gh,toLocaleStringSupportsLocales:Bf},G=window.evergageSiteConfig||{},pc=!1,Kb=-1,nf=[],of=[],kg=[],mf=!1,nd={},qf={},rf={},$e={},
se=[],te=[],mg=location.href,je=[],Zf=!1,eb=!1,Ve=[],We=[],Lb,pd=[],na=-1,Ja=-1,yb=-1,Za=-1,ed=-1,Ic=null,Vd=-1,Aa=null,qc=null,vb=null,dd=0,Ya=null,fe=null,xb=!1,Hc=-1,ig=0,Wb=null,Ib=!1,Jb={},Sd=-1,Qd=!1,gb={},jg=!1,Zb=[],Yb=[],Ec=[],zc=[],Ye=!0,vc=!0,wc=!0,Gc=-1,qd=0,sd=-1,hd=0,be=0,og=null,R={maxTimeout:0,timerStart:0,storedTimeout:-1,timeoutDuration:100,waitingOn:{credentials:!1,promoteCallback:!1},hasBeenFired:!1,actionName:null,eventSendInProcess:!1,canBeFiredYet:!1};ea(window,"beforeunload",
bb,!1);try{ajq(window).bind("hashchange",Tb),-1!==sd&&clearInterval(sd),sd=setInterval(Tb,500)}catch(l){K(l,"registerHashChangeEventListener")}Lf();var Rd=function(a){function b(e){"function"!==typeof a.ga||"function"!==typeof a.ga.getAll?(q.push(e),-1===r&&(r=Evergage.safeTimeout(c,200))):(d(),ga(e))}function c(){if("function"===typeof a.ga&&"function"===typeof a.ga.getAll){d();for(var e=0;e<q.length;e++)b(q[e])}else t++,25>t&&(r=Evergage.safeTimeout(c,200))}function d(){if(!k.createTrackingObject||
!0!==p)for(var b=a.ga.getAll(),c=0;c<b.length;c++){var e=b[c].get("trackingId");if("string"===typeof e&&e===k.trackingId){ga("create",k.trackingId);p=!0;break}}}function e(a){var b={i:"Impression",c:"Clickthrough",d:"Dismissal"};return b[a]?b[a]:null}function f(a,b,c){var d="${campaignName} ${campaignId} ${experienceName} ${experienceId} ${userGroup} ${actionName} ${currentDate}".split(" ");try{var e=a.match(new RegExp(/(\$\{[^}]+\})/g));if(null==e)return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Google Analytics: Could not find matching event variables in string: "+
a),a;if(null==b&&B(c))1===e.length&&(a=a.replace(e[0],c));else if(null!==b)for(c=0;c<e.length;c++){var l=e[c],g=null;if("${currentDate}"===l){var h=new Date,k=h.getDate(),m=h.getMonth()+1,n=h.getFullYear();10>k&&(k="0"+k);10>m&&(m="0"+m);g=n+""+m+""+k;a=a.replace(l,g)}else if(-1!==ajq.inArray(l,d)){var p=l.slice(2,-1),g=b[p];"userGroup"===p&&"string"===typeof g&&(g=g!==Ka.Control?"Test":Ka.Control);a=a.replace(l,g)}else ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Invalid dynamic variable ["+
l+"]. Removing."),a=a.replace(l,"")}}catch(q){K(q,"ga-replaceDynamicEventVariables"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception trying to replace dynamic variables in an event property.")}return a}function g(a,b){try{var c=b.googleAnalyticsConfig,d,e;switch(c.bucketType){case "Dimension":d="dimension"+c.dimensionIndex;e=c.dimensionValue;break;case "Metric":d="metric"+c.metricIndex,e=c.metricValue}var l=f(e,b);d&&e&&null!==l?a[d]=l:ajq.log.shouldLog("DEBUG")&&
console.log("Evergage: [Google Analytics] Invalid dimension, metric or value event dynamic syntax.")}catch(h){K(h,"ga-addCustomDimensionOrMetricToEvent"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception when adding a custom dimension or metric to the GA event.")}}function h(a,b){var c=null;switch(a){case "Impression":B(b.statTypeImpressionFormat)&&(c=b.statTypeImpressionFormat);break;case "Clickthrough":B(b.statTypeClickthroughFormat)&&(c=b.statTypeClickthroughFormat);
break;case "Dismissal":B(b.statTypeDismissalFormat)&&(c=b.statTypeDismissalFormat)}return c?c:a}var k=null,m=!1,n=null,p=!1,q=[],r=-1,t=0;return{init:function(a){"object"===typeof a&&a.enabled&&(k=a,k.prependCommandsWithTrackerName&&B(k.trackerName)&&""!==k.trackerName&&(n=k.trackerName),m=!0,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Initialized with configuration:",k))},isInitialized:function(){return null!=k&&m},handleActionEvent:function(a,c,d,e){if(k&&k.actionEventOptions.enabled){d=
k.actionEventOptions;e=!1;for(var l=0;l<c.length;l++)".pv"===c[l].name&&(e=!0);var g={hitType:"event",nonInteraction:1,eventCategory:"Action",eventAction:e?"PageLoad":"Action"};if(B(a)){g.eventLabel=a;B(d.categoryFormat)&&(g.eventCategory=d.categoryFormat);e&&B(d.pageLoadActionFormat)&&(g.eventAction=d.pageLoadActionFormat);!e&&B(d.pageActionFormat)&&(g.eventAction=d.pageActionFormat);c=null;B(d.labelFormat)&&(c=f(d.labelFormat,null,a),B(c)&&(g.eventLabel=c));var h=null!=n?n+".send":"send";ajq.log.shouldLog("TRACE")&&
console.log("Evergage: [Google Analytics] Tracking action event with sendCommand ["+h+"]",g);b(function(){ga(h,g)})}else ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Not tracking action event as an evergage action name could not be found.")}},handleCampaignEvent:function(a,c,d){try{if(k&&k.campaignEventOptions.enabled){var l=d.googleAnalyticsConfig||{};if("object"!==typeof l||l.trackingEnabled||"allCampaigns"===k.campaignEventOptions.trackingLevel)if("Testing"!==d.campaignState&&
"Disabled"!==d.campaignState||!0===k.campaignEventOptions.testingModeEventsEnabled){var m=e(c),p={hitType:"event",nonInteraction:1,eventCategory:"Experience",eventAction:m,eventLabel:d.campaignName+" ["+d.experienceName+"]"};c=a=null;"object"===typeof l&&l.overrideEventConfigDefaults?(c=h(m,l),a={eventCategory:l.categoryFormat,eventAction:c,eventLabel:l.labelFormat}):(c=h(m,k.campaignEventOptions),a={eventCategory:k.campaignEventOptions.categoryFormat,eventAction:c,eventLabel:k.campaignEventOptions.labelFormat});
if(null!=a)for(var q in a)if(a.hasOwnProperty(q)){var r=a[q];null!=r&&(r=f(r,d),B(r)&&(p[q]=r))}l&&l.bucketsEnabled&&g(p,d);var t=null!=n?n+".send":"send";ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Tracking campaign stat event with sendCommand ["+t+"]",p);b(function(){ga(t,p)})}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for campaign["+d.campaignId+"] experience["+d.experienceId+"] - reason: campaign is in test mode. Change this settings in google analytics setup.");
else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for this campaign beacause the dataset campaign tracking level is set to [specific campaigns] and this campaign does not have GA events enabled.")}}catch(u){ajq.log.shouldLog("WARN")&&console.log("Evergage: [Google Analytics] Could not track campaign stat event due to error: ",u)}}}}(window),sh=function(){function a(){K(Error("Action rate limit exceeded, halting track action"),"ActionRateLimiter");ajq.log.shouldLog("WARN")&&
console.log("Evergage: Action Rate Limiter triggered, halting track action calls.");c=!0}var b=[],c=!1;return{canTrackAction:function(d){if(c)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Action Rate Limiter previously triggered. Track action disabled."),!1;var e=Date.now();b.push({name:d,time:e});for(var f=0,g=0,h=Math.max(y.actionRateLimiterConfig.globalTimeRange,y.actionRateLimiterConfig.perActionTimeRange),k=b.length-1;0<=k;k--){if(!(e-b[k].time<h)){b.splice(0,k+1);break}if(e-b[k].time<
y.actionRateLimiterConfig.globalTimeRange&&(f++,f>y.actionRateLimiterConfig.globalLimit)||e-b[k].time<y.actionRateLimiterConfig.perActionTimeRange&&b[k].name==d&&(g++,g>y.actionRateLimiterConfig.perActionLimit))return a(),!1}return!0}}}(),ng=["'",'"'],oh={validateCreditCard:Ug};return{Scope:{Request:"request",Page:"page",Visit:"visit"},ExperienceJS:{DelayImpression:"DelayImpression"},executePageConfiguration:Be,executePageConfigurationWithoutPageLoadAction:Of,removePageActionListeners:Xe,removeAllListeners:eg,
removeCustomEventListeners:function(){Yb=[];Zb=[];zc=[];Ec=[]},getCustomEventListeners:function(){return{actionListeners:Yb,experienceListeners:Zb,campaignResponseListeners:zc,displayMessageRetryListeners:Ec}},cancelAllPendingMessages:lc,getVersion:function(){return 13},registerSiteConfigExecution:function(){ajq(document).ready(Ae)},displayMessageBundle:function(a,b,c){a=ajq.extend({},a,{rulesByType:jc(a.rules||[])});Ua(a,b,c)},displaySiteConfigMessages:function(){},displayMessagesFromTwoWayResponse:Jc,
sendStoredRequests:bg,logRequest:hg,hideAllMessages:Eb,hideMessage:bd,hideBundle:Ta,destroyMessage:function(a,b){var c=Sa(a);if(0===c.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Message ["+a+"] does not exist."),b&&b(!1);else{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Destroying message ["+a+"]...");var d=Bb[a];d&&b&&(d.destroyCallback=function(){b(!0)});c.qtip("hide");c.qtip("destroy");!d&&b&&b(!0)}},setDebug:function(a){!0===a&&this.setLoggingLevel("TRACE")},setOption:function(a,
b){var c={};c[a]=b;Ng(c)},setOptions:Ng,setAffinityId:function(a){if(B(a)&&/^[0-9a-zA-Z]{1,3}$/.exec(a)){var b=Oa();b.affinityId=a;ob(b)}else ajq.log.shouldLog("WARN")&&console.log("Evergage: affinityId must be a 1-3 character base-62 string.")},setAnonymousId:function(a){wg(a)},getAnonymousId:function(){return Oa().uuid},getVisitorId:function(){return Oa().uuid},getVisitorInfo:function(){return Oa()},setTrackerUrl:function(a){sa=a},getTrackerUrl:function(){return sa},setCdnHost:function(a){rc=a},
getCdnHost:function(){return rc},setTwoWayEnabled:function(a){},getTwoWayEnabled:function(){return Zd},getConfigReceiverPath:function(){return"/jsreceiver"},setAccount:function(a){la!==a&&(la=a,O())},setApptegicAccount:function(a){la!==a&&(la=a,O())},setEvergageAccount:function(a){la!==a&&(la=a,O())},getAccount:function(){return la},getApptegicAccount:function(){return la},getEvergageAccount:function(){return la},setUser:function(a){Mb("userId",a)},getUser:function(){return U.userId},setUserId:function(a){Mb("userId",
a)},getUserId:function(){return U.userId},setAccountId:function(a){Mb("company",a)},getAccountId:function(){return U.company},setLoggingLevel:function(a){null===Oc()?ajq.log.setLoggingLevel(a):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Logging level already set from URL or cookie - ignoring call to setLoggingLevel().")},processLoggingLevelSettings:function(){Oc();ajq.log.flushStoredMessages();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing logging level settings...")},setPerformanceTestLevel:function(a){null==
Ed()?ajq.log.setPerformanceTestLevel(a):ajq.log.shouldLog("DEBUG")&&console.log("Evergage performance test level already set from URL or local storage, ignoring custom call to setPerformanceTestLevel().")},processPerformanceTestLevelSettings:function(){Ed();ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing performance logging level settings...")},setEncryptedUser:function(a){Pa("_e",a,Evergage.Scope.Page)},setEncryptedFields:function(a){Pa("_ef",a,Evergage.Scope.Request)},setCompany:function(a){Pa("company",
a,Evergage.Scope.Visit)},setAccountType:function(a){Pa("accountType",a,Evergage.Scope.Page)},setDataset:function(a){za!==a&&(za=a,O())},getDataset:function(){return za},setTrackAnonymous:function(a){y.trackAnonymous=a},getTrackAnonymous:function(){return y.trackAnonymous},setUseSiteConfig:function(a){y.useSiteConfig=a;h()},getUseSiteConfig:function(){return y.useSiteConfig},setTrackUnknownPages:function(a){y.trackUnknownPages=a},getTrackUnknownPages:function(){return y.trackUnknownPages},setTrackMessageStats:function(a){y.trackMessageStats=
a},getTrackMessageStats:function(){return y.trackMessageStats},setWaitOnPageLeave:function(a){"boolean"===typeof a&&(Ye=a)},getWaitOnPageLeave:function(){return Ye},setNotifyIntegratorOfEvents:function(a){y.notifyIntegratorOfEvents=a},getNotifyIntegratorOfEvents:function(){return y.notifyIntegratorOfEvents},sendEvent:function(a,b){return Ia(a,{},b)},getCurrentUrl:qa,shouldTreatHashChangeAsPageLoad:function(){return y.treatHashChangeAsPageLoad},setCustomData:function(a,b){r(a)?y.customFields=a:(y.customFields||
(y.customFields=[]),y.customFields[a]=b)},getCustomData:function(){return y.customFields},setCustomVariable:function(a,b,c){this.setCustomField(a,b,c)},setCustomField:Pa,setCustomFields:function(a,b){if(null==a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: the first parameter of setCustomFields is null, but should be an object."),!1;if("object"!==typeof a)return ajq.log.shouldLog("WARN")&&console.log("Evergage: setCustomFields requires the first parameter to be of type object, but instead was ["+
typeof a+"]."),!1;p(b)||(b=Evergage.Scope.Request);C(a,function(a,c){a=ajq.trim(a);""!==a&&0!==a.indexOf("_")&&0!==a.indexOf(".")&&Pa(a,c,b)});return!0},setUserField:function(a,b,c){Pa(a,b,c,"user")},setAccountField:function(a,b,c){Pa(a,b,c,"account")},saveCustomVariables:Cb,resetCustomFields:Jd,resetCustomVariables:Jd,getCustomField:pe,getCustomVariable:pe,deleteCustomField:Ze,deleteCustomVariable:Ze,setLinkTrackingTimer:function(a){a&&500<=a&&(y.trackerDelay=a)},setDownloadExtensions:function(a){y.downloadExtensions=
a},addDownloadExtensions:function(a){y.downloadExtensions||(y.downloadExtensions="");y.downloadExtensions+="|"+a},setRunningInMobileApp:function(a){try{"boolean"===typeof a&&(y.runningInMobileApp=a)}catch(b){K(b,"setRunningInMobileApp")}},getRunningInMobileApp:function(){return y.runningInMobileApp},setTrafficSourceIndex:function(a){try{var b=null,b=B(a)?parseInt(a):a;P(b)&&(y.trafficSourceIndex=b)}catch(c){K(c,"setTrafficSourceIndex")}},getTrafficSourceIndex:function(){return y.trafficSourceIndex},
setTestModeEnabledForPageLoad:function(a){try{if("boolean"===typeof a||"string"===typeof a)y.testModeEnabledForPageLoad=a}catch(b){K(b,"setTestModeEnabledForPageLoad")}},setDisableCampaignStatTracking:function(a){try{"boolean"===typeof a&&(y.disableCampaignStatTracking=a)}catch(b){K(b,"setDisableCampaignStatTracking")}},setDomains:function(a){y.hostsAlias=B(a)?[a]:a;y.hostsAlias.push(gd)},setIgnoreClasses:function(a){y.ignoreClasses=B(a)?[a]:a},setRequestMethod:function(a){"GET"===a||"POST"===a?(ajq.log.shouldLog("INFO")&&
console.log("Evergage: Setting request method to "+a+", previous value: "+y.requestMethod),y.requestMethod=a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Ignoring unknown request method "+a)},setReferrerUrl:function(a){y.referrerUrl=a},setCustomUrl:function(a){var b=Fh;if(!E(a).protocol)if("/"===a.slice(0,1))b=E(b),a=b.protocol+"://"+b.host+(b.port?":"+b.port:"")+a;else{var b=db(b),c;0<=(c=b.indexOf("?"))&&(b=b.slice(0,c));(c=b.lastIndexOf("/"))!==b.length-1&&(b=b.slice(0,c+1));a=b+a}y.pageUrl=
a},setDocumentTitle:function(a){y.pageTitle=a},setClientIp:function(a){var b;a:{if("string"===typeof a&&(b=a.split("."),4==b.length)){for(var c=0;4>c;c++){var d=parseInt(b[c]);if(0>d||255<d){b=!1;break a}}if(4==c){b=!0;break a}}b=!1}return b?(y.clientIp=a,!0):!1},setDownloadClasses:function(a){y.downloadClasses=B(a)?[a]:a},setLinkClasses:function(a){y.linkClasses=B(a)?[a]:a},setMessageLinkDecorator:function(a){Q(a)?y.messageLinkDecorator=a:ajq.log.shouldLog("WARN")&&console.log("Evergage: messageLinkDecorator must be a function.")},
discardHashTag:function(a){y.discardHashTag=a},setTreatHashChangeAsPageLoad:function(a){y.treatHashChangeAsPageLoad=a},setCookieDomain:function(a){a=Xa(a);y.cookieDomain!==a&&(y.cookieDomain=a,O())},setCookiePath:function(a){y.cookiePath!==a&&(y.cookiePath=a,O())},getCookieName:function(a){"string"!==typeof a&&(a="a");return wa(a)},getOldCookieName:function(a){"string"!==typeof a&&(a="a");return Ha(a)},setVisitorCookieTimeout:function(a){X.anonymousId.timeoutMillis=1E3*a},setSessionCookieTimeout:function(a){X.session.timeoutMillis=
1E3*a},setDoNotTrack:function(a){y.doNotTrack=a&&navigator.doNotTrack},addListener:function(a,b){b?(ea(a,"mouseup",Db,!1),ea(a,"mousedown",Db,!1)):ea(a,"click",Db,!1)},enableLinkTracking:function(){K(Error("enableLinkTrackingCalled"),"enableLinkTrackingCalled");ajq.log.shouldLog("WARN")&&console.log("Evergage: EnableLinkTracking is deprecated and no longer functions.  This API will be removed in a future relase.")},trackLink:function(a,b,c){Ca(a,b,c)},trackAction:function(a,b,c,d){a=a||y.pageTitle;
Ia(a,b,c,d)},trackEvergageMessageForm:function(a,b,c){a.stopImmediatePropagation();a.preventDefault();var d=ajq(a.target).closest("form");if(0===d.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Cannot find form to track.");else{var e=d.attr("name");if(null===e||""===e)ajq.log.shouldLog("WARN")&&console.log("Evergage: Form name must not be empty for trackEvergageMessageForm.");else{var f=d.serializeArray(),f=f.concat(xh(d));"input"==ajq(a.target).get(0).tagName.toLowerCase()&&"submit"==
ajq(a.target).attr("type").toLowerCase()&&""!==ajq(a.target).attr("name")&&""!==ajq(a.target).attr("value")&&f.push({name:ajq(a.target).attr("name"),value:ajq(a.target).attr("value")});for(a=0;a<f.length;a++)"userId"==f[a].name||"company"==f[a].name?(Mb(f[a].name,f[a].value),fb()):Pa(f[a].name,f[a].value,Evergage.Scope.Request);b||bd(d,c);if(c)Ia(e,{},!0,!1);else{var g=$d(5);rf[g]=setTimeout(function(){Ia(e,{},!0,!1);delete rf[g]},100)}}}},setShowPoweredBy:function(a){!0===a&&(jf=!0)},retrieveMessages:function(a,
b){if(!0!==G.editModeVisualEditor){var c=[];M(c,"_ne");a||!0!==y.trackUnknownPages||(a=nb(Fa()));a&&M(c,"action",a);pb(c,b);M(c,"url",Ra(qa()));M(c,"title",nb(Fa()));Gd();c=Hb(c);Pb(c)}},trackMessageStat:function(){},addExperienceListener:function(a){"function"===typeof a?Zb.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Experience listener must be of type function.")},addActionListener:function(a){"function"===typeof a?Yb.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Action listener must be of type function.")},
addDisplayMessageRetryListener:function(a){"function"===typeof a?Ec.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Display Message Retry Listener must be of type function.")},addCampaignResponseListener:function(a){"function"===typeof a?zc.push(a):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Response Listener must be of type function.")},init:f,isValidToInit:function(){return Vc()&&null==ee?!1:!0},initEvergageTrackerUrl:H,testing:function(){return"undefined"!==typeof window.EvergageUnitTestingMode&&
!0===window.EvergageUnitTestingMode?(Wb=!0,{extendSessionTimeoutAndReloadVisitData:va,getLocalStorageKey:ra,getLocalUserInfo:function(){return tc},options:y,persistUserInfo:jb,storageInfo:X,writeLocalStorage:ma,combineDuplicateForms:sg,parseLaxJson:cd,formatMoney:mb,renderItemHtml:Fb,renderItemBlock:tb,parseItemBlockSettings:oc,getOldCookieName:Ha,handleTwoWayResponse:Ld,getJsonCookie:T,beforeUnloadHandler:bb,handleHashChange:Tb,sendPageLoadTiming:ef,setupLoadTimeInterval:Pf,setTwReceiverTiming:function(a){hd=
a},validateCreditCard:Ug,getTwoWayReceiverPerformance:ad}):{}},findOrCreateInsertionTarget:ye,removeBeaconAndListenersFromPage:e,haltAllLoadingAndTracking:function(){eb=!0},handleUpdatedSiteConfig:Kf,namePage:function(a){if(!V(a)&&"string"===typeof a){var b={};!ajq.isEmptyObject(G)&&qe(b,!1)?(a=Jf(G)||a,ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Send Event"),b[".pv"]="",vb=a,zg(b),Ia(a,b),R.hasBeenFired=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):
R.actionName=a}},sha1:m,removeCookie:aa,setCurrentPageLocale:function(a){fe=a},viewItem:function(a,b,c){rd(!0);Aa=a;qc=c;v();Ya="View Item";R.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),"object"===typeof c&&(b[".itemSku"]=evergageJSON.stringify(c)),_aaq.push(["trackAction","View Item",b,b.clickEvent]))},stopViewingItem:function(){Ya=Aa=null;rd(!0)},viewItemDetail:function(a,b,c){Aa=a;qc=c;rd(!0);v();Ya="View Item Detail";R.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),
"object"===typeof c&&(b[".itemSku"]=evergageJSON.stringify(c)),_aaq.push(["trackAction","View Item Detail",b,b.clickEvent]))},viewCategory:function(a,b){Aa=a;Ya="View Category";R.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),_aaq.push(["trackAction","View Category",b,b.clickEvent]))},viewTag:function(a,b){Aa=a;Ya="View Tag";R.hasBeenFired&&(b=b||{},b[".item"]=evergageJSON.stringify(a),_aaq.push(["trackAction","View Tag",b,b.clickEvent]))},addToCart:function(a,b,c){c=c||{};c[".lineItem"]=
evergageJSON.stringify(Og(a));c[".order"]=evergageJSON.stringify(b);_aaq.push(["trackAction","Add To Cart",c,c.clickEvent])},viewCart:function(a,b){b=b||{};b[".order"]=evergageJSON.stringify(a);_aaq.push(["trackAction","View Cart",b,b.clickEvent])},purchase:function(a,b){b=b||{};a.lineitems&&(a.lineItems=a.lineitems,delete a.lineitems);b[".order"]=evergageJSON.stringify(Eh(a));_aaq.push(["trackAction","Purchase",b,b.clickEvent])},review:function(a,b,c){c=c||{};c[".item"]=evergageJSON.stringify(td(a));
c[".review"]=evergageJSON.stringify(b);_aaq.push(["trackAction","Review",c,c.clickEvent])},share:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(td(a));_aaq.push(["trackAction","Share",b,b.clickEvent])},comment:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(td(a));_aaq.push(["trackAction","Comment",b,b.clickEvent])},favorite:function(a,b){b=b||{};b[".item"]=evergageJSON.stringify(td(a));_aaq.push(["trackAction","Favorite",b,b.clickEvent])},ItemType:ae,detectFormField:Fg,detectFormFields:tf,
sendFormEvent:function(a,b,c){var d=null;p(c)||(c=500);for(var e=0;e<pd.length;e++)ba(pd[e].match).get(0)===a&&(d=pd[e]);if(null==d)return!1;tf(d);d.name&&(!1===b?Ia(d.name):Gg(d.name,{},c))},sendActionEventOnNextPage:Gg,hideSections:function(){if(y.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==Qd){var a="";if(0!==arguments.length){for(var b=0;b<arguments.length;b++)if("string"===typeof arguments[b])try{"body"!==
arguments[b]&&"html"!==arguments[b]&&(document.querySelector(arguments[b]),""!==a&&(a+=", "),a+=arguments[b])}catch(c){Qc(c,"hideSectionsInvalidCSSSelector")}if(""!==a){var a=a+" { visibility: hidden !important; }",b=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";d.setAttribute("class","evergagePersonalizationSections");d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a));a=2500;P(arguments[arguments.length-1])&&
(a=arguments[arguments.length-1]);clearTimeout(window.evergageReshowPersonalizedSectionsTimeout);window.evergageReshowPersonalizedSectionsTimeout=setTimeout(function(){ke=!0;Ac=(new Date).getTime();fd()},a);b.appendChild(d);Qd=!0}}}},hidePages:function(){if(y.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==gf&&0!==arguments.length)for(var a=arguments[arguments.length-1],b=0;b<arguments.length;b++){var c=
!1,d=arguments[b];if("object"===typeof d){var e=d.campaignId,f=d.experienceId,d=Dh(d.pageUrlCampaignRule);d.inclusions.exists&&d.pathIsExactly.exists&&(c=d.inclusions.matched&&d.pathIsExactly.matched);!d.inclusions.exists&&d.pathIsExactly.exists?c=d.pathIsExactly.matched:d.inclusions.exists&&!d.pathIsExactly.exists&&(c=d.inclusions.matched);d.exclusions.matched&&(c=!1);if(c){Ah(a);ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding page for anticipated redirect. campaignId ["+e+"] experienceId ["+
f+"]");break}}}},findAndMovePageTopOrBottomElements:function(a,b){var c=[],d=[],e=[],f=ajq("*").not("#aptToolbar-container").not("#apptegicMessageContainerForToolbarEnabledPages").not("#evergageMessageContainerForTestMode").not(".context-menu-list.aptb.context-menu-root").not("#context-menu-layer").not(".apptegic-field-tooltip").not(".apptegic-click-tooltip").not("#evergage-tooltip-amb_TEST_").not("[id^\x3devergage-tooltip-amb]").not(".evergage-tribes *"),g=!1;if(!0===ajq.browser.chrome){var h=parseInt(ajq.browser.version);
h&&P(h)&&(g=51<=h)}for(h=0;h<f.length;h++){var k=f.get(h),m;if((m="auto"!=ajq(k).css(a)&&-1==ajq(k).css(a).indexOf("%"))&&!(m="fixed"==ajq(k).css("position"))){m=k;var n=a;m="absolute"==ajq(m).css("position")&&null!=ajq(m).parent().get(0).tagName&&"body"==ajq(m).parent().get(0).tagName.toLowerCase()&&"0px"==ajq(m).css(n)}if(m){if("bottom"===a&&(!0===ajq.browser.mozilla||g)&&(m=parseFloat(ajq(k).css(a)),isNaN(m)||m>b+10||0>m))continue;"top"==a&&null==k.originalTopValue&&"none"!=ajq(k).css("display")&&
(k.originalTopValue=Qa(ajq(k).css(a)));"bottom"==a&&null==k.originalBottomValue&&"none"!=ajq(k).css("display")&&(k.originalBottomValue=Qa(ajq(k).css(a)));"top"==a?c.push(k):d.push(k)}if(m="none"!=ajq(k).css("background-image")&&"inherit"!=ajq(k).css("background-image"))m=k,(m="fixed"==ajq(m).css("background-attachment")&&null!=lb(m)&&ue(lb(m),"px"))||(m=k,m="body"==ajq(m).get(0).tagName.toLowerCase()&&null!=lb(m)&&(ue(lb(m),"px")||"0%"==lb(m)));m&&(null==k.originalBackgroundPositionYValue&&(k.originalBackgroundPositionYValue=
Qa(lb(k))),e.push(k))}for(f=0;f<("top"==a?c.length:d.length);f++)g="top"==a?c[f]:d[f],"none"!=ajq(g).css("display")&&("top"==a&&(null==g.originalTopValue&&(g.originalTopValue=Qa(ajq(g).css(a))),g.originalTopValue>b+Qa(ajq(g).css(a))?ajq(g).css(a,g.originalTopValue):ajq(g).css(a,b+Qa(ajq(g).css(a)))),"bottom"==a&&(null==g.originalBottomValue&&(g.originalBottomValue=Qa(ajq(g).css(a))),g.originalBottomValue>b+Qa(ajq(g).css(a))?ajq(g).css(a,g.originalBottomValue):ajq(g).css(a,b+Qa(ajq(g).css(a)))));for(f=
0;f<e.length;f++)g=e[f],"none"!=ajq(g).css("display")&&"top"==a&&(null==g.originalBackgroundPositionYValue&&(g.originalBackgroundPositionYValue=Qa(lb(g))),g.originalBackgroundPositionYValue>b+Qa(lb(g))?Cf(g,g.originalBackgroundPositionYValue.toString()+"px"):Cf(g,(b+Qa(lb(g))).toString()+"px"))},setMessageAsDisplayedForReshowPersonalizationSections:function(a){if(0===wb.length)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not bothering to attempt to reshow personalized sections as it seems that this processing already happened.");
else{for(var b=0;b<wb.length;b++)if("amb"+wb[b]===a){wb.splice(b,1);break}0===wb.length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Reshowing personalized sections due to all applicable messages for the first twreceiver response becoming visibile."),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,xb=!1,Ub())}},matchesPageCssSelectorRule:ve,buildRulesByType:jc,detectPageName:Jf,trackClickthrough:function(a,b,c){try{if("string"===
typeof a){var d=Bb[a];"object"===typeof d?oa(d,b,c):ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find message object given the messageId ["+a+"].")}else if("object"===typeof a)if(a.id&&a.experienceId)oa(a,b,c);else{var e=ajq(a).closest(".evergage-tooltip.evergage-qtip");if(1===e.length){var f=e.qtip("api");f&&f.options&&f.options.bundle&&oa(f.options.bundle,b,c)}}}catch(g){K(g,"trackClickthrough")}},trackExperienceClickthrough:kb,bindControlClickthrough:function(a,b){ajq(a).unbind("click.egControl"+
b.experienceId);ja(a,function(){kb(b)},null,"click.egControl"+b.experienceId)},personalizedContentHideTimedOut:function(a){ke=!0;Ac="number"===typeof a&&0<a?a:(new Date).getTime()},personalizedSectionsHaveBeenHidden:function(){Qd=!0},getDisabledQtipWindowScroll:function(){return y.disableQtipWindowScroll},getUserIdRestApiParams:function(){var a={};a.userId=U.userId;if(!a.userId){var b=U._persistedUserId;b&&(a.persistedUserId=b)}a.userId||a.persistedUserId||!y.trackAnonymous||(a.anonymous=!0,b=Oa(),
a.userId=b.uuid,b.affinityId&&(a.affinityId=b.affinityId));return a},safeBlur:function(a,b,c){return ja(a,b,c,"blur")},safeChange:function(a,b,c){return ja(a,b,c,"change")},safeClick:function(a,b,c){return ja(a,b,c,"click")},safeDblclick:function(a,b,c){return ja(a,b,c,"dblclick")},safeFocus:function(a,b,c){return ja(a,b,c,"focus")},safeFocusin:function(a,b,c){return ja(a,b,c,"focusin")},safeFocusout:function(a,b,c){return ja(a,b,c,"focusout")},safeHover:function(a,b,c){return ja(a,b,c,"hover")},
safeKeydown:function(a,b,c){return ja(a,b,c,"keydown")},safeKeypress:function(a,b,c){return ja(a,b,c,"keypress")},safeKeyup:function(a,b,c){return ja(a,b,c,"keyup")},safeLoad:function(a,b,c){return ja(a,b,c,"load")},safeMousedown:function(a,b,c){return ja(a,b,c,"mousedown")},safeMouseenter:function(a,b,c){return ja(a,b,c,"mouseenter")},safeMouseleave:function(a,b,c){return ja(a,b,c,"mouseleave")},safeMousemove:function(a,b,c){return ja(a,b,c,"mousemove")},safeMouseout:function(a,b,c){return ja(a,
b,c,"mouseout")},safeMouseover:function(a,b,c){return ja(a,b,c,"mouseover")},safeReady:function(a,b,c){return ja(a,b,c,"ready")},safeResize:function(a,b,c){return ja(a,b,c,"resize")},safeScroll:function(a,b,c){return ja(a,b,c,"scroll")},safeSelect:function(a,b,c){return ja(a,b,c,"select")},safeSubmit:function(a,b,c){return ja(a,b,c,"submit")},safeTouchstart:function(a,b,c){return ja(a,b,c,"touchstart")},safeTouchmove:function(a,b,c){return ja(a,b,c,"touchmove")},safeTouchend:function(a,b,c){return ja(a,
b,c,"touchend")},safeTouchCancel:function(a,b,c){return ja(a,b,c,"touchcancel")},safeTimeout:function(a,b){return ja(b,a,"timeout")},safeInterval:function(a,b){return ja(b,a,"interval")},buildAccountParameterIfNecessary:ic,buildUserParams:Mc,safeBind:ja,clearUser:vg,clearCompany:Pg,logException:Qc,sendException:K,setCampaignDisplayDisabled:function(a){jg=a},util:{getMetaContent:function(a){a=ajq("meta[name\x3d'"+a+"']:first");return 0<a.length?ajq.trim(ajq("\x3cdiv/\x3e").html(a.attr("content")).text()):
null},getOpenGraphContent:function(a){a=ajq("meta[property\x3d'og:"+a+"']:first");return 0<a.length?ajq.trim(a.attr("content")):null},getItemProp:function(a){a=ajq("[itemprop\x3d'"+a+"']:first");if(0<a.length){var b=ajq.trim(a.text());b||(b=ajq.trim(a.attr("content")));return b}return null},getCurrencyValue:function(a){return a&&"string"===typeof a?(a=parseFloat(ajq.trim(a).replace(/[^0-9.]+/g,"")),isNaN(a)?null:a):null},getParameterByName:function(a,b){"undefined"===typeof b&&(b=location.search);
a=a.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(b);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},getPathnameFromLocation:zf,getPathname:Qg,extractFirstGroup:Rg,getLastPathComponent:Sg,qualifyUrl:Tg,removeQueryString:function(a){if(!a)return"";var b=document.createElement("a");b.href=a;a=zf(b);"/"!==a.charAt(0)&&(a="/"+b.pathname);return[b.protocol,"//","http:"===b.protocol&&"80"===b.port||"https:"===b.protocol&&"443"===b.port?
b.hostname:b.host,a].join("")},getThisPageCanonicalUrl:function(){return ajq("link[rel\x3dcanonical]").attr("href")},getLastPathComponentWithoutExtension:function(a){a=Sg(Tg(a));var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b):a},getAllTextBetween:function(a,b){var c=ajq(a)[0],d=ajq(b)[0];if(null==d)return"";for(var e="";c!=d;){if(null==c)return"";3==c.nodeType?e+=c.nodeValue||"":1==c.nodeType&&(e+=ajq(c).text());c=c.nextSibling}return ajq.trim(e)},getCurrentPageItem:function(){return Aa},setCurrentPageItem:function(a){Aa=
a},getCurrentPageLoadAction:function(){return vb},setCurrentPageLoadAction:function(a){yg(a)},runWhenReady:function(a,b,c,d){function e(){try{!0===a()?b():(f++,f<=d&&Evergage.safeTimeout(e,c))}catch(g){K(g,"runWhenReady")}}null==c&&(c=500);null==d&&(d=10);var f=0;e()}},haltPageLoadEvent:Ag,sendPageLoadEventWhenTrue:function(a,b){if(!0===R.hasBeenFired)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."),!1;if("function"!==typeof a)return ajq.log.shouldLog("WARN")&&
console.log("Evergage: Data collection parameter must be of type function but is ["+typeof a+"]."),!1;if("number"!==typeof b||isNaN(parseInt(b)))return ajq.log.shouldLog("WARN")&&console.log("Evergage: Data collection timeout must be of type number but is ["+typeof b+"]."),!1;Ag();R.maxTimeout=b;R.timerStart=(new Date).getTime();R.timeoutDuration=100;Bg(a,!0)},hasPageLoadEventBeenFired:function(){return R.hasBeenFired},parseLaxJson:cd,renderItemHtml:Fb,getTimeSincePageInitForVariable:function(a){return"object"===
typeof window.performance&&"object"===typeof window.performance.timing&&"number"===typeof window.performance.timing.navigationStart&&0<window.performance.timing.navigationStart&&"number"===typeof window.performance.timing[a]&&0<window.performance.timing[a]?window.performance.timing[a]-window.performance.timing.navigationStart:0},loadTimeValuesReadyToSend:function(){var a=!0;if(vc){var b=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd");if(null==b||0>=b)a=!1}wc&&(b=Evergage.getTimeSincePageInitForVariable("loadEventEnd"),
null==b||0>=b)&&(a=!1);return a},renderItemBlockMessageWithExternalPromotedItems:function(a,b,c){try{a.promotedItems=nc(b,c),Nd(a,!1),Ua(a)}catch(d){Evergage.sendException(d,"renderItemBlockMessageWithExternalPromotedItems")}},formatMoney:mb,determineUserLocale:function(){return navigator.languages&&1<=navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage},setUserLocale:function(a){og=a},trackUnsubscribe:function(a){ajq.isArray(a)&&
(a=a.join());var b=Lc([]);M(b,".te_u");M(b,".te");M(b,".te_ua");M(b,"url",Ra(qa()));M(b,"title",nb(Fa()));hc(b,".bv",13);ua(a)&&p(a)&&M(b,".te_ucat",a);Gb(b,"/unsubscribe")}}}();window.Evergage=Evergage;"number"!==typeof window.evergageReshowPersonalizedSectionsTimeout&&(window.evergageReshowPersonalizedSectionsTimeout=-1);window.Apptegic=Evergage;window.ApptegicTwoWay=Evergage;(function(){function h(){return{push:q}}function q(f,h){if(2<arguments.length||2==arguments.length&&null!=arguments[1]&&
"[object Array]"===Object.prototype.toString.call(arguments[1])){for(var D=!0,v=0;v<arguments.length;v++)D=D&&q(arguments[v]);return D}D=function(f){this.name="Bad Syntax";this.message=f};D.prototype.toString=function(){return"["+(this.name||"unknown")+"] "+(this.message||"no description")};if(!f||"[object Array]"!==Object.prototype.toString.call(f))throw new D("Evergage: [ERROR] - Bad Syntax - item in _aaq array ["+f+"] must be an array.");if(0===f.length)throw new D("Evergage: [ERROR] - Bad Syntax - array in _aaq array must contain at least one item.");
var L=[];"priorityInitFunctions"==h?L="setEvergageAccount setApptegicAccount setAccount setDataset setOption setOptions setCookieDomain setCookiePath setTrackerUrl setCdnHost".split(" "):"loggingFunctions"==h?L=["setLoggingLevel"]:"identityInitFunctions"==h&&(L=["setAnonymousId"]);D=f[0];v=1<f.length?f.slice(1):[];if("string"===typeof D||D instanceof String){if(0<L.length&&-1===ajq.inArray(D,L))return!1;L=Evergage[D]}else L=D;if("function"===typeof L)return null!==h?ajq.log.storeLogMessageUntilLogSettingsAreParsed("INFO",
"Evergage: Executing API function ["+D+"("+v+")]..."):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing API function ["+D+"("+v+")]..."),L.apply(Evergage,v),!0;null!==h?ajq.log.storeLogMessageUntilLogSettingsAreParsed("ERROR","Evergage: [ERROR] - Unknown API function ["+D+"] in _aaq array."):ajq.log.shouldLog("WARN")&&console.log("Evergage: [ERROR] - Unknown API function ["+D+"] in _aaq array.");return!1}if("undefined"!==typeof ajq){var D;"undefined"!==typeof EvergageUnitTestingMode&&!0===
EvergageUnitTestingMode&&Evergage.testing();for(D=0;D<_aaq.length;D++)q(_aaq[D],"priorityInitFunctions")&&(_aaq.splice(D,1),D--);for(D=0;D<_aaq.length;D++)q(_aaq[D],"loggingFunctions")&&(_aaq.splice(D,1),D--);for(D=0;D<_aaq.length;D++)q(_aaq[D],"identityInitFunctions")&&(_aaq.splice(D,1),D--);if("object"==typeof window._aaqi)for(D=0;D<window._aaqi.length;D++)q(window._aaqi[D],null);Evergage.processLoggingLevelSettings();Evergage.processPerformanceTestLevelSettings();Evergage.initEvergageTrackerUrl();
for(D=0;D<_aaq.length;D++)q(_aaq[D],null);window._aaq=_aaq=new h;window._aaqi=_aaqi=new h;D=Evergage.isValidToInit();"function"===typeof window.evergageBeforeInit&&!1===window.evergageBeforeInit()&&(D=!1);"undefined"===typeof EvergageUnitTestingMode||!0!==EvergageUnitTestingMode?D?Evergage.init():(ajq.log.shouldLog("INFO")&&console.log("Evergage: Not enough information was provided to initialize the Evergage beacon.  Aborting Evergage beacon init."),Evergage.removeBeaconAndListenersFromPage()):"function"===
typeof window.evergageLoaded&&(D?window.evergageLoaded(!0):(Evergage.removeBeaconAndListenersFromPage(),window.evergageLoaded(!1)))}})();"undefined"!==typeof Evergage&&Evergage?Evergage.cssLazyLoader=function(h,q){function D(f){var h=document.createElement("link");h.href=f;h.rel="stylesheet";h.type="text/css";h.onload=function(){L[f]=!0;Z(f)};h.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)L[f]=!0,Z(f)};document.getElementsByTagName("head")[0].appendChild(h)}
function f(f){return setTimeout(function(){0!=h.length&&"undefined"!==typeof ajq&&Z(f)},750)}function Z(f){-1!=ajq.inArray(f,h)&&h.splice(ajq.inArray(f,h),1);0==h.length&&(!Ba&&Object.keys&&Object.keys(L).length!=v&&"undefined"!==typeof evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: CSS files never registered themselves as being loaded. Showing the messages anyway."),q&&q())}for(var N=[],v=h.length,L={},Ba=!1,ia=0;ia<h.length;ia++){var ka=h[ia];0<=ka.indexOf("\x26timestamp\x3d")&&
(Ba=!0);D(ka);N.push(f(ka))}return N}:"undefined"!==typeof evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: Two-way beacon not found, not loading the css lazy loader.");window.evergageBeaconParseTimeEnd=(new Date).getTime()};